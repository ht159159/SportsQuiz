{"remainingRequest":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\src\\views\\club\\ClubActivityMatchResult.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\src\\views\\club\\ClubActivityMatchResult.vue","mtime":1606980099199},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport back from \"@/components/Botton/back.vue\";\r\nimport { apiGetClubActivityMatchResult } from \"@/api/ClubActivitys.js\";\r\nexport default {\r\n  components: {\r\n    back\r\n  },\r\n  data() {\r\n    return {\r\n      clubId: \"\",\r\n      matchResultObj: [],\r\n      noData: false,\r\n      isLoading: false,\r\n\r\n      // v-infinite-scroll 套件\r\n      busy: false,\r\n      immediate: false,\r\n      indexNum: 1,\r\n      totalPages: undefined,\r\n    };\r\n  },\r\n  created() {\r\n    localStorage.setItem(\"categoryIndex\", 1);\r\n    this.clubId = localStorage.getItem(\"ClubId\");\r\n    this.getMatchResult();\r\n  },\r\n  methods: {\r\n    getMatchResult() {\r\n      let data = {\r\n        index: this.indexNum,\r\n        count: 10,\r\n      };\r\n      this.isLoading = true;\r\n      this.noData = false;\r\n      apiGetClubActivityMatchResult(data, true).then(res => {\r\n        if(Math.abs(res.Code) >= 600) {\r\n          this.noData = true;\r\n          this.isLoading = false;\r\n        } else {\r\n          this.matchResultObj = res.Data.Data;\r\n          this.totalPages = res.Data.TotalPages;\r\n          this.isLoading = false;\r\n          this.noData = false;\r\n        } \r\n      });\r\n    },\r\n    goResultDetail(item) {\r\n      localStorage.setItem(\"AcvtiveId\", item.Id);\r\n      this.$router.push(\"/ActivityMatchResultDetail\");\r\n    },\r\n\r\n    // 無限加載\r\n    load() {\r\n      if (this.indexNum >= this.totalPages) {\r\n\r\n        this.busy = true;\r\n        return;\r\n      }\r\n      this.indexNum++;\r\n      let data = {\r\n        index: this.indexNum,\r\n        count: 10,\r\n      }\r\n      apiGetClubActivityMatchResult(data, true).then(res => {\r\n        res.Data.Data.forEach(el => {\r\n          this.matchResultObj.push(el);\r\n        });\r\n      });\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    localStorage.setItem(\"categoryIndex\", 1);\r\n  }\r\n};\r\n",null]}