{"remainingRequest":"C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\work\\竞猜可换色板\\src\\views\\personalCenter\\History.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\work\\竞猜可换色板\\src\\views\\personalCenter\\History.vue","mtime":1591337937855},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Vue from 'vue';\nimport {\n    Toast\n} from 'vant';\n\nVue.use(Toast);\nimport {\n    apiGetContactUsInfo\n} from '@/api/Appsetting.js';\nimport {\n    apiGetMemberMatchAndUserRank\n} from '@/api/match.js';\nimport back from \"@/components/Botton/back.vue\";\nexport default {\n    name: 'history',\n    components: {\n        back\n    },\n    filters: {\n        state(val) {\n            if (val = '已结算') {\n                return 1\n            } else {\n                return 2\n            }\n        }\n    },\n    data() {\n        return {\n            list: ['普通', '排位', '挑战'],\n            num: 0,\n            imgSrc: '',\n            showImg: false,\n            nomsg: true,\n            noMore: false,\n            noMore1: false,\n            noMore2: false,\n            push: false,\n            push1: false,\n            push2: false,\n            usualList: [], //普通赛列表1\n            rankList: [], //排位赛列表2\n            challageList: [], //挑战赛列表3\n            letfTeam: '',\n            battle: '',\n            rightTeam: '',\n            isLoading: false, //下拉\n            loading: false, //上拉\n            finished: false, //是否已加载完所有数据\n            indexNum: 1,\n            show: true,\n            states: true,\n            states2: false,\n            IndexNum: 1,\n            busy: false,\n            typeNum: 1,\n            typeNum2: 1\n        }\n    },\n    methods: {\n        goBack() {\n            this.$router.go(-1);\n        },\n        getNum(index) {\n            this.num = index;\n            if (this.num == 0) {\n                this.typeNum = 1;\n                this.IndexNum = 1;\n                this.uList();\n            }\n            if (index == 1) {\n                this.typeNum = 2;\n                this.IndexNum = 1;\n                this.rankList.splice(0);\n                this.rList();\n            }\n            if (index == 2) {\n                this.typeNum = 3;\n                this.IndexNum = 1;\n                this.challageList.splice(0)\n                this.cList();\n            }\n        },\n        load() {\n            this.busy = true;\n            let data = {\n                index: this.IndexNum,\n                count: 10,\n                type: this.typeNum, //普通赛\n            }\n            if (data.type == 1) {\n                apiGetMemberMatchAndUserRank(data, true).then(res => {\n                    if (res.Data.length > 7) {\n                        this.push = true;\n                    }\n                    if (res.Data.length == 0) {\n                        this.busy = true;\n                        this.push = false;\n                        this.noMore = true;\n                    } else {\n                        for (let i = 0; i < res.Data.length; i++) {\n                            this.usualList.push(res.Data[i])\n                            this.busy = false;\n                        }\n                        this.IndexNum++;\n                    }\n                })\n            } else if (data.type == 2) {\n                apiGetMemberMatchAndUserRank(data, true).then(res => {\n                    for (let i = 0; i < res.Data.length; i++) {\n                        this.rankList.push(res.Data[i])\n                        this.busy = false;\n                    }\n                    this.IndexNum++;\n                    if (res.TotalPages == this.IndexNum - 1) {\n                        this.busy = true;\n                    }\n                })\n            } else if (data.type == 3) {\n                apiGetMemberMatchAndUserRank(data, true).then(res => {\n                    for (let i = 0; i < res.Data.length; i++) {\n                        this.challageList.push(res.Data[i])\n                        this.busy = false;\n                    }\n                    this.IndexNum++;\n                    if (res.TotalPages == this.IndexNum - 1) {\n                        this.busy = true;\n                    }\n\n                })\n            }\n\n        },\n        uList() {\n            this.load()\n        },\n        rList() {\n            this.load()\n        },\n        cList() {\n            this.load()\n        }\n    },\n    created() {\n\n    }\n}\n",{"version":3,"sources":["History.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6IA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"History.vue","sourceRoot":"src/views/personalCenter","sourcesContent":["<template>\r\n    <div class=\"history\">\r\n        <div class=\"history-header\">\r\n            <back class='back-icon img-he'></back>\r\n            <h3>竞猜历史</h3>\r\n        </div>\r\n        <div class=\"history-tab\">\r\n            <ul class=\"history-tab-ul \">\r\n                <span class=\"history-tab-ul-span\"></span>\r\n                <span class=\"history-tab-ul-span1\"></span>\r\n                <li @click=\"getNum(index)\" :class=\"{active:num == index}\" v-for=\"(item,index) in list\" :key=\"index\" class=\"history-tab-ul-item\" >\r\n                    {{item}}\r\n                    <span class=\"history-tab-ul-item-span\" v-show=\"num == index\"></span>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <div class=\"history-content\">\r\n            <div v-show=\"num === 0\" :class=\"{activeImg: usualList.length == 0}\" style='padding-bottom:0;' v-infinite-scroll=\"load\" infinite-scroll-disabled=\"busy\">\r\n                    <ul class=\"history-content-ul\" style='padding-bottom: 0;'>\r\n\r\n                        <li class=\"history-content-ul-item\" style='position:relative' v-for=\"(item, index) in usualList\" :key=\"index\">\r\n                            <img class=imgMatch :src=\"require('@/assets/challenge/记录_03.png')\" v-if=\"item.ChooseStatus == '赢'\" />\r\n                            <img class=imgMatch :src=\"require('@/assets/challenge/记录_02_03.png')\" v-if=\"item.ChooseStatus == '输'\" />\r\n                            <p class=\"history-content-ul-item-p\">\r\n                                <span class=\"history-content-ul-item-p-city1\">{{item.TeamOne}}</span>\r\n                                <span class=\"history-content-ul-item-p-vs\">VS</span>\r\n                                <span class=\"history-content-ul-item-p-city\">{{item.TeamTwo}}</span>\r\n                            </p>\r\n                            <div class=\"history-content-ul-item-div\">\r\n                                \r\n                                <ul class=\"history-content-ul-item-div-ul\" style='position: relative;'>\r\n                                    <li class=\"history-content-ul-item-div-ul-item\">下注时间：{{item.Time}}</li>\r\n                                    <li class=\"history-content-ul-item-div-ul-item\">下注单号：{{item.Code}}</li>\r\n                                    <li class=\"history-content-ul-item-div-ul-item\"> \r\n                                        下注内容：{{item.Plays}} - {{item.Pei}}\r\n                                    </li>\r\n                                    <li class=\"history-content-ul-item-div-ul-item\"> \r\n                                        比赛时间：{{item.MatchTime.slice(0,10) + ' ' + item.MatchTime.slice(11)}}\r\n                                    </li>\r\n                                    <!-- <li class=\"history-content-ul-item-div-ul-item\">下注结果：</span>{{item.ChooseStatus}}</li> -->\r\n                                    <li class=\"history-content-ul-item-div-ul-item\">\r\n                                        <span>下注金币：{{item.BetIntegral}}</span>\r\n                                        <span style='margin-left: .7rem'>有效竞猜：{{item.ValidIntegral}}</span>\r\n                                        <span style='margin-left: .7rem'>赢得金币：{{item.WinIntegral}}</span>\r\n                                    </li>\r\n                                    <li style='margin-top: .2rem;position: absolute;left: 5rem;' class=\"history-content-ul-item-div-ul-itemp\" :class=\"{activeLv: item.Status == '已结算'}\">\r\n                                        <span>{{item.Status}}</span>\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                        </li>\r\n                        <li style='font-size: .24rem;text-align:center;line-height: .48rem' v-if=\"push\">加载中...</li>\r\n                        <!-- <li style='font-size: .24rem;text-align:center;line-height: .48rem' v-if=\"noMore\">没有更多了</li> -->\r\n                    </ul>          \r\n            </div>\r\n            <div v-show=\"num === 1\" style='line-height:0;' :class=\"{activeImg: rankList.length == 0}\">\r\n                <ul class=\"history-content-ul\" style='padding-bottom: 0'>\r\n                    <li class=\"history-content-ul-item\" style='position:relative' v-for=\"(item, index) in rankList\" :key=\"index\">\r\n                            <img class=imgMatch :src=\"require('@/assets/challenge/记录_03.png')\" v-if=\"item.ChooseStatus == '赢'\" />\r\n                            <img class=imgMatch :src=\"require('@/assets/challenge/记录_02_03.png')\" v-if=\"item.ChooseStatus == '输'\" />\r\n                            <p class=\"history-content-ul-item-p\">\r\n                                <span class=\"history-content-ul-item-p-city1\">{{item.TeamOne}}</span>\r\n                                <span class=\"history-content-ul-item-p-vs\">VS</span>\r\n                                <span class=\"history-content-ul-item-p-city\">{{item.TeamTwo}}</span>\r\n                            </p>\r\n                            <div class=\"history-content-ul-item-div\">\r\n                                \r\n                                <ul class=\"history-content-ul-item-div-ul\" style='position: relative'>\r\n                                    <li class=\"history-content-ul-item-div-ul-item\">下注时间：{{item.Time}}</li>\r\n                                    <li class=\"history-content-ul-item-div-ul-item\">下注单号：{{item.Code}}</li>\r\n                                    <li class=\"history-content-ul-item-div-ul-item\"> \r\n                                        下注内容：{{item.Plays}} - {{item.Pei}}\r\n\r\n                                    </li>\r\n                                    <li class=\"history-content-ul-item-div-ul-item\"> \r\n                                        比赛时间：{{item.MatchTime.slice(0,10) + ' ' + item.MatchTime.slice(11)}}\r\n                                    </li>\r\n                                    <!-- <li class=\"history-content-ul-item-div-ul-item\">下注结果：</span>{{item.ChooseStatus}}</li> -->\r\n                                    <li class=\"history-content-ul-item-div-ul-item\">\r\n                                        <span>下注金币：{{item.BetIntegral}}</span>\r\n                                        <span style='margin-left: .7rem'>有效竞猜：{{item.ValidIntegral}}</span>\r\n                                        <span style='margin-left: .7rem'>赢得金币：{{item.WinIntegral}}</span>\r\n                                    </li>\r\n                                    <li style='margin-top: .2rem;position: absolute;left: 5rem;' class=\"history-content-ul-item-div-ul-itemp\" :class=\"{activeLv: item.Status == '已结算'}\">\r\n                                        <span>{{item.Status}}</span>\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                        </li>\r\n                        <li style='font-size: .24rem;text-align:center;line-height: .48rem' v-if=\"push1\">加载中...</li>\r\n                        <li style='font-size: .24rem;text-align:center;line-height: .48rem' v-if=\"noMore1\">没有更多了</li>\r\n                </ul>\r\n            </div>\r\n            <div v-show=\"num === 2\" style='line-height:0;' :class=\"{activeImg: challageList.length == 0}\">\r\n                <ul class=\"history-content-ul\" style='padding-bottom: 0'>\r\n                    <li class=\"history-content-ul-item\" style='position:relative' v-for=\"(item, index) in challageList\" :key=\"index\">\r\n                            <img class=imgMatch :src=\"require('@/assets/challenge/记录_03.png')\" v-if=\"item.ChooseStatus == '赢'\" />\r\n                            <img class=imgMatch :src=\"require('@/assets/challenge/记录_02_03.png')\" v-if=\"item.ChooseStatus == '输'\" />\r\n                                <!-- item.ChooseStatus == '赢'\r\n                                ? require('@/assets/challenge/记录_03.png')\r\n                                : require('@/assets/challenge/记录_02_03.png')\r\n                            \" /> -->\r\n                            <p class=\"history-content-ul-item-p\">\r\n                                <span class=\"history-content-ul-item-p-city1\">{{item.TeamOne}}</span>\r\n                                <span class=\"history-content-ul-item-p-vs\">VS</span>\r\n                                <span class=\"history-content-ul-item-p-city\">{{item.TeamTwo}}</span>\r\n                            </p>\r\n                            <div class=\"history-content-ul-item-div\">\r\n                                \r\n                                <ul class=\"history-content-ul-item-div-ul\" style='position: relative'>\r\n                                    <li class=\"history-content-ul-item-div-ul-item\">下注时间：{{item.Time}}</li>\r\n                                    <li class=\"history-content-ul-item-div-ul-item\">下注单号：{{item.Code}}</li>\r\n                                    <li class=\"history-content-ul-item-div-ul-item\"> \r\n                                        下注内容：{{item.Plays}} - {{item.Pei}}\r\n\r\n                                    </li>\r\n                                    <li class=\"history-content-ul-item-div-ul-item\"> \r\n                                        比赛时间：{{item.MatchTime.slice(0,10) + ' ' + item.MatchTime.slice(11)}}\r\n                                    </li>\r\n                                    <!-- <li class=\"history-content-ul-item-div-ul-item\">下注结果：</span>{{item.ChooseStatus}}</li> -->\r\n                                    <li class=\"history-content-ul-item-div-ul-item\">\r\n                                        <span>下注金币：{{item.BetIntegral}}</span>\r\n                                        <span style='margin-left: .7rem'>有效竞猜：{{item.ValidIntegral}}</span>\r\n                                        <span style='margin-left: .7rem'>赢得金币：{{item.WinIntegral}}</span>\r\n                                    </li>\r\n                                    <li style='margin-top: .2rem;position: absolute;left: 5rem;' class=\"history-content-ul-item-div-ul-itemp\" :class=\"{activeLv: item.Status == '已结算'}\">\r\n                                        <span>{{item.Status}}</span>\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                        </li>\r\n                        <li style='font-size: .24rem;text-align:center;line-height: .48rem' v-if=\"push2\">加载中...</li>\r\n                        <li style='font-size: .24rem;text-align:center;line-height: .48rem' v-if=\"noMore2\">没有更多了</li>\r\n                </ul>   \r\n                  \r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import Vue from 'vue';\r\n    import {\r\n        Toast\r\n    } from 'vant';\r\n\r\n    Vue.use(Toast);\r\n    import {\r\n        apiGetContactUsInfo\r\n    } from '@/api/Appsetting.js';\r\n    import {\r\n        apiGetMemberMatchAndUserRank\r\n    } from '@/api/match.js';\r\n    import back from \"@/components/Botton/back.vue\";\r\n    export default {\r\n        name: 'history',\r\n        components: {\r\n            back\r\n        },\r\n        filters: {\r\n            state(val) {\r\n                if (val = '已结算') {\r\n                    return 1\r\n                } else {\r\n                    return 2\r\n                }\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                list: ['普通', '排位', '挑战'],\r\n                num: 0,\r\n                imgSrc: '',\r\n                showImg: false,\r\n                nomsg: true,\r\n                noMore: false,\r\n                noMore1: false,\r\n                noMore2: false,\r\n                push: false,\r\n                push1: false,\r\n                push2: false,\r\n                usualList: [], //普通赛列表1\r\n                rankList: [], //排位赛列表2\r\n                challageList: [], //挑战赛列表3\r\n                letfTeam: '',\r\n                battle: '',\r\n                rightTeam: '',\r\n                isLoading: false, //下拉\r\n                loading: false, //上拉\r\n                finished: false, //是否已加载完所有数据\r\n                indexNum: 1,\r\n                show: true,\r\n                states: true,\r\n                states2: false,\r\n                IndexNum: 1,\r\n                busy: false,\r\n                typeNum: 1,\r\n                typeNum2: 1\r\n            }\r\n        },\r\n        methods: {\r\n            goBack() {\r\n                this.$router.go(-1);\r\n            },\r\n            getNum(index) {\r\n                this.num = index;\r\n                if (this.num == 0) {\r\n                    this.typeNum = 1;\r\n                    this.IndexNum = 1;\r\n                    this.uList();\r\n                }\r\n                if (index == 1) {\r\n                    this.typeNum = 2;\r\n                    this.IndexNum = 1;\r\n                    this.rankList.splice(0);\r\n                    this.rList();\r\n                }\r\n                if (index == 2) {\r\n                    this.typeNum = 3;\r\n                    this.IndexNum = 1;\r\n                    this.challageList.splice(0)\r\n                    this.cList();\r\n                }\r\n            },\r\n            load() {\r\n                this.busy = true;\r\n                let data = {\r\n                    index: this.IndexNum,\r\n                    count: 10,\r\n                    type: this.typeNum, //普通赛\r\n                }\r\n                if (data.type == 1) {\r\n                    apiGetMemberMatchAndUserRank(data, true).then(res => {\r\n                        if (res.Data.length > 7) {\r\n                            this.push = true;\r\n                        }\r\n                        if (res.Data.length == 0) {\r\n                            this.busy = true;\r\n                            this.push = false;\r\n                            this.noMore = true;\r\n                        } else {\r\n                            for (let i = 0; i < res.Data.length; i++) {\r\n                                this.usualList.push(res.Data[i])\r\n                                this.busy = false;\r\n                            }\r\n                            this.IndexNum++;\r\n                        }\r\n                    })\r\n                } else if (data.type == 2) {\r\n                    apiGetMemberMatchAndUserRank(data, true).then(res => {\r\n                        for (let i = 0; i < res.Data.length; i++) {\r\n                            this.rankList.push(res.Data[i])\r\n                            this.busy = false;\r\n                        }\r\n                        this.IndexNum++;\r\n                        if (res.TotalPages == this.IndexNum - 1) {\r\n                            this.busy = true;\r\n                        }\r\n                    })\r\n                } else if (data.type == 3) {\r\n                    apiGetMemberMatchAndUserRank(data, true).then(res => {\r\n                        for (let i = 0; i < res.Data.length; i++) {\r\n                            this.challageList.push(res.Data[i])\r\n                            this.busy = false;\r\n                        }\r\n                        this.IndexNum++;\r\n                        if (res.TotalPages == this.IndexNum - 1) {\r\n                            this.busy = true;\r\n                        }\r\n\r\n                    })\r\n                }\r\n\r\n            },\r\n            uList() {\r\n                this.load()\r\n            },\r\n            rList() {\r\n                this.load()\r\n            },\r\n            cList() {\r\n                this.load()\r\n            }\r\n        },\r\n        created() {\r\n\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .activeLv {\r\n        background: green\r\n    }\r\n    \r\n    .imgMatch {\r\n        position: absolute;\r\n        right: .1rem;\r\n        top: .08rem;\r\n        width: 1.24rem;\r\n        height: 1.24rem;\r\n    }\r\n</style>"]}]}