{"remainingRequest":"C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\work\\竞猜可换色板\\src\\views\\personalCenter\\SelfMsg.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\work\\竞猜可换色板\\src\\views\\personalCenter\\SelfMsg.vue","mtime":1591337937880},{"path":"C:\\work\\竞猜可换色板\\node_modules\\@vue\\cli-service\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.el-button {\n    display: block;\n    border: 0;\n    width: 6.82rem;\n    height: 0.8rem;\n    border-radius: 0.6rem;\n    background: linear-gradient(to right, #e73a51, #dc3849);\n    color: #fff;\n    margin: 0 auto;\n    margin-top: 0.71rem;\n    outline: none;\n    box-shadow: 1px 4px 6px #e6c6c9;\n}\n\n.el-input {\n    width: 4rem;\n    border: 0\n}\n\n.input .el-input__inner {\n    display: inline-block;\n    width: 4rem;\n    font-size: .24rem;\n    border: 0;\n    padding: 0;\n    height: 34px;\n}\n",{"version":3,"sources":["SelfMsg.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SelfMsg.vue","sourceRoot":"src/views/personalCenter","sourcesContent":["<template>\r\n    <main class=\"self\">\r\n        <div class=\"self-header\" style='position: fixed;top: 0;'>\r\n            <back class='back-icon img-he'></back>\r\n            <h3>个人信息</h3>\r\n        </div>\r\n        <ul class=\"self-ul\" style=\"-webkit-user-select:text !important;margin-top: 1.1rem\">\r\n            <!-- <li class=\"self-ul-item\">\r\n                <span class=\"self-ul-item-span\">姓名</span>\r\n                <input class=\"self-ul-item-input\" type=\"text\" v-model=\"msgList.UName\" readonly>\r\n            </li> -->\r\n            <li class=\"self-ul-item\">\r\n                <span class=\"self-ul-item-span\">昵称</span>\r\n                <!-- <input style=\"overflow:hidden;-webkit-user-select:text !important;\" class=\"self-ul-item-input\" type=\"text\" v-model=\"selfNickName\" placeholder=\"修改个性昵称\"> -->\r\n                <el-input style=\"padding: 0 .5rem\" class=\"input\" v-model=\"selfNickName\" placeholder=\"修改个性昵称\"></el-input> \r\n                <!-- <img class=\"imgIcon\" src=\"@/assets/myself/xiugai.png\" alt=\"\" @click=\"nickNameBox\"> -->\r\n            </li>\r\n            <li class=\"self-ul-item\">\r\n                <span class=\"self-ul-item-spanTe\">手机号</span>\r\n                <!-- <input style=\"overflow:hidden;-webkit-user-select:text !important;\" class=\"self-ul-item-input\" type=\"text\" v-model=\"selfPhone\" readonly> -->\r\n                <el-input style=\"padding: 0 .5rem;\" readonly class=\"input\" v-model=\"selfPhone\"></el-input> \r\n                <!-- <img class=\"imgIcon\" src=\"@/assets/myself/xiugai.png\" alt=\"\" @click=\"phoneBox\"> -->\r\n            </li>\r\n            <li class=\"self-ul-item\" style=\"-webkit-user-select:text !important;\">\r\n                <span class=\"self-ul-item-span\">邮箱</span>\r\n                <!-- <input style=\"overflow:hidden;-webkit-user-select:text !important;\" class=\"self-ul-item-input\" type=\"text\" v-model=\"selfEmail\" placeholder=\"请填写邮箱\"> -->\r\n                <el-input style=\"padding: 0 .5rem\" class=\"input\" v-model=\"selfEmail\" placeholder=\"请填写邮箱\"></el-input> \r\n                <!-- <img class=\"imgIcon\" src=\"@/assets/myself/xiugai.png\" alt=\"\" @click=\"emailBox\"> -->\r\n            </li>\r\n            <li class=\"self-ul-item\">\r\n                <span class=\"self-ul-item-span\">性别</span>\r\n                <div class=\"righDiv\">\r\n                    <p :style=\"{background: gender==1?'#6eb5ea':'#aaa'}\" @click=\"getBg\">\r\n                        <span style=\"float: left; width: .42rem; height: .42rem; background: #fff; border-radius: 50%;margin-top: .04rem;margin-left: .04rem;\">\r\n                            <img style=\"display: inline-block; width: .3rem; height: .3rem;margin: .05rem\" :src=\"gender==1?nanHea:nanHeaA\" alt=\"\" />\r\n                        </span>\r\n                        <span class=\"zi\">男</span>\r\n                    </p>\r\n                    <p style=\"margin-left: .3rem;\" :style=\"{background: gender==0?'#ff3ec9':'#aaa'}\" @click=\"getBg1\">\r\n                        <span style=\"float: left; width: .42rem; height: .42rem; background: #fff; border-radius: 50%;margin-top: .04rem;margin-left: .04rem;\">\r\n                            <img style=\"display: inline-block; width: .3rem; height: .3rem;margin: .05rem\" :src=\"gender==1?nvHea:nvHeaA\" alt=\"\" />\r\n                        </span>\r\n                        <span class=\"zi\">女</span>\r\n                    </p>\r\n                </div>\r\n                \r\n            </li>\r\n            <li class=\"self-ul-item\" style=\"height:2.8rem\">\r\n                <ul class=\"imgList\" v-show=\"gender == 1\">\r\n                    <!-- <li @click='getNumMan(index)' v-for=\"(item,index) in imgList\" :key=\"index\">\r\n                        <img :src=\"item\" alt=\"\">\r\n                    </li> -->\r\n                    <li @click='getNumMan(item.Id, item.M)' v-for=\"(item,index) in manList\" :key=\"index\">\r\n                        <van-image\r\n                        round\r\n                        width=\"1rem\"\r\n                        height=\"1rem\"\r\n                        :src=\"item.M\"\r\n                        />\r\n                    </li>\r\n                </ul>\r\n                <ul class=\"imgList\" v-show=\"gender == 0\">\r\n                    <!-- <li @click='getNumWoman(index)' v-for=\"(item,index) in imgList2\" :key=\"index\">\r\n                        <img :src=\"item\" alt=\"\">\r\n                    </li> -->\r\n                    <li @click='getNumWoman(item.Id, item.W)' v-for=\"(item,index) in manList\" :key=\"index\">\r\n                        <van-image\r\n                        round\r\n                        width=\"1rem\"\r\n                        height=\"1rem\"\r\n                        :src=\"item.W\"\r\n                        />\r\n                    </li>\r\n                </ul>\r\n            </li>\r\n            <li class=\"self-ul-item\" style=\"height: 2.2rem;border: 0\">\r\n                <p class=\"bigp\">\r\n                    <img :src=\"num\" alt=\"\">\r\n                </p>\r\n            </li>\r\n            \r\n            <!-- <li class=\"self-ul-item\" style=\"-webkit-user-select:text !important;\">\r\n                <span class=\"self-ul-item-span\">地址</span>\r\n                <el-input style=\"padding: 0 .5rem\" class=\"input\" v-model=\"selfAddress\" placeholder=\"请填写地址\"></el-input> \r\n            </li> -->\r\n        </ul>\r\n        <!-- 昵称弹出框 -->\r\n        <div class=\"phoneBox\" v-show=\"nickNameB\">\r\n            <p class=\"phoneBox-p\">\r\n                <span class=\"phoneBox-p-span\">修改昵称</span>\r\n                <img @click='cancelNick' class=\"phoneBox-p-img\" src=\"@/assets/myself/false.png\" alt=\"\">\r\n            </p>\r\n            <div class=\"phoneBox-div\">\r\n                <p class=\"phoneBox-div-p\">\r\n                    <span class=\"phoneBox-div-p-span\">昵称</span>\r\n                    <input style=\"overflow:hidden;\" class=\"phoneBox-div-p-input\" v-model=\"newNiceName\" type=\"text\" placeholder=\"设置一个个性昵称吧\">\r\n                </p>\r\n                <button class=\"phoneBox-div-botton\">保存</button>\r\n            </div>\r\n        </div>\r\n        <!-- email弹出框 -->\r\n        <div class=\"phoneBox\" v-show=\"emailB\">\r\n            <p class=\"phoneBox-p\">\r\n                <span class=\"phoneBox-p-span\">修改邮箱</span>\r\n                <img @click='cancelNick' class=\"phoneBox-p-img\" src=\"@/assets/myself/false.png\" alt=\"\">\r\n            </p>\r\n            <div class=\"phoneBox-div\">\r\n                <p class=\"phoneBox-div-p\">\r\n                    <span class=\"phoneBox-div-p-span\">昵称</span>\r\n                    <input class=\"phoneBox-div-p-input\" v-model=\"newEmail\" type=\"text\">\r\n                </p>\r\n                <button class=\"phoneBox-div-botton\" style='box-shadow: rgb(140, 125, 127) 6px 6px 6px;'>保存</button>\r\n            </div>\r\n        </div>\r\n        <!-- 手机弹出框 -->\r\n        <div class=\"phoneBox\" v-show=\"phoneB\">\r\n            <p class=\"phoneBox-p\">\r\n                <span class=\"phoneBox-p-span\">修改地址信息</span>\r\n                <img @click='cancel' class=\"phoneBox-p-img\" src=\"@/assets/myself/false.png\" alt=\"\">\r\n            </p>\r\n            <div class=\"phoneBox-div\">\r\n                <p class=\"phoneBox-div-p\">\r\n                    <span class=\"phoneBox-div-p-span\">手机号</span>\r\n                    <input class=\"phoneBox-div-p-input\" v-model=\"newPhone\" type=\"text\">\r\n                </p>\r\n                <button class=\"phoneBox-div-botton\" style='box-shadow:6px 6px 6px #8c7d7f'>保存</button>\r\n            </div>\r\n        </div>\r\n        <!-- 地址弹出框 -->\r\n        <div class=\"addressBox\" v-show=\"addressB\">\r\n            <p class=\"addressBox-p\">\r\n                <span class=\"addressBox-p-span\">修改手机号码</span>\r\n                <img @click='cancelAdd' class=\"addressBox-p-img\" src=\"@/assets/myself/false.png\" alt=\"\">\r\n            </p>\r\n            <div class=\"addressBox-div\">\r\n                <p class=\"addressBox-div-p\">\r\n                    <span class=\"addressBox-div-p-span\">收货人</span>\r\n                    <input class=\"addressBox-div-p-input\" v-model=\"accept\" type=\"text\">\r\n                </p>\r\n                <p class=\"addressBox-div-p1\">\r\n                    <span class=\"addressBox-div-p1-span\">详细地址</span>\r\n                    <input class=\"addressBox-div-p1-input\" v-model=\"detailAdd\" type=\"text\">\r\n                </p>\r\n                <button class=\"addressBox-div-botton\" @click=\"addressSave\">保存</button>\r\n            </div>\r\n        </div>\r\n        <!-- <button class=\"changeBtn\" @click=\"selfSave\">保存</button> -->\r\n        <button @click='selfSave' class=\"changeBtn\">保存</button>\r\n        <!-- <el-button type=\"text\" @click=\"selfSave\">保存</el-button> -->\r\n    </main>\r\n</template>\r\n\r\n<script>\r\n    import {\r\n        apiGetUserInfo,\r\n        apiUpdateUserInfo,\r\n        apiCheckVipGrade,\r\n        apiGetVipImgHeads\r\n    } from '@/api/User.js';\r\n    // import Notify from 'path/to/vant-weapp/dist/notify/notify';\r\n    import back from \"@/components/Botton/back.vue\";\r\n    export default {\r\n        name: 'self',\r\n        inject: ['reload'], //注入reload方法\r\n        components: {\r\n            back\r\n        },\r\n        data() {\r\n            return {\r\n                warning: false,\r\n                phoneB: false,\r\n                addressB: false,\r\n                nickNameB: false,\r\n                emailB: false,\r\n                selfName: '张某某',\r\n                selfNickName: '张某某',\r\n                selfPhone: '17775207577',\r\n                selfEmail: '1040631720@qq.com',\r\n                selfAddress: '上海市浦东新区',\r\n                accept: '', //接收人\r\n                detailAdd: '', //详细地址\r\n                newPhone: '', //修改电话号码\r\n                newNiceName: '', //修改昵称\r\n                newEmail: '', //修改电子邮箱\r\n                msgList: {},\r\n                bgColor1: '#6eb5ea',\r\n                bgColor2: '#aaaaaa',\r\n                changeBg: true,\r\n                imgList: [\r\n                    require('@/assets/man_01.png'),\r\n                    require('@/assets/man_02.png'),\r\n                    require('@/assets/man_03.png'),\r\n                    require('@/assets/man_04.png')\r\n                ],\r\n                imgList2: [\r\n                    require('@/assets/woman_01.png'),\r\n                    require('@/assets/woman_02.png'),\r\n                    require('@/assets/woman_03.png'),\r\n                    require('@/assets/woman_04.png')\r\n                ],\r\n                manList: [],\r\n                womanList: [],\r\n                // num: require('@/assets/bigman_01.png'),\r\n                num: '',\r\n                gender: 1,\r\n                nanHea: require('@/assets/男 (1).png'),\r\n                nanHeaA: require('@/assets/男.png'),\r\n                nvHea: require('@/assets/女 (1).png'),\r\n                nvHeaA: require('@/assets/女 (2).png'),\r\n                getId: '',\r\n            }\r\n        },\r\n        methods: {\r\n            getImg() {\r\n                // let data = {}\r\n                // apiGetVipGrade(data, true).then(res => {\r\n                //     this.womanList.push(res.WomanImgHead);\r\n                //     this.manList.push(res.ManImgHead)\r\n                //     this.num = this.manList[0]\r\n                // })\r\n            },\r\n            goBack() {\r\n                this.$router.go(-1);\r\n            },\r\n            phoneBox() {\r\n                this.phoneB = true;\r\n            },\r\n            nickNameBox() {\r\n                this.nickNameB = true;\r\n            },\r\n            emailBox() {\r\n                this.emailB = true;\r\n            },\r\n            // 地址弹出框\r\n            addressBox() {\r\n                this.addressB = true;\r\n            },\r\n            //地址修改保存\r\n            addressSave() {\r\n                let data = {\r\n                    UName: this.accept,\r\n                    URedeemAddress: this.detailAdd\r\n                }\r\n                apiUpdateUserInfo(data, true).then(res => {\r\n                    this.addressB = false;\r\n                    this.reload() //直接调用该方法\r\n                })\r\n            },\r\n            cancel() {\r\n                this.phoneB = false;\r\n            },\r\n            cancelAdd() {\r\n                this.addressB = false;\r\n            },\r\n            cancelNick() {\r\n                this.nickNameB = false;\r\n                this.emailB = false;\r\n            },\r\n            selfSave() {\r\n                if (this.selfNickName == '') {\r\n                    this.Alert.showMsg('昵称为必填选项', 'warning', 1200, true, true)\r\n                    return\r\n                }\r\n                let data = {\r\n                    UNickName: this.selfNickName,\r\n                    URedeemAddress: this.selfAddress,\r\n                    UEmail: this.selfEmail,\r\n                    RankId: this.getId,\r\n                    Gander: this.gender\r\n                }\r\n                if (data.UNickName == null) {\r\n                    this.Alert.showMsg('昵称为必填项', 'warning', 1200, true, true);\r\n                    return\r\n                }\r\n                if (data.RankId == '') {\r\n                    this.Alert.showMsg('选择需要修改的头像', 'warning', 1200, true, true);\r\n                    return\r\n                }\r\n                apiUpdateUserInfo(data, true).then(res => {\r\n                    this.getMsg();\r\n                    this.addressB = false;\r\n                    this.Alert.showMsg('修改成功', 'success', 1200, true, true);\r\n                    this.reload() //直接调用该方法\r\n                        // this.$router.push('/task')\r\n                })\r\n\r\n            },\r\n            getMsg() {\r\n                let data = {}\r\n                apiGetUserInfo(data, true).then(res => {\r\n                    //有token要加ture\r\n                    this.msgList = res;\r\n                    this.selfPhone = res.UPhoneNumber;\r\n                    this.selfAddress = res.URedeemAddress;\r\n                    this.selfNickName = res.NickName;\r\n                    this.selfEmail = res.Email;\r\n                    this.num = res.UImg;\r\n                    this.gender = res.Gender\r\n                })\r\n\r\n            },\r\n            getBg() {\r\n                this.gender = 1;\r\n                this.num = this.msgList.UImg\r\n            },\r\n            getBg1() {\r\n                this.gender = 0;\r\n                this.num = this.msgList.UImg\r\n            },\r\n            getNumMan(id, img) {\r\n                this.getId = id;\r\n                let data = {\r\n                    RankId: id\r\n                }\r\n                apiCheckVipGrade(data, true).then(res => {\r\n                        if (res.IsSuccess) {\r\n                            this.num = img\r\n                        } else {\r\n                            this.Alert.showMsg(res.message, 'warning', 1200, true, true);\r\n                        }\r\n                    })\r\n                    // switch (index) {\r\n                    //     case 0:\r\n                    //         this.num = require('@/assets/bigman_01.png')\r\n                    //         break;\r\n                    //     case 1:\r\n                    //         this.num = require('@/assets/bigman_02.png')\r\n                    //         break;\r\n                    //     case 2:\r\n                    //         this.num = require('@/assets/bigman_03.png')\r\n                    //         break;\r\n                    //     case 3:\r\n                    //         this.num = require('@/assets/bigman_04.png')\r\n                    //         break;\r\n                    // }\r\n            },\r\n            getNumWoman(id, img) {\r\n                this.getId = id;\r\n                let data = {\r\n                    RankId: id\r\n                }\r\n                apiCheckVipGrade(data, true).then(res => {\r\n                    if (res.IsSuccess) {\r\n                        this.num = img\r\n                    } else {\r\n                        this.Alert.showMsg(res.message, 'warning', 1200, true, true);\r\n                    }\r\n                })\r\n            },\r\n            getVipimgs() {\r\n                let data = {\r\n\r\n                }\r\n                apiGetVipImgHeads(data, true).then(res => {\r\n                    this.manList = res;\r\n                    // this.womanList = womanL;\r\n                })\r\n            }\r\n        },\r\n        mounted() {\r\n            this.getMsg();\r\n            this.getImg();\r\n            this.getVipimgs();\r\n\r\n        },\r\n    }\r\n</script>\r\n\r\n<style>\r\n    .el-button {\r\n        display: block;\r\n        border: 0;\r\n        width: 6.82rem;\r\n        height: 0.8rem;\r\n        border-radius: 0.6rem;\r\n        background: linear-gradient(to right, #e73a51, #dc3849);\r\n        color: #fff;\r\n        margin: 0 auto;\r\n        margin-top: 0.71rem;\r\n        outline: none;\r\n        box-shadow: 1px 4px 6px #e6c6c9;\r\n    }\r\n    \r\n    .el-input {\r\n        width: 4rem;\r\n        border: 0\r\n    }\r\n    \r\n    .input .el-input__inner {\r\n        display: inline-block;\r\n        width: 4rem;\r\n        font-size: .24rem;\r\n        border: 0;\r\n        padding: 0;\r\n        height: 34px;\r\n    }\r\n</style>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}