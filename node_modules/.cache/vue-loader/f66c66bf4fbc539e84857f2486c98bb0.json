{"remainingRequest":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\src\\components\\Main\\NavBottom.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\src\\components\\Main\\NavBottom.vue","mtime":1608277488943},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport Self from \"@/self.js\";\r\nimport { apiGetUnreadMessageCount } from \"@/api/Message.js\";\r\nimport { apiGetMemClubs } from \"@/api/Club.js\";\r\nexport default {\r\n  name: \"MainNavBottom\",\r\n  props: {\r\n    clear: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  created() {\r\n    this.getUrl();\r\n    this.getCount();\r\n    var vm = this;\r\n    Self.$on(\"sss\", function(val) {\r\n      vm.show = val; // 接收传过来的值\r\n    });\r\n\r\n    this.lang = JSON.parse(localStorage.getItem(\"lang\")).tag;\r\n    this.theme = localStorage.getItem(\"theme\");\r\n  },\r\n  data() {\r\n    return {\r\n      num: \"\",\r\n      url: \"\",\r\n      show: false,\r\n      msgCount: 0,\r\n      countNum: true,\r\n\r\n      lang: \"\",\r\n      theme: \"\",\r\n      themeType: [\"red\", \"blue\", \"black\", \"yellow\"],\r\n\r\n      matchUrl: require(\"@/assets/index/footer/club_icon_CN.png\"),\r\n      // matchPopUrl: require(\"@/assets/index/footer/match_pop.png\"),\r\n\r\n      CNMatchPicUrl: {\r\n        red: require(\"@/assets/index/footer/club_icon_CN.png\"),\r\n        blue: require(\"@/assets/theme-blue/index/footer/club_icon_CN.png\"),\r\n        black: require(\"@/assets/theme-black/index/footer/club_icon_CN.png\"),\r\n        yellow: require(\"@/assets/theme-yellow/index/footer/club_icon_CN.png\")\r\n      },\r\n      TWMatchPicUrl: {\r\n        red: require(\"@/assets/index/footer/club_icon_TW.png\"),\r\n        blue: require(\"@/assets/theme-blue/index/footer/club_icon_TW.png\"),\r\n        black: require(\"@/assets/theme-black/index/footer/club_icon_TW.png\"),\r\n        yellow: require(\"@/assets/theme-yellow/index/footer/club_icon_TW.png\")\r\n      },\r\n      // CNMatchPopPicUrl: {\r\n      //   red: require(\"@/assets/index/footer/match_pop.png\"),\r\n      //   blue: require(\"@/assets/theme-blue/index/footer/match_pop.png\"),\r\n      //   black: require(\"@/assets/theme-black/index/footer/match_pop.png\"),\r\n      //   yellow: require(\"@/assets/theme-yellow/index/footer/match_pop.png\")\r\n      // },\r\n      EnMatchPicUrl: {\r\n        red: require(\"@/assets/index/footer/club_icon_EN.png\"),\r\n        blue: require(\"@/assets/theme-blue/index/footer/club_icon_EN.png\"),\r\n        black: require(\"@/assets/theme-black/index/footer/club_icon_EN.png\"),\r\n        yellow: require(\"@/assets/theme-yellow/index/footer/club_icon_EN.png\")\r\n      }\r\n      // EnMatchPopPicUrl: {\r\n      //   red: require(\"@/assets/index/footer/match_pop1.png\"),\r\n      //   blue: require(\"@/assets/theme-blue/index/footer/match_pop1.png\"),\r\n      //   black: require(\"@/assets/theme-black/index/footer/match_pop1.png\"),\r\n      //   yellow: require(\"@/assets/theme-yellow/index/footer/match_pop1.png\")\r\n      // },\r\n    };\r\n  },\r\n  methods: {\r\n    getUrl() {\r\n      this.url = this.$route.path;\r\n    },\r\n    getCount() {\r\n      let token = localStorage.getItem(\"token\");\r\n      if (token) {\r\n        let data = {}\r\n        apiGetUnreadMessageCount(data, true).then(res => {\r\n          this.msgCount = res.UnreadMessageCount;\r\n          if(this.msgCount > 0) {\r\n            this.countNum = true;\r\n          }\r\n        })\r\n      }\r\n    },\r\n    chuan() {\r\n      Self.$emit(\"sss\", this.show);\r\n    },\r\n\r\n    goHome() {\r\n      this.num = 0;\r\n      this.$router.push(\"/\");\r\n    },\r\n    goClub() {\r\n      let token = localStorage.getItem(\"token\");\r\n      if (!token) {\r\n        this.$router.push(\"myself\");\r\n        return;\r\n      }\r\n      // this.num = -1;\r\n      // this.show = !this.show;\r\n      apiGetMemClubs(\"\", true).then(res => {\r\n        if (res.Data == null) {\r\n          // 無會員\r\n          localStorage.setItem(\"isMember\", 2);\r\n          this.$router.push(\"/CreateClub\");\r\n        } else {\r\n          // 有會員\r\n          localStorage.setItem(\"isMember\", 1);\r\n          localStorage.setItem(\"ClubId\", res.Data.ClubId);\r\n          // 判斷是否為管理階級\r\n          if (res.Data.Name == \"会长\") {\r\n            localStorage.setItem(\"isManagement\", 1);\r\n          } else if (res.Data.Name == \"副会长\") {\r\n            localStorage.setItem(\"isManagement\", 2);\r\n          } else if (res.Data.Name == \"会员\") {\r\n            localStorage.setItem(\"isManagement\", 3);\r\n          }\r\n          this.$router.push(\"/myClub\");\r\n        }\r\n      });\r\n    },\r\n    goRankBoard() {\r\n      this.$router.push(\"/rankboard\");\r\n    },\r\n    changeNum(id) {\r\n      this.show = false;\r\n      this.num = id;\r\n      this.$message({\r\n        message: this.$t(\"NotYetOpen\"),\r\n        type: \"warning\",\r\n        center: true,\r\n        duration: 1200\r\n      });\r\n    },\r\n    change(id) {\r\n      this.show = false;\r\n      this.num = 1;\r\n    },\r\n    goShop() {\r\n      this.show = false;\r\n      this.num = 1;\r\n      this.$router.push(\"/shop\");\r\n    },\r\n    gorank() {\r\n      this.show = false;\r\n      this.$router.push(\"/rank\");\r\n    },\r\n    goTz() {\r\n      this.show = false;\r\n      this.$router.push(\"/challengehome\");\r\n    },\r\n\r\n    changePic() {\r\n      if (this.lang == \"zh-CN\") {\r\n        for (let i of this.themeType) {\r\n          if (i == this.theme) {\r\n            this.matchUrl = this.CNMatchPicUrl[i];\r\n            // this.matchPopUrl = this.CNMatchPopPicUrl[i];\r\n          }\r\n        }\r\n      }\r\n      if (this.lang == \"zh-TW\") {\r\n        for (let i of this.themeType) {\r\n          if (i == this.theme) {\r\n            this.matchUrl = this.TWMatchPicUrl[i];\r\n            // this.matchPopUrl = this.CNMatchPopPicUrl[i];\r\n          }\r\n        }\r\n      }\r\n      if (this.lang == \"en-US\") {\r\n        for (let i of this.themeType) {\r\n          if (i == this.theme) {\r\n            this.matchUrl = this.EnMatchPicUrl[i];\r\n            // this.matchPopUrl = this.EnMatchPopPicUrl[i];\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.changePic();\r\n  }\r\n};\r\n",null]}