{"remainingRequest":"C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\work\\竞猜可换色板\\src\\App.vue?vue&type=style&index=1&id=7ba5bd90&scoped=true&lang=css&","dependencies":[{"path":"C:\\work\\竞猜可换色板\\src\\App.vue","mtime":1605845872564},{"path":"C:\\work\\竞猜可换色板\\node_modules\\@vue\\cli-service\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.Router {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  transition: all 0.377s ease;\n  box-sizing: border-box;\n  overflow-y: auto;\n}\n\n.slide-left-enter,\n.slide-right-leave-active {\n  opacity: 0;\n  -webkit-transform: translate(-100%, 0);\n  transform: translate(-100%, 0);\n}\n\n.slide-left-leave-active,\n.slide-right-enter {\n  opacity: 0;\n  -webkit-transform: translate(100%, 0);\n  transform: translate(100% 0);\n}\n\n.isOn {\n  width: 0.55rem;\n  height: 0.55rem;\n  position: absolute;\n  z-index: 200;\n  top: 1.4rem;\n  right: 0.3rem;\n  background: url(\"./assets/icons/playOn.png\") 0 0 no-repeat;\n  background-size: 100%;\n}\n.isOff {\n  width: 0.55rem;\n  height: 0.55rem;\n  position: absolute;\n  z-index: 2000;\n  top: 1.4rem;\n  right: 0.3rem;\n  background: url(\"./assets/icons/playOff.png\") 0 0 no-repeat;\n  background-size: 100%;\n}\n",{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\">\n    <transition :name=\"transitionName\">\n      <keep-alive>\n        <router-view class=\"Router\" v-if=\"$route.meta.keepAlive\"></router-view>\n      </keep-alive>\n    </transition>\n\n    <transition :name=\"transitionName\">\n      <router-view class=\"Router\" v-if=\"!$route.meta.keepAlive\"></router-view>\n    </transition>\n\n    <div v-if=\"nowRouter == 'Home'\" @click.stop=\"audioSwitch\" :class=\"isOn ? 'isOn' : 'isOff'\"></div>\n  </div>\n</template>\n<script>\n\n\n// 引入vuex的辅助方法\nimport { mapState } from \"vuex\";\nimport { bgmPlayer } from \"@/utils/medias\";\n// import { apiGetMemClubs } from \"@/api/Club.js\";\nexport default {\n  //页面加载方法\n  provide() {\n    return {\n      reload: this.reload\n    };\n  },\n  data() {\n    return {\n      style: \"\",\n      //页面加载方法\n      isRouterAlive: true,\n      transitionName: \"slide-right\",\n\n      // 換膚用-讀取localStorage裡的換膚參數\n      localStorageTheme: \"\",\n      isOn: true,\n      nowRouter: \"\"\n    };\n  },\n  created() {\n    // 判斷裝置語系 設定語系\n    if (!localStorage.getItem(\"lang\")) {\n      localStorage.setItem(\"lang\", JSON.stringify({ name: \"简体中文\", tag: \"zh-CN\" }));\n    }\n\n    this.getLocalStorageTheme();\n    if (!localStorage.getItem(\"isOn\")) {\n      localStorage.setItem(\"isOn\", true);\n    }\n    this.isOn = localStorage.getItem(\"isOn\") == \"true\";\n    if (isIOS) {\n      localStorage.setItem(\"isOn\", false);\n      this.isOn = false;\n    }\n    this.handlePlay();\n   \n  },\n  mounted() {\n    this.nowRouter = this.$router.currentRoute.name;\n    if (window.plus) {\n        this.plusReady()\n      } else {\n        document.addEventListener('plusready', this.plusReady, false)\n      }\n  },\n  methods: {\n    setTheme(name) {\n      this.style = localStorage.style = name;\n      let theme = {\n        primary: \"\"\n      };\n      switch (name) {\n        case \"default\":\n          theme.primary = \"#c12f3e\";\n          break;\n        case \"blue\":\n          theme.primary = \"#2f7bc1\";\n          break;\n      }\n      let root = document.documentElement;\n      root.style.setProperty(\"--primary-color\", theme.primary);\n    },\n    //页面加载方法\n    reload() {\n      this.isRouterAlive = false;\n      this.$nextTick(function() {\n        this.isRouterAlive = true;\n      });\n    },\n    // 讀取localStorageTheme值並換膚\n    getLocalStorageTheme() {\n      if (localStorage.getItem(\"theme\") == null) {\n        localStorage.setItem(\"theme\", \"blue\");\n      }\n      this.localStorageTheme = localStorage.getItem(\"theme\");\n      window.document.documentElement.setAttribute(\n        \"data-theme\",\n        this.localStorageTheme\n      );\n    },\n\n    // 播放/靜音開關\n    audioSwitch() {\n      localStorage.setItem(\"isOn\", !this.isOn);\n      this.isOn = !this.isOn;\n      this.handlePlay();\n    },\n    handlePlay() {\n      var theme = localStorage.getItem(\"theme\");\n      if (this.isOn) {\n        bgmPlayer.stop();\n        bgmPlayer.play(theme);\n      } else {\n        bgmPlayer.stop();\n      }\n    },\n    plusReady () {\n  \n        this.webview = window.plus.webview.currentWebview()\n     \n        window.plus.key.addEventListener('backbutton', () => {\n          this.webview.canBack(event => {\n            if (event.canBack) {\n              this.webview.back()\n            } else {\n              if (this.first) {\n                if (Date.now() - this.first < 1500) {\n                  window.plus.runtime.quit()\n                }else{\n                  this.first = Date.now()\n                  this.$toast('再按一次退出应用')\n                }\n              } else {\n                this.first = Date.now()\n                this.$toast('再按一次退出应用')\n              }\n            }\n          })\n        })\n      }\n  },\n  watch: {\n    $route(to, from) {\n      // 切换动画\n      let isBack = this.$router.isBack; // 监听路由变化时的状态为前进还是后退\n\n      if (isBack) {\n        this.transitionName = \"slide-left\";\n      } else {\n        this.transitionName = \"slide-right\";\n      }\n      this.$router.isBack = false;\n      this.nowRouter = to.name;\n    },\n    style(val) {\n      this.setTheme(val);\n    }\n  }\n};\n</script>\n<style lang=\"scss\">\nbody {\n  overflow-x: hidden;\n}\n\n#app {\n  margin: 0 auto;\n  overflow-x: hidden;\n}\n/* // 改变elementUI  Loading颜色\n// .el-loading-spinner .path{\n//   stroke:#ed4014!important;\n// }\n// .el-loading-spinner .el-loading-text{\n//   color: #ed4014!important;\n// } */\n</style>\n<style scoped>\n.Router {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  transition: all 0.377s ease;\n  box-sizing: border-box;\n  overflow-y: auto;\n}\n\n.slide-left-enter,\n.slide-right-leave-active {\n  opacity: 0;\n  -webkit-transform: translate(-100%, 0);\n  transform: translate(-100%, 0);\n}\n\n.slide-left-leave-active,\n.slide-right-enter {\n  opacity: 0;\n  -webkit-transform: translate(100%, 0);\n  transform: translate(100% 0);\n}\n\n.isOn {\n  width: 0.55rem;\n  height: 0.55rem;\n  position: absolute;\n  z-index: 200;\n  top: 1.4rem;\n  right: 0.3rem;\n  background: url(\"./assets/icons/playOn.png\") 0 0 no-repeat;\n  background-size: 100%;\n}\n.isOff {\n  width: 0.55rem;\n  height: 0.55rem;\n  position: absolute;\n  z-index: 2000;\n  top: 1.4rem;\n  right: 0.3rem;\n  background: url(\"./assets/icons/playOff.png\") 0 0 no-repeat;\n  background-size: 100%;\n}\n</style>\n"]}]}