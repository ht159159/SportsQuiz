{"remainingRequest":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\src\\views\\personalCenter\\GameResult.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\src\\views\\personalCenter\\GameResult.vue","mtime":1608285930467},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { apiGetMatchResultByMatchId } from \"@/api/match.js\";\r\nimport { apiGetMatchs } from \"@/api/match\";\r\nimport back from \"../../components/Botton/back.vue\";\r\nexport default {\r\n  components: {\r\n    back\r\n  },\r\n  name: \"gameRes\",\r\n  created () {\r\n    this.getMatchType();\r\n  },\r\n  data () {\r\n    return {\r\n      Pindex: 0,\r\n      num: 0,\r\n      HalfNumLeft: 0,\r\n      AllNumLeft: 0,\r\n      HalfNumRight: 0,\r\n      AllNumRight: 0,\r\n      items: false,\r\n      matchs: true,\r\n      MatchItems: \"\",\r\n      MatchName: \"\",\r\n      cid: \"\",\r\n      loading: false,\r\n      finished: false,\r\n      msgList: [],\r\n      IndexNum: 1,\r\n      ftext: \"\",\r\n      offsetnum: 10,\r\n      totalCount: \"\",\r\n      totalMatchs: \"\",\r\n      searchValue: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    onLoad () {\r\n      setTimeout(() => {\r\n        this.ftext = this.$t(\"WipeNomore\");  // 【 沒有更多了 】\r\n        let data = {\r\n          matchTypeId:\r\n            this.cid || this.$store.state.match.MatchType[0].MatchTypeId,\r\n          index: this.IndexNum,\r\n          count: 10,\r\n          havaPlay: false,\r\n          matchItemTypeId: -1\r\n        };\r\n        this.$store.dispatch(\"asyncgetMatchList\", data);\r\n        setTimeout(() => {\r\n          if (this.$store.state.match.Matchs.length == 0) {\r\n            this.msgList = this.$store.state.match.Matchs;\r\n            this.totalCount = this.$store.state.match.TotalCount;\r\n            this.finished = true;\r\n            this.loading = false;\r\n            this.ftext = \"\";\r\n            return;\r\n          }\r\n          if (this.$store.state.match.Matchs.length == 10) {\r\n            this.totalCount = this.$store.state.match.TotalCount;\r\n\r\n            //獲取全部隊伍\r\n            let totalCountData = {\r\n            matchTypeId:\r\n            this.cid || this.$store.state.match.MatchType[0].MatchTypeId,\r\n            index: this.IndexNum,\r\n            count: this.totalCount,\r\n            havaPlay: false,\r\n            matchItemTypeId: -1\r\n            };\r\n            apiGetMatchs(totalCountData, true).then((res) => {\r\n              this.totalMatchs = res.Data;\r\n            });\r\n            for (let i = 0; i < this.$store.state.match.Matchs.length; i++) {\r\n              this.msgList.push(this.$store.state.match.Matchs[i]);\r\n            }\r\n            this.loading = false;\r\n            this.IndexNum++;\r\n            if (this.$store.state.match.TotalPages == this.IndexNum - 1) {\r\n              this.finished = true;\r\n              return;\r\n            }\r\n            return;\r\n          }\r\n          if (\r\n            this.$store.state.match.Matchs.length < 10 &&\r\n            this.$store.state.match.Matchs.length > 0\r\n          ) {\r\n            for (let i = 0; i < this.$store.state.match.Matchs.length; i++) {\r\n              this.msgList.push(this.$store.state.match.Matchs[i]);\r\n            }\r\n            this.loading = false;\r\n            this.finished = true;\r\n            return;\r\n          }\r\n        }, 500);\r\n      }, 500);\r\n    },\r\n\r\n    //赛事种类\r\n    getMatchType () {\r\n      let data = {\r\n        index: 1,\r\n        count: 10\r\n      };\r\n      this.$store.dispatch(\"asyncgetMatchType\", data);\r\n    },\r\n    goBack () {\r\n      this.$router.go(-1);\r\n    },\r\n    //篮球\r\n    getNumL (id, index) {\r\n      this.searchValue = \"\";\r\n      this.cid = id;\r\n      this.Pindex = index;\r\n      this.num = index;\r\n      this.initialization();\r\n      this.finished = false;\r\n\r\n      this.items = false;\r\n      this.matchs = true;\r\n      this.MatchItems = [1];\r\n    },\r\n    initialization () {\r\n      this.msgList = [];\r\n      this.IndexNum = 1;\r\n      this.loading = true; //下拉加载中\r\n      this.finished = false; //下拉结束\r\n      if (this.loading) {\r\n        this.onLoad();\r\n      }\r\n    },\r\n    pickTime () {\r\n\r\n    },\r\n    //赛事结果\r\n    showitems (id, name) {\r\n      this.$store.commit(\"upMatchid\", {\r\n        MatchName: name\r\n      });\r\n      this.$router.push({\r\n        name: \"game\",\r\n        params: {\r\n          id,\r\n          name\r\n        }\r\n      });\r\n      \r\n    },\r\n\r\n    //搜寻\r\n    search() {\r\n      if (this.searchValue == \"\") {\r\n        this.msgList = [];\r\n        this.loading = true;\r\n        this.IndexNum = 1;\r\n        this.onLoad();\r\n        // let vm = this;\r\n        // const m = vm.$message({\r\n        //   message: this.$t(\"SearchTimeError\"),\r\n        //   duration: 3000,\r\n        //   type: \"error\",\r\n        //   center: true\r\n        // });\r\n        // setTimeout(() => {m.close()}, 2000);\r\n        return\r\n      }\r\n      this.msgList = [];\r\n      this.totalMatchs.forEach(element => {\r\n        // element.MatchName.indexOf(this.searchValue)\r\n        if(element.MatchName.indexOf(this.searchValue) != -1){\r\n          this.msgList.push(element);\r\n        };\r\n      });\r\n    }\r\n  },\r\n};\r\n",null]}