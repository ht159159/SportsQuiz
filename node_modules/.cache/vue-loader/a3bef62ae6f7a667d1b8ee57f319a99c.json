{"remainingRequest":"C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\work\\竞猜可换色板\\src\\views\\ForgetPassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\work\\竞猜可换色板\\src\\views\\ForgetPassword.vue","mtime":1606980098646},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { apiResetPasswordByPhoneNumber, apiGetSMSCode } from \"@/api/User\";\r\nimport back from \"../components/Botton/back.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    back\r\n  },\r\n  data() {\r\n    return {\r\n      UName: \"\",\r\n      PhoneNumber: \"\",\r\n      SMSCode: \"\",\r\n      ResetPassword: \"\",\r\n      ResetPasswordVerify: \"\",\r\n      CodeContent: \"获取验证码\",\r\n      button: false\r\n    };\r\n  },\r\n  methods: {\r\n    backPassword() {\r\n      let data = {\r\n        UName: this.UName,\r\n        PhoneNumber: this.PhoneNumber,\r\n        SMSCode: this.SMSCode,\r\n        ResetPassword: this.ResetPassword,\r\n        ResetPasswordVerify: this.ResetPasswordVerify\r\n      };\r\n      if (this.UName == \"\") {\r\n        const m = this.$message({\r\n          message: this.$t(\"AccountEmpty\"),\r\n          duration: 1000,\r\n          type: \"error\",\r\n          center: true\r\n        });\r\n        setTimeout(() => m.close(), 1200);\r\n        return;\r\n      };\r\n      if (this.PhoneNumber == \"\") {\r\n        const m = this.$message({\r\n          message: this.$t(\"PhoneBlank\"),\r\n          duration: 1000,\r\n          type: \"error\",\r\n          center: true\r\n        });\r\n        setTimeout(() => m.close(), 1200);\r\n        return;\r\n      };\r\n      if (this.SMSCode == \"\") {\r\n        const m = this.$message({\r\n          message: this.$t(\"SMSEmpty\"),\r\n          duration: 1000,\r\n          type: \"error\",\r\n          center: true\r\n        });\r\n        setTimeout(() => m.close(), 1200);\r\n        return;\r\n      };\r\n      if (this.ResetPassword == \"\") {\r\n        const m = this.$message({\r\n          message: this.$t(\"PasswordBlank\"),\r\n          duration: 1000,\r\n          type: \"error\",\r\n          center: true\r\n        });\r\n        setTimeout(() => m.close(), 1200);\r\n        return;\r\n      };\r\n      if (this.ResetPassword != this.ResetPasswordVerify) {\r\n        const m = this.$message({\r\n          message: this.$t(\"PasswordAreInconsistent\"),\r\n          duration: 1000,\r\n          type: \"error\",\r\n          center: true\r\n        });\r\n        setTimeout(() => m.close(), 1200);\r\n        return;\r\n      }\r\n      apiResetPasswordByPhoneNumber(data).then(res => {\r\n        if(Math.abs(res.Code) >= 600) {\r\n          const m = this.$message({\r\n            message: res.Message,\r\n            duration: 1000,\r\n            type: \"error\",\r\n            center: true\r\n          });\r\n          setTimeout(() => m.close(), 1200);\r\n        } else {\r\n          const m = this.$message({\r\n            message: this.$t(\"Modify_Success\"),\r\n            duration: 1000,\r\n            type: \"success\",\r\n            center: true\r\n          });\r\n          setTimeout(() => m.close(), 1200);\r\n          setTimeout(() => {\r\n            this.$router.push(\"/\");\r\n          });\r\n        }\r\n      });\r\n    },\r\n    getCode() {\r\n      if (!/^1(3|4|5|6|7|8|9)\\d{9}$/.test(this.PhoneNumber)) {\r\n        this.$message({\r\n          message: this.$t(\"WrongFormatOfPhoneNumber\"),\r\n          duration: 3000,\r\n          type: \"error\",\r\n          center: true\r\n        });\r\n        return false;\r\n      }\r\n      this.CodeContent = 60;\r\n      let cleari = setInterval(() => {\r\n        let second = this.CodeContent;\r\n        second = second - 1;\r\n        this.CodeContent = second;\r\n        this.button = true;\r\n        if (this.CodeContent === 0) {\r\n          clearInterval(cleari);\r\n          this.CodeContent = \"获取验证码\";\r\n          this.button = false;\r\n        }\r\n      }, 1000);\r\n\r\n      let phone = this.PhoneNumber;\r\n\r\n      apiGetSMSCode(phone).then(res => {});\r\n    }\r\n  }\r\n};\r\n",{"version":3,"sources":["ForgetPassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqJA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA","file":"ForgetPassword.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"forgetpassword\">\r\n    <div class=\"fp-head\">\r\n      <!-- <i class=\"back-icon\"></i> -->\r\n      <back class=\"back-icon\"></back>\r\n    </div>\r\n    <div class=\"fp-main\">\r\n      <div class=\"inputComponent\">\r\n        <img\r\n          class=\"inputComponent-icon\"\r\n          src=\"~@/assets/icons/account.png\"\r\n          alt=\"\"\r\n        />\r\n\r\n        <input\r\n          v-model=\"UName\"\r\n          :placeholder=\"$t('Placehoder_Accout')\"\r\n          class=\"inputComponent-input\"\r\n        />\r\n      </div>\r\n      <div class=\"inputComponent\">\r\n        <img\r\n          class=\"inputComponent-icon\"\r\n          src=\"~@/assets/icons/phone.png\"\r\n          alt=\"\"\r\n        />\r\n\r\n        <input\r\n          v-model=\"PhoneNumber\"\r\n          :placeholder=\"$t('LoginCell')\"\r\n          class=\"inputComponent-input\"\r\n        />\r\n      </div>\r\n      <!-- <div class=\"user\">\r\n        <i class=\"user-icon comment-icon\"></i>\r\n        <i class=\"comment-text\">账号</i>\r\n\r\n        <input\r\n          type=\"text\"\r\n          class=\"fp-main-input\"\r\n          placeholder=\"请输入您的账号\"\r\n          v-model=\"UName\"\r\n        />\r\n      </div> -->\r\n      <!-- <div class=\"phone\">\r\n        <i class=\"phone-icon comment-icon\"></i>\r\n        <i class=\"comment-text\">手机号</i>\r\n        <input\r\n          type=\"text\"\r\n          class=\"fp-main-input\"\r\n          placeholder=\"请输入您的手机\"\r\n          v-model=\"PhoneNumber\"\r\n        />\r\n        <button class=\"getcode\" @click=\"getCode\" :disabled=\"button\">\r\n          <span v-if=\"CodeContent === '获取验证码'\">获取验证码</span>\r\n          <span v-else>{{ CodeContent }}s可发送</span>\r\n        </button>\r\n      </div> -->\r\n      <div class=\"inputComponent\">\r\n        <img\r\n          class=\"inputComponent-icon\"\r\n          src=\"~@/assets/icons/captcha.png\"\r\n          alt=\"\"\r\n        />\r\n\r\n        <input\r\n          v-model=\"SMSCode\"\r\n          :placeholder=\"$t('Placeholder_SMSCode')\"\r\n          class=\"inputComponent-input\"\r\n        />\r\n        <button class=\"getcode\" @click=\"getCode\" :disabled=\"button\">\r\n          <span v-if=\"CodeContent === '获取验证码'\">{{\r\n            $t(\"Send_ValidationCode\")\r\n          }}</span>\r\n          <span v-else>{{ CodeContent }}s可发送</span>\r\n        </button>\r\n      </div>\r\n      <div class=\"inputComponent\">\r\n        <img\r\n          class=\"inputComponent-icon\"\r\n          src=\"~@/assets/icons/password.png\"\r\n          alt=\"\"\r\n        />\r\n\r\n        <input\r\n          :placeholder=\"$t('Placeholder_NewPassword')\"\r\n          v-model=\"ResetPassword\"\r\n          class=\"inputComponent-input\"\r\n          type=\"password\"\r\n        />\r\n      </div>\r\n      <div class=\"inputComponent\">\r\n        <img\r\n          class=\"inputComponent-icon\"\r\n          src=\"~@/assets/icons/password.png\"\r\n          alt=\"\"\r\n        />\r\n\r\n        <input\r\n          :placeholder=\"$t('Placeholder_ConfirmNewPassword')\"\r\n          v-model=\"ResetPasswordVerify\"\r\n          class=\"inputComponent-input\"\r\n          type=\"password\"\r\n        />\r\n      </div>\r\n      <!-- <div class=\"code\">\r\n        <i class=\"code-icon comment-icon\"></i>\r\n        <i class=\"comment-text\">验证码</i>\r\n        <input\r\n          type=\"text\"\r\n          class=\"fp-main-input\"\r\n          placeholder=\"请输入您的验证码\"\r\n          v-model=\"SMSCode\"\r\n        />\r\n      </div> -->\r\n      <div class=\"fp-btn btn\" @click=\"backPassword\">\r\n        {{ $t(\"Confirm\") }}\r\n      </div>\r\n    </div>\r\n    <!-- <div class=\"fp-password\">\r\n      <div class=\"newpassword\">\r\n        <i class=\"newpassword-icon comment-icon\"></i>\r\n        <i class=\"comment-text\">新密码</i>\r\n        <input\r\n          type=\"password\"\r\n          class=\"fp-password-input\"\r\n          placeholder=\"请输入您的新密码\"\r\n          v-model=\"ResetPassword\"\r\n        />\r\n      </div>\r\n      <div class=\"reset\">\r\n        <i class=\"reset-icon comment-icon\"></i>\r\n        <i class=\"comment-text\">再次输入</i>\r\n        <input\r\n          type=\"password\"\r\n          class=\"fp-password-input\"\r\n          placeholder=\"请再次输入您的新密码\"\r\n          v-model=\"ResetPasswordVerify\"\r\n        />\r\n      </div>\r\n    </div> -->\r\n\r\n    <!-- <div class=\"forget-phone\">\r\n      <router-link to=\"/home\" class=\"\">忘记手机号？</router-link>\r\n    </div> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { apiResetPasswordByPhoneNumber, apiGetSMSCode } from \"@/api/User\";\r\nimport back from \"../components/Botton/back.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    back\r\n  },\r\n  data() {\r\n    return {\r\n      UName: \"\",\r\n      PhoneNumber: \"\",\r\n      SMSCode: \"\",\r\n      ResetPassword: \"\",\r\n      ResetPasswordVerify: \"\",\r\n      CodeContent: \"获取验证码\",\r\n      button: false\r\n    };\r\n  },\r\n  methods: {\r\n    backPassword() {\r\n      let data = {\r\n        UName: this.UName,\r\n        PhoneNumber: this.PhoneNumber,\r\n        SMSCode: this.SMSCode,\r\n        ResetPassword: this.ResetPassword,\r\n        ResetPasswordVerify: this.ResetPasswordVerify\r\n      };\r\n      if (this.UName == \"\") {\r\n        const m = this.$message({\r\n          message: this.$t(\"AccountEmpty\"),\r\n          duration: 1000,\r\n          type: \"error\",\r\n          center: true\r\n        });\r\n        setTimeout(() => m.close(), 1200);\r\n        return;\r\n      };\r\n      if (this.PhoneNumber == \"\") {\r\n        const m = this.$message({\r\n          message: this.$t(\"PhoneBlank\"),\r\n          duration: 1000,\r\n          type: \"error\",\r\n          center: true\r\n        });\r\n        setTimeout(() => m.close(), 1200);\r\n        return;\r\n      };\r\n      if (this.SMSCode == \"\") {\r\n        const m = this.$message({\r\n          message: this.$t(\"SMSEmpty\"),\r\n          duration: 1000,\r\n          type: \"error\",\r\n          center: true\r\n        });\r\n        setTimeout(() => m.close(), 1200);\r\n        return;\r\n      };\r\n      if (this.ResetPassword == \"\") {\r\n        const m = this.$message({\r\n          message: this.$t(\"PasswordBlank\"),\r\n          duration: 1000,\r\n          type: \"error\",\r\n          center: true\r\n        });\r\n        setTimeout(() => m.close(), 1200);\r\n        return;\r\n      };\r\n      if (this.ResetPassword != this.ResetPasswordVerify) {\r\n        const m = this.$message({\r\n          message: this.$t(\"PasswordAreInconsistent\"),\r\n          duration: 1000,\r\n          type: \"error\",\r\n          center: true\r\n        });\r\n        setTimeout(() => m.close(), 1200);\r\n        return;\r\n      }\r\n      apiResetPasswordByPhoneNumber(data).then(res => {\r\n        if(Math.abs(res.Code) >= 600) {\r\n          const m = this.$message({\r\n            message: res.Message,\r\n            duration: 1000,\r\n            type: \"error\",\r\n            center: true\r\n          });\r\n          setTimeout(() => m.close(), 1200);\r\n        } else {\r\n          const m = this.$message({\r\n            message: this.$t(\"Modify_Success\"),\r\n            duration: 1000,\r\n            type: \"success\",\r\n            center: true\r\n          });\r\n          setTimeout(() => m.close(), 1200);\r\n          setTimeout(() => {\r\n            this.$router.push(\"/\");\r\n          });\r\n        }\r\n      });\r\n    },\r\n    getCode() {\r\n      if (!/^1(3|4|5|6|7|8|9)\\d{9}$/.test(this.PhoneNumber)) {\r\n        this.$message({\r\n          message: this.$t(\"WrongFormatOfPhoneNumber\"),\r\n          duration: 3000,\r\n          type: \"error\",\r\n          center: true\r\n        });\r\n        return false;\r\n      }\r\n      this.CodeContent = 60;\r\n      let cleari = setInterval(() => {\r\n        let second = this.CodeContent;\r\n        second = second - 1;\r\n        this.CodeContent = second;\r\n        this.button = true;\r\n        if (this.CodeContent === 0) {\r\n          clearInterval(cleari);\r\n          this.CodeContent = \"获取验证码\";\r\n          this.button = false;\r\n        }\r\n      }, 1000);\r\n\r\n      let phone = this.PhoneNumber;\r\n\r\n      apiGetSMSCode(phone).then(res => {});\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style></style>\r\n"]}]}