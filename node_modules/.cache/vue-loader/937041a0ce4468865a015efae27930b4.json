{"remainingRequest":"C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\work\\竞猜可换色板\\src\\views\\AddAddress.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\work\\竞猜可换色板\\src\\views\\AddAddress.vue","mtime":1605164046924},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport back from \"@/components/Botton/back.vue\";\nimport newCity from '@/utils/city.js';\nimport {\n    apiAddEditMemAddress\n} from '@/api/User.js'\nimport {\n    mapActions,\n    mapGetters,\n    mapMutations\n} from 'vuex'\nimport Vue from 'vue';\nimport {\n    Area,\n    Toast\n} from 'vant';\n\nVue.use(Area).use(Toast);\nexport default {\n    components: {\n        back\n    },\n    data() {\n        return {\n            clear: true,\n            getPer: '',\n            phone: '',\n            address: '',\n            detailAdd: '',\n            value2: true,\n            isDefault: 0,\n            //省市区\n            cityListNew: newCity,\n            cityCodeList: [],\n            Max: 4\n        }\n    },\n    watch: {\n\n    },\n    mounted() {\n        console.log(JSON.stringify(newCity))\n\n    },\n    methods: {\n        oninput(val) {\n\n        },\n        goHome() {\n            this.$router.push('/address')\n        },\n        //组件确定键\n        handleChange() {\n\n        },\n        //将地址code转换为地区字\n        easyCity() {\n            let easyAddress = '';\n            this.cityListNew.forEach((item) => {\n                if (item.value == this.cityCodeList[0]) {\n                    //label就是字了   cityCodeList=[13,23,55]这个形式的所以要改变\n                    easyAddress += item.label;\n                    item.children.forEach((jtem) => {\n                        if (jtem.value == this.cityCodeList[1]) {\n                            easyAddress += jtem.label\n                        }\n                        jtem.children.forEach((ktem) => {\n                            if (ktem.value == this.cityCodeList[2]) {\n                                easyAddress += ktem.label\n                            }\n                        })\n                    })\n                }\n            })\n            this.address = easyAddress\n        },\n\n        goBack() {\n            this.$router.go(-1);\n        },\n        changes() {\n            if (this.value2) {\n                return 1\n            } else {\n                return 0\n            }\n        },\n        addAddress() {\n            // 判断手机号是否合法\n            this.easyCity()\n            let isMo = 0\n            if (this.value2) {\n                isMo = 1\n            } else {\n                isMo = 0\n            }\n\n            let data = {\n                AId: '',\n                UId: '',\n                UName: this.getPer,\n                UPhoneNumber: this.phone,\n                URedeemAddress: this.address + this.detailAdd,\n                IdentityCard: '123123',\n                CreateTime: new Date(),\n                IsDefault: isMo,\n            }\n            if (data.UName == '' || data.UPhoneNumber == '' || data.URedeemAddress == '') {\n                const m = this.$message({\n                    message: this.$t(\"CompleteAddressInformation\"),\n                    type: \"warning\",\n                    duration: 1000\n                });\n                setTimeout(() => m.close(), 1200)\n            } else {\n                apiAddEditMemAddress(data, true).then(res => {\n                    if (res.Data == 1) {\n                        const m = this.$message({\n                            message: this.$t(\"SavedSuccessfully\"),\n                            type: \"success\",\n                            duration: 1000\n                        });\n                        setTimeout(() => m.close(), 1200)\n                        this.$router.replace('/address')\n                        this.$router.go(-1)\n                    } else {\n                        const m = this.$message({\n                            message: this.$t(\"successfullyDeleted\"),\n                            type: \"error\",\n                            duration: 1000\n                        });\n                        setTimeout(() => m.close(), 1200)\n                    }\n                })\n            }\n        }\n    },\n    created() {\n\n    }\n}\n",null]}