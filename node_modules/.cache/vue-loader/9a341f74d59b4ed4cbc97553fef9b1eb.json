{"remainingRequest":"C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\work\\竞猜可换色板\\src\\views\\AddList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\work\\竞猜可换色板\\src\\views\\AddList.vue","mtime":1592381900134},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport back from \"@/components/Botton/back.vue\";\nimport newCity from '@/utils/city.js';\nimport {\n    apiAddEditMemAddress\n} from '@/api/User.js'\nimport {\n    mapActions,\n    mapGetters,\n    mapMutations\n} from 'vuex'\nimport Vue from 'vue';\nimport {\n    Area,\n    Toast\n} from 'vant';\n\nVue.use(Area).use(Toast);\nexport default {\n    components: {\n        back\n    },\n    data() {\n        return {\n            clear: true,\n            getPer: '',\n            phone: '',\n            address: '',\n            detailAdd: '',\n            value2: false,\n            isDefault: 0,\n            //省市区\n            cityListNew: newCity,\n            cityCodeList: [],\n        }\n    },\n    mounted() {\n\n    },\n    methods: {\n        goHome() {\n            this.$router.push('/address')\n        },\n        //组件确定键\n        handleChange() {\n\n        },\n        //将地址code转换为地区字\n        easyCity() {\n            let easyAddress = '';\n            this.cityListNew.forEach((item) => {\n                if (item.value == this.cityCodeList[0]) {\n                    //label就是字了   cityCodeList=[13,23,55]这个形式的所以要改变\n                    easyAddress += item.label;\n                    item.children.forEach((jtem) => {\n                        if (jtem.value == this.cityCodeList[1]) {\n                            easyAddress += jtem.label\n                        }\n                        jtem.children.forEach((ktem) => {\n                            if (ktem.value == this.cityCodeList[2]) {\n                                easyAddress += ktem.label\n                            }\n                        })\n                    })\n                }\n            })\n            this.address = easyAddress\n        },\n\n        goBack() {\n            this.$router.go(-1);\n        },\n        changes() {\n            if (this.value2) {\n                return 1\n            } else {\n                return 0\n            }\n        },\n        addAddress() {\n            // 判断手机号是否合法\n            this.easyCity()\n            let isMo = 0\n            if (this.value2) {\n                isMo = 1\n            } else {\n                isMo = 0\n            }\n\n            let data = {\n                AId: '',\n                UId: '',\n                UName: this.getPer,\n                UPhoneNumber: this.phone,\n                URedeemAddress: this.address + this.detailAdd,\n                IdentityCard: '123123',\n                CreateTime: new Date(),\n                IsDefault: isMo,\n            }\n            if (data.UName == '' || data.UPhoneNumber == '' || data.URedeemAddress == '') {\n                const m = this.$message({\n                    message: this.$t(\"CompleteAddressInformation\"),\n                    type: \"warning\",\n                    duration: 1000\n                });\n                setTimeout(() => m.close(), 1200)\n            } else {\n                apiAddEditMemAddress(data, true).then(res => {\n                    if (res.Data == 1) {\n                        // alert(res.Data)\n                        const m = this.$message({\n                            message: this.$t(\"SavedSuccessfully\"),\n                            type: \"success\",\n                            duration: 1000\n                        });\n                        setTimeout(() => m.close(), 1200)\n                        this.$router.push('/shopList')\n                    } else {\n                        const m = this.$message({\n                            message: this.$t(\"successfullyDeleted\"),\n                            type: \"error\",\n                            duration: 1000\n                        });\n                        setTimeout(() => m.close(), 1200)\n                    }\n                })\n            }\n        }\n    }\n}\n",{"version":3,"sources":["AddList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddList.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <main class='add'>\r\n        <div class=\"add-header\" style='position:fixed;top: 0'>\r\n            <back @click='goHome' class='back-icon img-he'></back>\r\n            <h3>{{ $t(\"ShippingAddress\") }}</h3>\r\n            <span style='\r\n            font-size: .23rem;\r\n            color: #fff;\r\n            position:absolute;\r\n            top:.5rem;right:.32rem\r\n            display: inline-block;' @click='addAddress'>{{ $t(\"Save\") }}</span>\r\n        </div>\r\n        <div class='add-couent' style='margin-top: 1.3rem'>\r\n            <ul class='add-couent-ul'>\r\n                <li class='add-couent-ul-item'>\r\n                    <span class='zileft'>{{ $t(\"Receiver\") }}</span>\r\n                    <!-- <el-input class='input' v-model=\"getPer\" placeholder=\"\"></el-input> -->\r\n                    <input style='margin-left: .4rem' class='bigInp' v-model=\"getPer\" placeholder=\"\" maxlength=4/>\r\n                </li>\r\n                <li class='add-couent-ul-item'>\r\n                    <span class='zileft'>{{ $t(\"Mobile\") }}</span>\r\n                    <!-- <el-input class='input' v-model=\"phone\" placeholder=\"\"></el-input> -->\r\n                    <input class='bigInp' v-model.number=\"phone\" type='number' placeholder=\"\" maxlength=11/>\r\n                </li>\r\n                <li class='add-couent-ul-item' style='position: relative;'>\r\n                    <span class='zileft'>{{ $t(\"Area\") }}</span>\r\n                    <!-- <el-input class='input' v-model=\"address\" placeholder=\"\"></el-input> -->\r\n                    <el-cascader\r\n                    class='citySelect'\r\n                   :options=\"cityListNew\"\r\n                    :clearable=\"clear\"\r\n                    v-model=\"cityCodeList\"\r\n                    :props=\"{ expandTrigger: 'hover' }\"\r\n                    @change=\"handleChange\"></el-cascader>\r\n                </li>\r\n                <li class='add-couent-ul-item' style='border:0;height: 1.4rem'>\r\n                    <span class='zileft'>{{ $t(\"DetailAddress\") }}</span>\r\n                    <el-input style='' type=\"textarea\" :autosize=\"{ minRows: 2, maxRows: 2}\" class='input' v-model=\"detailAdd\" :placeholder='$t(\"AddressPlaceholder\")'></el-input>\r\n                </li>\r\n            </ul>\r\n            \r\n            <div class=\"sure\">\r\n                <span>{{ $t(\"DefaultAddress\") }}</span>\r\n                <el-switch\r\n                    v-model=\"value2\"\r\n                    @change='changes'\r\n                    active-color=\"#34c759\"\r\n                    inactive-color=\"#bfbfbf\">\r\n                </el-switch>    \r\n            </div>\r\n\r\n            \r\n        </div>\r\n    </main>\r\n</template>\r\n\r\n<script>\r\n    import back from \"@/components/Botton/back.vue\";\r\n    import newCity from '@/utils/city.js';\r\n    import {\r\n        apiAddEditMemAddress\r\n    } from '@/api/User.js'\r\n    import {\r\n        mapActions,\r\n        mapGetters,\r\n        mapMutations\r\n    } from 'vuex'\r\n    import Vue from 'vue';\r\n    import {\r\n        Area,\r\n        Toast\r\n    } from 'vant';\r\n\r\n    Vue.use(Area).use(Toast);\r\n    export default {\r\n        components: {\r\n            back\r\n        },\r\n        data() {\r\n            return {\r\n                clear: true,\r\n                getPer: '',\r\n                phone: '',\r\n                address: '',\r\n                detailAdd: '',\r\n                value2: false,\r\n                isDefault: 0,\r\n                //省市区\r\n                cityListNew: newCity,\r\n                cityCodeList: [],\r\n            }\r\n        },\r\n        mounted() {\r\n\r\n        },\r\n        methods: {\r\n            goHome() {\r\n                this.$router.push('/address')\r\n            },\r\n            //组件确定键\r\n            handleChange() {\r\n\r\n            },\r\n            //将地址code转换为地区字\r\n            easyCity() {\r\n                let easyAddress = '';\r\n                this.cityListNew.forEach((item) => {\r\n                    if (item.value == this.cityCodeList[0]) {\r\n                        //label就是字了   cityCodeList=[13,23,55]这个形式的所以要改变\r\n                        easyAddress += item.label;\r\n                        item.children.forEach((jtem) => {\r\n                            if (jtem.value == this.cityCodeList[1]) {\r\n                                easyAddress += jtem.label\r\n                            }\r\n                            jtem.children.forEach((ktem) => {\r\n                                if (ktem.value == this.cityCodeList[2]) {\r\n                                    easyAddress += ktem.label\r\n                                }\r\n                            })\r\n                        })\r\n                    }\r\n                })\r\n                this.address = easyAddress\r\n            },\r\n\r\n            goBack() {\r\n                this.$router.go(-1);\r\n            },\r\n            changes() {\r\n                if (this.value2) {\r\n                    return 1\r\n                } else {\r\n                    return 0\r\n                }\r\n            },\r\n            addAddress() {\r\n                // 判断手机号是否合法\r\n                this.easyCity()\r\n                let isMo = 0\r\n                if (this.value2) {\r\n                    isMo = 1\r\n                } else {\r\n                    isMo = 0\r\n                }\r\n\r\n                let data = {\r\n                    AId: '',\r\n                    UId: '',\r\n                    UName: this.getPer,\r\n                    UPhoneNumber: this.phone,\r\n                    URedeemAddress: this.address + this.detailAdd,\r\n                    IdentityCard: '123123',\r\n                    CreateTime: new Date(),\r\n                    IsDefault: isMo,\r\n                }\r\n                if (data.UName == '' || data.UPhoneNumber == '' || data.URedeemAddress == '') {\r\n                    const m = this.$message({\r\n                        message: this.$t(\"CompleteAddressInformation\"),\r\n                        type: \"warning\",\r\n                        duration: 1000\r\n                    });\r\n                    setTimeout(() => m.close(), 1200)\r\n                } else {\r\n                    apiAddEditMemAddress(data, true).then(res => {\r\n                        if (res.Data == 1) {\r\n                            // alert(res.Data)\r\n                            const m = this.$message({\r\n                                message: this.$t(\"SavedSuccessfully\"),\r\n                                type: \"success\",\r\n                                duration: 1000\r\n                            });\r\n                            setTimeout(() => m.close(), 1200)\r\n                            this.$router.push('/shopList')\r\n                        } else {\r\n                            const m = this.$message({\r\n                                message: this.$t(\"successfullyDeleted\"),\r\n                                type: \"error\",\r\n                                duration: 1000\r\n                            });\r\n                            setTimeout(() => m.close(), 1200)\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n    .citySelect .el-input__inner {\r\n        border: 0;\r\n        margin-left: .2rem;\r\n        width: 4rem;\r\n        background: rgba(0, 0, 0, 0);\r\n        font-size: .23rem;\r\n        vertical-align: middle;\r\n        /* position: absolute; */\r\n        /* top: -.06rem */\r\n    }\r\n    \r\n    .citySelect .el-input__inner::placeholder {\r\n        font-size: 0.23rem;\r\n        /* padding-top: 0.11rem; */\r\n    }\r\n    \r\n    .el-cascader-node {\r\n        padding: 0 .3rem 0 .2rem\r\n    }\r\n    \r\n    .el-input__icon {\r\n        position: absolute;\r\n        right: -6rem;\r\n        line-height: 0;\r\n        top: .05rem;\r\n    }\r\n    \r\n    .el-cascader-panel {\r\n        margin: 0 auto;\r\n        width: 100%\r\n    }\r\n    \r\n    .el-cascader-menu {\r\n        min-width: .6rem;\r\n    }\r\n    \r\n    .el-input__inner {\r\n        height: .78rem\r\n    }\r\n    \r\n    .el-input {\r\n        width: 0;\r\n    }\r\n    \r\n    .el-textarea {\r\n        width: 0;\r\n        margin-top: 0.12rem;\r\n        height: 1.2rem\r\n    }\r\n    \r\n    .input .el-input__inner {\r\n        display: inline-block;\r\n        width: 4rem;\r\n        margin-left: .2rem;\r\n        border: 0\r\n    }\r\n    \r\n    .input .el-textarea__inner {\r\n        width: 5.6rem;\r\n        margin-left: .2rem;\r\n        border: 0;\r\n        font-size: .23rem;\r\n    }\r\n    \r\n    .van-switch__node {}\r\n    \r\n    .el-switch__core {\r\n        margin-left: 4.6rem;\r\n    }\r\n    \r\n    .el-switch__input {\r\n        width: .4rem;\r\n    }\r\n</style>\r\n\r\n<style scoped>\r\n    .bigInp {\r\n        height: .78rem;\r\n        margin-left: .2rem;\r\n        padding-left: .24rem;\r\n        font-size: 0.23rem;\r\n        color: #606266;\r\n        border: 0;\r\n    }\r\n</style>"]}]}