{"remainingRequest":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\src\\views\\club\\ClubDividendWithdrawal.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\src\\views\\club\\ClubDividendWithdrawal.vue","mtime":1608703850656},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport back from \"@/components/Botton/back.vue\";\r\nimport model from \"@/components/model\";\r\nimport { apiGetClubBonusRpt, apiReceiveBonus } from \"@/api/Club\";\r\nexport default {\r\n    components: {\r\n        back,\r\n        model\r\n    },\r\n    data () {\r\n        return {\r\n            clubBonusRptList: [],\r\n            isLoading: true,\r\n            noMission: false,\r\n            busy: false,\r\n            IndexNum: 1,\r\n            isDividendBoxOpen: false,\r\n            itemId: \"\",\r\n            tatolPages: 1\r\n        }\r\n    },\r\n    methods:{\r\n        load() {\r\n        this.busy = true;\r\n        let data = {\r\n            index: this.IndexNum,\r\n            count: 10\r\n        };\r\n        this.getClubBonusRpt(data);\r\n        },\r\n        getClubBonusRpt(Data) {\r\n            apiGetClubBonusRpt(Data ,true).then(res =>{\r\n                if(res.data.Data.length == 0 || Math.abs(res.Code) >= 600){\r\n                    this.isLoading = false;\r\n                    this.busy = true;\r\n                    if (this.clubBonusRptList.length == 0) {\r\n                        \r\n                        this.noMission = true;\r\n                    }\r\n                }else {\r\n                    this.tatolPages = res.data.TatolPages;\r\n                    this.busy = false;\r\n                    if (this.IndexNum == res.data.TatolPages) {\r\n                        this.busy = true;\r\n                    }\r\n                    this.isLoading = false;\r\n                    for (let i = 0; i < res.data.Data.length; i++) {\r\n                        this.clubBonusRptList.push(res.data.Data[i]);\r\n                    }\r\n                    this.IndexNum++;\r\n                    \r\n                }\r\n            })\r\n        },\r\n        dividend(Id) {\r\n            let dividendData = {\r\n                rptId: Id\r\n            }\r\n            apiReceiveBonus(dividendData, true).then(res => {\r\n                if(Math.abs(res.Code) >= 600) {\r\n                    let vm = this;\r\n                    const m = vm.$message({\r\n                        message: res.data.message,\r\n                        duration: 3000,\r\n                        type: \"error\",\r\n                        center: true\r\n                    });\r\n                    setTimeout(() => {m.close()}, 2000);\r\n                    this.isDividendBoxOpen = false;\r\n                    return\r\n                }else {\r\n                    let vm = this;\r\n                    const m = vm.$message({\r\n                        message: res.data.message,\r\n                        duration: 3000,\r\n                        type: \"success\",\r\n                        center: true\r\n                    });\r\n                    setTimeout(() => {m.close()}, 2000);\r\n                    this.isLoading = true;\r\n                    this.clubBonusRptList= [];\r\n                    this.IndexNum = 1;\r\n                    let data = {\r\n                        index: this.IndexNum,\r\n                        count: 10\r\n                    };\r\n                    this.getClubBonusRpt(data);\r\n                    this.isDividendBoxOpen = false;\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n",null]}