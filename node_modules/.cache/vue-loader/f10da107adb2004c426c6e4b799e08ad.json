{"remainingRequest":"C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\work\\竞猜可换色板\\src\\views\\Challenge\\challengeTicket.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\work\\竞猜可换色板\\src\\views\\Challenge\\challengeTicket.vue","mtime":1604629987361},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { apiBuyChallengeTicket } from \"@/api/match\";\r\nimport back from \"../../components/Botton/back.vue\";\r\nimport FlowAd from \"@/components/FlowAd\";\r\nimport { apiGetFlowAdByType} from \"@/api/FlowAd.js\";\r\nexport default {\r\n  components: {\r\n    back,\r\n    FlowAd\r\n  },\r\n  data() {\r\n    return {\r\n      isOpenAd: false,\r\n      adTypeId: 0,\r\n    }\r\n  },\r\n  methods: {\r\n    buy() {\r\n      let data = {\r\n        matchId: this.$route.params.id\r\n      };\r\n\r\n      apiBuyChallengeTicket(data, true).then(res => {\r\n        if (res.IsSuccess) {\r\n          this.$message({\r\n            message: \"购买成功\",\r\n            duration: 3000,\r\n            type: \"success\",\r\n            center: true\r\n          });\r\n          setTimeout(() => {\r\n            this.$router.push(\"/challengematch\");\r\n          }, 2000);\r\n        } else if (res.Code == 600) {\r\n          this.$message({\r\n            message: res.Message,\r\n            duration: 3000,\r\n            type: \"error\",\r\n            center: true\r\n          });\r\n          // 彈出廣告\r\n          setTimeout(() => {\r\n            this.adTypeId = 2;\r\n            let data = {\r\n              flowAdTypeId: this.adTypeId\r\n            };\r\n            apiGetFlowAdByType(data, true).then(res => {\r\n              if(Object.keys(res.Data).length > 0) {\r\n                this.isOpenAd = true;\r\n              } else {\r\n                this.isOpenAd = false;\r\n              }\r\n            });\r\n          }, 1000);\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n",null]}