{"remainingRequest":"C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\work\\竞猜可换色板\\src\\components\\MainGame.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\work\\竞猜可换色板\\src\\components\\MainGame.vue","mtime":1592534631000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\@vue\\cli-service\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.tinder-card {\r\n  /* box-shadow: 15px 13px 10px rgba(80, 68, 68, 0.87) !important; */\r\n}\r\n",{"version":3,"sources":["MainGame.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0UA;AACA;AACA","file":"MainGame.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div style=\"height:100%\">\r\n    <Tinder\r\n      ref=\"tinder\"\r\n      :max=\"2\"\r\n      :allowSuper=\"false\"\r\n      key-name=\"PlayId\"\r\n      :queue.sync=\"games\"\r\n      :offset-y=\"10\"\r\n      @submit=\"onSubmit\"\r\n    >\r\n      <template slot-scope=\"scope\">\r\n        <div class=\"mainHome-card\">\r\n          <div class=\"mainHome-card-title\">\r\n            <img\r\n              v-if=\"scope.data.MatchLogo\"\r\n              :src=\"scope.data.MatchLogo\"\r\n              class=\"pic_champion\"\r\n            />\r\n            <img v-else src=\"@/assets/champion.png\" class=\"pic_champion\" />\r\n            <span class=\"game-name\">{{\r\n              games.length == 0 ? \"\" : scope.data.MatchName\r\n            }}</span>\r\n          </div>\r\n          <div class=\"vsImg\">\r\n            <template v-if=\"isSwipe\">\r\n              <div class=\"vsImg-content\" style=\"position: relative;\">\r\n                <div class=\"left-team\">\r\n                  <div class=\"team-pic-wrap\">\r\n                    <img\r\n                      v-if=\"scope.data.HomeLogo\"\r\n                      class=\"left-team-pic\"\r\n                      :src=\"games.length == 0 ? '' : scope.data.HomeLogo\"\r\n                      alt\r\n                    />\r\n                    <img\r\n                      v-else\r\n                      src=\"@/assets/instead_logo1.png\"\r\n                      class=\"left-team-pic\"\r\n                    />\r\n                  </div>\r\n                  <p class=\"left-team-name\">\r\n                    {{ games.length == 0 ? \"\" : scope.data.HomeName }}\r\n                  </p>\r\n                </div>\r\n                <!-- <img\r\n                  class=\"vs-pic\"\r\n                  src=\"@/assets/vs_04.png\"\r\n                  :class=\"isLoading ? 'go' : ''\"\r\n                  @click=\"isLoading = !isLoading\"\r\n                /> -->\r\n                <h1 class=\"vs-pic\">V</h1>\r\n                <h2 class=\"vs-pic\">S</h2>\r\n                <div class=\"right-team\">\r\n                  <div class=\"team-pic-wrap\">\r\n                    <img\r\n                      v-if=\"scope.data.AwayLogo\"\r\n                      class=\"right-team-pic\"\r\n                      :src=\"games.length == 0 ? '' : scope.data.AwayLogo\"\r\n                      alt\r\n                    />\r\n                    <img\r\n                      v-else\r\n                      src=\"@/assets/instead_logo1.png\"\r\n                      class=\"right-team-pic\"\r\n                    />\r\n                  </div>\r\n                  <p class=\"right-team-name\">\r\n                    {{ games.length == 0 ? \"\" : scope.data.AwayHome }}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </template>\r\n          </div>\r\n          <div class=\"slide-pic-wrap\">\r\n            <div class=\"slide-pic\">\r\n              <p class=\"swipe-text\">{{ $t(\"SlideLeft\") }}</p>\r\n              <p class=\"swipe-right\">{{ $t(\"SlideRight\") }}</p>\r\n            </div>\r\n            <!-- <img class=\"slide-pic\" src=\"@/assets/slide.png\" /> -->\r\n          </div>\r\n          <div class=\"info-block-wrap\">\r\n            <div class=\"info-block\">\r\n              <span class=\"info-block-font team-name\">{{\r\n                games.length == 0 ? \"\" : scope.data.HomeName\r\n              }}</span>\r\n              <span class=\"text-focus-red info-block-font result\">{{\r\n                games.length == 0 ? \"\" : scope.data.PlayName\r\n              }}</span>\r\n            </div>\r\n            <div class=\"info-block\">\r\n              <span class=\"info-block-font\">{{ $t(\"Odds\") }}:</span>\r\n              <span class=\"text-focus-blue info-block-font font result\">{{\r\n                scope.data.Odds\r\n              }}</span>\r\n              <span class=\"info-block-font\">{{ $t(\"GuessCoins\") }}:</span>\r\n              <span class=\"text-focus-blue info-block-font result\">{{\r\n                games.length == 0 ? \"0\" : scope.data.MinBetAmount\r\n              }}</span>\r\n            </div>\r\n            <div class=\"info-block2\">\r\n              <span class=\"info-block-font\">{{ $t(\"WinningReward\") }}:</span>\r\n              <span class=\"text-focus-blue info-block-font result2\"\r\n                >{{ games.length == 0 ? \"\" : scope.data.WinningAmount }}\r\n                {{ $t(\"Coins\") }}</span\r\n              >\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </template>\r\n    </Tinder>\r\n    <img\r\n      v-if=\"blank\"\r\n      src=\"@/assets/weihu.jpg\"\r\n      style=\" position: absolute;top: .1rem;width: 100%;height: 100%;\"\r\n    />\r\n    <div class=\"btns\"></div>\r\n    <!-- 投注彈窗 -->\r\n    <!-- <transition name='fade'>\r\n    <div class=\"betmodel\" style='z-index: 10001' v-show=\"tan&&games.length>0\">\r\n        <div v-if=\"tan&&previousGame\" style=\"width: 100%;height:100%;position:initial;z-index:22\" v-show=\"!noData\">\r\n            <div class=\"boxB\">\r\n                <div class=\"top\">\r\n                    <img src=\"@/assets/imgg_03.png\" />\r\n                </div>\r\n                <div class=\"bottom\">\r\n                    <p style=\"line-height: .38rem;font-weight:800\">\r\n                        {{!previousGame?'':previousGame.TeamMatchItemViewModels[0].TeamName}}\r\n                        <span style=\"color:#dc3849\">VS</span> {{!previousGame?\"\":previousGame.TeamMatchItemViewModels[1].TeamName}}\r\n                    </p>\r\n                    <p style=\"line-height: .38rem;\">\r\n                        投注选择：\r\n                        <span style=\"color:#dc3849\">{{!previousGame?'':previousGame.CommonPlayViewModelGroups[0][playIdIndex].Text}}</span>\r\n                    </p>\r\n                    <p style=\"line-height: .38rem;\">\r\n                        投注金币：\r\n                        <span style=\"color:#dc3849\">{{!previousGame?'':previousGame.MinBetIntegral}}</span>\r\n                    </p>\r\n                    <p style=\"line-height: .38rem;\">\r\n                        可赢金币：\r\n                        <span style=\"color:#dc3849\">{{!previousGame?'':getWinAmount()}}</span>\r\n                    </p>\r\n                    <p class=\"di\">\r\n                        <span @click=\"quxiao\" style=\"background: linear-gradient(to right, #c5c5c5, #acacac);cursor:pointer;\">取消</span>\r\n                        <span @click=\"que\" style=\"background: linear-gradient(to right, #e73a51, #dc3849);margin-left: .4rem;cursor:pointer;\">确定</span>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</transition> -->\r\n    <div class=\"gomatch\" @click=\"gomatch\">\r\n      <p class=\"gomatch-text\">{{ $t(\"GameIcon\") }}</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  apiGetRecommendMatchItem,\r\n  apiGetBetResponse,\r\n  apiBetRecommend,\r\n  apiIsMaintenance\r\n} from \"@/api/match.js\";\r\nimport Tinder from \"vue-tinder\";\r\nimport Vue from \"vue\";\r\nimport { Dialog } from \"vant\";\r\nimport { Image } from \"vant\";\r\nimport { randomBytes } from \"crypto\";\r\nimport { betSuccess, betPass } from \"@/utils/medias\";\r\n\r\nVue.use(Dialog).use(Image);\r\nexport default {\r\n  name: \"homeCard\",\r\n  components: {\r\n    Tinder\r\n  },\r\n  data() {\r\n    return {\r\n      isMaintenance: false,\r\n      noData: true,\r\n      isSwipe: true,\r\n      isLoading: false,\r\n      tan: false,\r\n      games: [], //比赛集\r\n      matchList: [],\r\n      previousGame: null,\r\n      playIdIndex: 0, //当前盘口位置\r\n      pageIndex: 1,\r\n      pageSize: 15,\r\n      blank: false\r\n    };\r\n  },\r\n  filters: {\r\n    host(val) {\r\n      if (val) {\r\n        return \"主\";\r\n      } else if (!val) {\r\n        return \"客\";\r\n      }\r\n    }\r\n  },\r\n  computed: {},\r\n  created() {\r\n    this.getMatchList();\r\n  },\r\n  methods: {\r\n    gomatch() {\r\n      this.$router.push(\"/gameSport\");\r\n    },\r\n    onSubmit(choice) {\r\n      // choice.type： 结果，'like'：右滑, 'nope'：左滑, 'super'：上滑\r\n      // choice.key：  被移除卡片的 keyName\r\n      // choice.item： queue 中的子对象\r\n      this.previousGame = choice.item;\r\n      if (choice.type == \"nope\") {\r\n        this.tan = true;\r\n        // 左滑音效\r\n        betPass.play();\r\n      } else if (choice.type == \"like\") {\r\n        this.que();\r\n        // 右滑音效\r\n        betSuccess.play();\r\n      }\r\n      if (this.$refs.tinder.queue.length == 0) {\r\n        this.getMatchList();\r\n      }\r\n    },\r\n    goGames() {\r\n      this.$router.push(\"/gamesport\");\r\n    },\r\n    //可盈金额计算\r\n    // getWinAmount() {\r\n    //     return this.games.length < 1 || this.$refs.tinder.queue.length == 0 ?\r\n    //         \"\" :\r\n    //         this.tan ? (this.previousGame.MinBetIntegral *\r\n    //             (this.previousGame.CommonPlayViewModelGroups[0][this.playIdIndex].Text.split(\" \")[1] - 1)\r\n    //         ).toFixed(2) :\r\n    //         (this.$refs.tinder.queue[0].MinBetIntegral *\r\n    //             (this.$refs.tinder.queue[0].CommonPlayViewModelGroups[0][this.playIdIndex].Text.split(\" \")[1] - 1))\r\n    //         .toFixed(2);\r\n    // },\r\n    getMatchList() {\r\n      let data = {\r\n        index: this.pageIndex,\r\n        count: this.pageSize\r\n      };\r\n      this.isLoading = !this.isLoading;\r\n      apiGetRecommendMatchItem(data).then(res => {\r\n        this.pageIndex++;\r\n        this.isLoading = !this.isLoading;\r\n        if (res.Data.length == 0) {\r\n          this.noData = true;\r\n          //维护检查\r\n          apiIsMaintenance().then(res => {\r\n            this.isMaintenance = res.IsMaintenance;\r\n          });\r\n        } else {\r\n          this.games = res.Data;\r\n          this.randomGames();\r\n          this.noData = false;\r\n        }\r\n        if (this.pageIndex > res.TotalPages) {\r\n          this.pageIndex = 1;\r\n        }\r\n        this.matchList = res.Data;\r\n        if (this.matchList.length == 0) {\r\n          setTimeout(() => {\r\n            this.blank = true;\r\n          }, 500);\r\n        } else {\r\n          this.blank = false;\r\n        }\r\n      });\r\n    },\r\n    quxiao() {\r\n      this.tan = false;\r\n      this.$refs[\"tinder\"].rewind([this.previousGame]);\r\n    },\r\n    que() {\r\n      let data = {\r\n        playId: this.previousGame.PlayId,\r\n        betIntegral: this.previousGame.MinBetAmount\r\n      };\r\n      apiBetRecommend(data, true).then(res => {\r\n        if (res.IsBetSucceed) {\r\n          const m = this.$message({\r\n            message:\r\n              this.$t(\"BettingSuccessfulPrompt\") + \" \" + res.AvailableIntegral,\r\n            type: \"success\",\r\n            duration: 1500\r\n          });\r\n          setTimeout(() => m.close(), 1200);\r\n        } else if (res.Code == 600) {\r\n          const m = this.$message({\r\n            message: res.Message,\r\n            type: \"error\",\r\n            duration: 1000\r\n          });\r\n          setTimeout(() => m.close(), 1200);\r\n          this.$refs[\"tinder\"].rewind([this.previousGame]);\r\n        }\r\n      });\r\n      this.tan = false;\r\n    },\r\n    // 隨機組合\r\n    randomGames() {\r\n      if (this.games) {\r\n        this.games.sort(function() {\r\n          return 0.5 - Math.random();\r\n        });\r\n      }\r\n    }\r\n\r\n    // // 首頁左滑音效\r\n    // slidePassSound() {\r\n    //   let passSound = document.querySelector(\"#pass\");\r\n    //   passSound.currentTime = 0; //  讓每次回到音效檔的起始點\r\n    //   passSound.play(); //  播放元素的音效\r\n    // },\r\n    // // 首頁右滑滑音效\r\n    // betSucessSound() {\r\n    //   let sucessSound = document.querySelector(\"#sucess\");\r\n    //   sucessSound.currentTime = 0; //  讓每次回到音效檔的起始點\r\n    //   sucessSound.play(); //  播放元素的音效\r\n    // }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.tinder-card {\r\n  /* box-shadow: 15px 13px 10px rgba(80, 68, 68, 0.87) !important; */\r\n}\r\n</style>\r\n<style scoped>\r\n.vue-tinder {\r\n  position: absolute;\r\n  z-index: 1;\r\n  left: 0;\r\n  right: 0;\r\n  top: 10px;\r\n  margin: auto;\r\n  border-radius: 10px;\r\n  height: calc(100% - 0.4rem);\r\n  min-width: 300px;\r\n  max-width: 355px;\r\n}\r\n\r\n.nope-pointer,\r\n.like-pointer {\r\n  position: absolute;\r\n  z-index: 1;\r\n  top: 20px;\r\n  width: 64px;\r\n  height: 64px;\r\n}\r\n\r\n.nope-pointer {\r\n  right: 10px;\r\n}\r\n\r\n.like-pointer {\r\n  left: 10px;\r\n}\r\n\r\n.super-pointer {\r\n  position: absolute;\r\n  z-index: 1;\r\n  bottom: 80px;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n  width: 112px;\r\n  height: 78px;\r\n}\r\n\r\n.fade-enter,\r\n.fade-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n.fade-leave,\r\n.fade-enter-to {\r\n  opacity: 1;\r\n}\r\n\r\n.fade-enter-active,\r\n.fade-leave-active {\r\n  transition: all 1s;\r\n}\r\n\r\n@keyframes gif {\r\n  0% {\r\n    -webkit-transform: rotateY(0deg);\r\n    transform: rotateY(0deg);\r\n  }\r\n  100% {\r\n    -webkit-transform: rotateY(360deg);\r\n    transform: rotateY(360deg);\r\n  }\r\n}\r\n\r\n.go {\r\n  -webkit-animation: gif 2s infinite linear;\r\n  animation: gif 2s infinite linear;\r\n}\r\n\r\n.no-mode-translate-fade-enter-active,\r\n.no-mode-translate-fade-leave-active {\r\n  transition: all 0.5s;\r\n}\r\n\r\n.no-mode-translate-fade-enter,\r\n.no-mode-translate-fade-leave-active {\r\n  opacity: 0;\r\n}\r\n\r\n.no-mode-translate-fade-enter {\r\n  transform: translateX(400px);\r\n}\r\n\r\n.no-mode-translate-fade-leave-active {\r\n  transform: translateX(-400px);\r\n}\r\n\r\n.bigImgimg {\r\n  position: fixed;\r\n  bottom: 2rem;\r\n  right: 0;\r\n  z-index: 5;\r\n}\r\n\r\n.fade-enter-active,\r\n.fade-leave-active {\r\n  transition: opacity 0.5s;\r\n}\r\n\r\n.fade-enter,\r\n.fade-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n.fade-leave,\r\n.fade-enter-to {\r\n  opacity: 1;\r\n}\r\n\r\n.boxB {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  margin: auto;\r\n  width: 5.5rem;\r\n  height: 3.4rem;\r\n  /* transform: translate(-50%,-50%); */\r\n  animation: show 1s;\r\n  z-index: 66;\r\n}\r\n\r\n.boxB .top {\r\n  width: 100%;\r\n  height: 0.8rem;\r\n  background: #c12f3e;\r\n  border-top-left-radius: 0.2rem;\r\n  border-top-right-radius: 0.2rem;\r\n  position: relative;\r\n}\r\n\r\n.boxB .top img {\r\n  position: absolute;\r\n  width: 4.36rem;\r\n  height: 0.92rem;\r\n  left: 0;\r\n  top: -0.1rem;\r\n  right: 0;\r\n  bottom: 0;\r\n  margin: auto;\r\n}\r\n\r\n.boxB .bottom {\r\n  width: 100%;\r\n  border-bottom-left-radius: 0.2rem;\r\n  border-bottom-right-radius: 0.2rem;\r\n  background: #f3f3f3;\r\n  font-size: 0.3rem;\r\n  text-align: center;\r\n  color: #4d4d4d;\r\n  padding-top: 0.1rem;\r\n}\r\n\r\n.di {\r\n  width: 100%;\r\n  border-top: 1px solid #d8d8d8;\r\n  padding: 0.37rem 0 0.34rem 0;\r\n}\r\n\r\n.di span {\r\n  display: inline-block;\r\n  width: 2.1rem;\r\n  height: 0.6rem;\r\n  border-radius: 0.4rem;\r\n  text-align: center;\r\n  line-height: 0.6rem;\r\n  font-size: 0.24rem;\r\n  color: #fff;\r\n  box-shadow: 1px 3px 6px #d8d8d8;\r\n}\r\n</style>\r\n"]}]}