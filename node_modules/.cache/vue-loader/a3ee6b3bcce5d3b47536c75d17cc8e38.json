{"remainingRequest":"C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\work\\竞猜可换色板\\src\\views\\GameSport.vue?vue&type=style&index=0&id=316238d8&lang=scss&scoped=true&","dependencies":[{"path":"C:\\work\\竞猜可换色板\\src\\views\\GameSport.vue","mtime":1596524913257},{"path":"C:\\work\\竞猜可换色板\\node_modules\\@vue\\cli-service\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.ss {\r\n  height: calc(100% - 1.25rem);\r\n}\r\n",{"version":3,"sources":["GameSport.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiYA;AACA;AACA","file":"GameSport.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <main class=\"game\">\r\n    <div class=\"ss\">\r\n      <div class=\"sport-header\">\r\n        <h3>{{ $t('SportGame') }}</h3>  <!-- 【 赛事 】 -->\r\n      </div>\r\n\r\n      <nav class=\"match-tabs\">\r\n        <van-tabs v-model=\"active\" class=\"match-tab\">\r\n          <van-tab\r\n            :title=\"item.MatchTypeName\"\r\n            v-for=\"item in ballTypes\"\r\n            :key=\"item.MatchTypeId\"\r\n          >\r\n            <div\r\n              slot=\"title\"\r\n              @click=\"showtabs(item.MatchTypeId)\"\r\n              class=\"matchbutton\"\r\n            >\r\n              <span>{{ item.MatchTypeName }}</span>\r\n            </div>\r\n            <!-- <div class=\"sport-main-title h5\">2019-09-20 周五 24场比赛</div>\r\n          <div\r\n            class=\"sport-main-collapse\"\r\n            v-for=\"item in $store.state.match.Matchs\"\r\n            :key=\"item.MatchId\"\r\n          >\r\n            <div class=\"sport-main-collapse-name\">test</div>\r\n            <div class=\"sport-main-collapse-icon\"></div>\r\n          </div> -->\r\n            <main class=\"sport-main\">\r\n              <!-- <div class=\"sport-main-title h5\">\r\n                {{\r\n                $store.state.match.MatchType[0].CreationTime.slice(\r\n                  0,\r\n                  $store.state.match.MatchType[0].CreationTime.indexOf(\"T\")\r\n                )\r\n              }}\r\n              </div> -->\r\n              <div class=\"sport-main-tabtitle\">\r\n                <div class=\"sport-main-tabtitle-tabs\" @click=\"fntab(-1)\">\r\n                  <span\r\n                    :class=\"{\r\n                      'sport-main-tabtitle-tabs-active': titlenum == -1\r\n                    }\"\r\n                    >{{ $t(\"All\") }}</span> <!-- 【 全部 】 -->\r\n                </div>\r\n                <div class=\"sport-main-tabtitle-tabs\" @click=\"fntab(0)\">\r\n                  <span\r\n                    :class=\"{\r\n                      'sport-main-tabtitle-tabs-active': titlenum == 0\r\n                    }\"\r\n                    >{{ $t(\"MorningSession\") }}</span> <!-- 【 早盘 】 -->\r\n                </div>\r\n                <div class=\"sport-main-tabtitle-tabs\" @click=\"fntab(1)\">\r\n                  <span\r\n                    :class=\"{\r\n                      'sport-main-tabtitle-tabs-active': titlenum == 1\r\n                    }\"\r\n                    >{{ $t(\"Today\") }}</span>  <!-- 【 今日 】 -->\r\n                </div>\r\n                <div class=\"sport-main-tabtitle-tabs\" @click=\"fntab(2)\">\r\n                  <span\r\n                    :class=\"{\r\n                      'sport-main-tabtitle-tabs-active': titlenum == 2\r\n                    }\"\r\n                    >{{ $t(\"Boules\") }}</span>  <!-- 【 滚球 】 -->\r\n                </div>\r\n              </div>\r\n              <van-list\r\n                class=\"sport-main-collapses\"\r\n                v-model=\"loading\"\r\n                :finished=\"finished\"\r\n                @load=\"onLoad\"\r\n                :finished-text=\"ftext\"\r\n                :offset=\"offsetnum\"\r\n              >\r\n                <div class=\"sport-main-collapse\" v-for=\"(item, index) in msgList\" :key=\"index\" @click=\"gojump(item.MatchId, item.MatchName)\">\r\n                  <img v-if=\"item.Img\" :src=\"item.Img\" alt=\"\" class=\"sport-main-collapse-img\">\r\n                  <img v-else src=\"@/assets/instead_logo1.png\" alt=\"\" class=\"sport-main-collapse-img\">\r\n                  <div class=\"sport-main-collapse-name\">\r\n                    {{ item.MatchName }}\r\n                  </div>\r\n                  <div class=\"sport-main-collapse-icon\"></div>\r\n                </div>\r\n              </van-list>\r\n              <div class=\"nomatchs\" v-if=\"msgList.length === 0\">\r\n                <p>{{ $t(\"NoMatch\") }}</p>  <!-- 【 暂无赛事 】 -->\r\n              </div>\r\n            </main>\r\n          </van-tab>\r\n        </van-tabs>\r\n      </nav>\r\n    </div>\r\n    <nav-bottom></nav-bottom>\r\n  </main>\r\n</template>\r\n\r\n<script>\r\nimport NavBottom from \"@/components/Main/NavBottom.vue\";\r\nimport { apiGetMatchs, apiGetMatchTypes } from \"@/api/match\";\r\nexport default {\r\n  created() {\r\n    // this.getMatchType();\r\n    this.getmatchs();\r\n    // this.showtabs2(this.football.matchTypeId);\r\n  },\r\n  name: \"gameSport\",\r\n  components: {\r\n    NavBottom\r\n  },\r\n  data() {\r\n    return {\r\n      ballTypes: [],\r\n      currenBallTypes: 0,\r\n      matchs: [],\r\n      pageIndex: 1,\r\n      pageSize: 10,\r\n\r\n      active: 0,\r\n      tab1: false,\r\n      tab2: true,\r\n      tab3: false,\r\n      tab4: false,\r\n      tab5: false,\r\n      tab6: false,\r\n      // football: {\r\n      //   matchTypeId: this.$store.state.match.MatchType[0].MatchTypeId\r\n      // },\r\n      date: \"\",\r\n      count: \"\",\r\n      mid: \"\",\r\n      mlist: \"\",\r\n      msgList: [],\r\n      IndexNum: 1,\r\n      busy: false,\r\n      loading: false,\r\n      finished: false,\r\n      cid: \"\",\r\n      page: \"\",\r\n      ftext: \"\",\r\n      matchItemTypeId: -1,\r\n      titlenum: -1,\r\n      offsetnum: 50\r\n    };\r\n  },\r\n  methods: {\r\n    fntab(id) {\r\n      this.matchItemTypeId = id;\r\n      this.titlenum = id;\r\n      this.initialization();\r\n      if (id == 2) {\r\n        this.$store.commit(\"uptitlenum\", {\r\n          id\r\n        });\r\n        return;\r\n      }\r\n      if (id == 0) {\r\n        this.$store.commit(\"uptitlenum\", {\r\n          id\r\n        });\r\n        return;\r\n      }\r\n      if (id == 1 || id == -1) {\r\n        this.$store.commit(\"uptitlenum\", {\r\n          id\r\n        });\r\n        return;\r\n      }\r\n    },\r\n    // getBallTypes(){\r\n    //   let data = {\r\n    //     index: 1,\r\n    //     count: 10\r\n    //   };\r\n    //   this.$store.dispatch(\"asyncgetMatchType\", data);\r\n    // },\r\n\r\n    // getMatchs(){\r\n    //  let data={\r\n    // matchTypeId: this.currenBallTypes,\r\n    //     index: 1,\r\n    //     count: 10\r\n    //  };\r\n    //  this.$store.dispatch(\"asyncgetMatchList\", data);\r\n    // },\r\n\r\n    // onLoad() {\r\n    //   setTimeout(() => {\r\n\r\n    //     let data = {\r\n    //       matchTypeId:\r\n    //         this.cid || this.$store.state.match.MatchType[0].MatchTypeId,\r\n    //       index: this.IndexNum,\r\n    //       count: 10\r\n    //     };\r\n    //     // }\r\n    //     this.$store.dispatch(\"asyncgetMatchList\", data);\r\n\r\n    //     setTimeout(() => {\r\n    //       //是否全部加载\r\n\r\n    //       //没有比赛\r\n    //       if (this.$store.state.match.Matchs.length == 0) {\r\n    //         this.msgList = this.$store.state.match.Matchs;\r\n    //         this.finished = true;\r\n    //         this.loading = false;\r\n    //         // this.finished = true;\r\n    //         return;\r\n    //       }\r\n    //       //添加比赛\r\n    //       if (this.$store.state.match.Matchs.length == 10) {\r\n    //         for (let i = 0; i < this.$store.state.match.Matchs.length; i++) {\r\n    //           this.msgList.push(this.$store.state.match.Matchs[i]);\r\n    //         }\r\n    //         this.loading = false;\r\n    //         this.IndexNum++;\r\n    //         if (this.$store.state.match.TotalPages == this.IndexNum - 1) {\r\n\r\n    //           this.finished = true;\r\n    //           return;\r\n    //         }\r\n    //         return;\r\n    //       }\r\n    //       //剩余比赛\r\n    //       if (\r\n    //         this.$store.state.match.Matchs.length < 10 &&\r\n    //         this.$store.state.match.Matchs.length > 0\r\n    //       ) {\r\n    //         for (let i = 0; i < this.$store.state.match.Matchs.length; i++) {\r\n    //           this.msgList.push(this.$store.state.match.Matchs[i]);\r\n    //         }\r\n    //         this.loading = false;\r\n    //         this.finished = true;\r\n    //         return;\r\n    //       }\r\n    //     }, 500);\r\n    //   }, 500);\r\n    // },\r\n\r\n    // load() {\r\n    //   this.busy = true;\r\n    //   let data = {\r\n    //     matchTypeId: this.$store.state.match.MatchType[0].MatchTypeId,\r\n    //     index: this.IndexNum,\r\n    //     count: 10\r\n    //   };\r\n\r\n    //   this.$store.dispatch(\"asyncgetMatchList\", data);\r\n    //   if (this.$store.state.match.Matchs.length == 0) {\r\n    //     this.busy = true;\r\n    //     return;\r\n    //   } else if (this.$store.state.match.Matchs.length > 0) {\r\n    //     for (let i = 0; i < this.$store.state.match.Matchs.length; i++) {\r\n    //       this.msgList.push(this.$store.state.match.Matchs[i]);\r\n    //       this.busy = false;\r\n    //     }\r\n    //     this.IndexNum++;\r\n    //   }\r\n    // },\r\n    onLoad() {\r\n      // debugger;\r\n\r\n      this.one = true;\r\n      this.ftext = this.$t(\"WipeNomore\");  // 【 沒有更多了 】\r\n      let data1 = {\r\n        matchTypeId: this.cid || this.ballTypes[0].MatchTypeId,\r\n        index: this.IndexNum,\r\n        count: 10,\r\n        havaPlay: true,\r\n        matchItemTypeId: this.matchItemTypeId\r\n      };\r\n      apiGetMatchs(data1, true).then(res => {\r\n        this.matchs = res.Data;\r\n        this.page = res.TotalPages;\r\n        //没有比赛\r\n        if (this.matchs.length == 0) {\r\n          this.msgList = this.matchs;\r\n          this.finished = true;\r\n          this.loading = false;\r\n          // this.finished = true;\r\n          this.ftext = \"\";\r\n          return;\r\n        }\r\n        //添加比赛\r\n        if (this.matchs.length == 10) {\r\n          this.IndexNum++;\r\n          for (let i = 0; i < this.matchs.length; i++) {\r\n            this.msgList.push(this.matchs[i]);\r\n          }\r\n          this.loading = false;\r\n\r\n          if (this.page == this.IndexNum - 1) {\r\n\r\n            this.finished = true;\r\n            return;\r\n          }\r\n          return;\r\n        }\r\n        if (this.matchs.length < 10 && this.matchs.length > 0) {\r\n          for (let i = 0; i < this.matchs.length; i++) {\r\n            this.msgList.push(this.matchs[i]);\r\n          }\r\n          this.loading = false;\r\n          this.finished = true;\r\n          return;\r\n        }\r\n      });\r\n    },\r\n    getmatchs() {\r\n      // new Promise(())\r\n      let data = {\r\n        index: 1,\r\n        count: 10\r\n      };\r\n      apiGetMatchTypes(data, true).then(res => {\r\n        this.ballTypes = res.Data;\r\n        let data1 = {\r\n          matchTypeId: res.Data[0].MatchTypeId,\r\n          index: 1,\r\n          count: 10,\r\n          havaPlay: true\r\n        };\r\n        // apiGetMatchs(data1, true).then(res => {\r\n        //   this.matchs = res.Data;\r\n        // });\r\n      });\r\n    },\r\n    gojump(id, name) {\r\n      this.$store.commit(\"upMatchid\", {\r\n        MatchId: id,\r\n        MatchName: name\r\n      });\r\n      this.$router.push(\"/match\");\r\n    },\r\n    initialization() {\r\n      this.msgList = [];\r\n      this.IndexNum = 1;\r\n      this.loading = true; //下拉加载中\r\n      this.finished = false; //下拉结束\r\n      if (this.loading) {\r\n        this.onLoad();\r\n      }\r\n    },\r\n\r\n    showtabs(id) {\r\n      this.cid = id;\r\n\r\n      this.initialization();\r\n      // let data = {\r\n      //   matchTypeId: id,\r\n      //   index: 1,\r\n      //   count: 10\r\n      // };\r\n      // this.$store.dispatch(\"asyncgetMatchList\", data);\r\n      // this.msgList = this.$store.state.match.Matchs;\r\n      //   let data1 = {\r\n      //   matchTypeId: this.cid || this.ballTypes[0].MatchTypeId,\r\n      //   index: this.IndexNum,\r\n      //   count: 10,\r\n      //   havaPlay: true\r\n      // };\r\n      // apiGetMatchs(data1,true).then(res=>{\r\n      // })\r\n      this.finished = false;\r\n    },\r\n    showtabs2(id) {\r\n      let data = {\r\n        matchTypeId: id,\r\n        index: 1,\r\n        count: 10\r\n      };\r\n      this.$store.dispatch(\"asyncgetMatchList\", data);\r\n    },\r\n    getMatchType() {\r\n      let data = {\r\n        index: 1,\r\n        count: 10\r\n      };\r\n      this.$store.dispatch(\"asyncgetMatchType\", data);\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.ss {\r\n  height: calc(100% - 1.25rem);\r\n}\r\n</style>\r\n"]}]}