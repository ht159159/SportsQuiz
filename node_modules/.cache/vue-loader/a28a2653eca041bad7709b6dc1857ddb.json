{"remainingRequest":"C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\work\\竞猜可换色板\\src\\views\\club\\MyClub.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\work\\竞猜可换色板\\src\\views\\club\\MyClub.vue","mtime":1597372736896},{"path":"C:\\work\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport back from \"@/components/Botton/back.vue\";\r\nimport { apiGetMyClub } from \"@/api/Club.js\";\r\nimport model from \"@/components/model\";\r\nexport default {\r\n  name: \"myClub\",\r\n  components: {\r\n    back,\r\n    model,\r\n  },\r\n  data() {\r\n    return {\r\n      lang: \"\",\r\n      category: [\r\n        this.$t(\"ClubInformation\"),\r\n        this.$t(\"ClubActivities\"),\r\n        this.$t(\"ClubBulletin\"),\r\n        this.$t(\"ClubList\"),\r\n      ], // 俱乐部信息; 俱乐部活动; 俱乐部公告\r\n      categoryIndex: 0,\r\n      growValue: 0,\r\n      growMinValue: 0,\r\n      growMaxValue: 0,\r\n      restCalue: 0,\r\n      tipCssLeft: 190,\r\n      clubId: undefined,\r\n      userName: \"\",\r\n      isOpen: false,\r\n      situationObj: [\r\n        {\r\n          UImg: \"\",\r\n          UName: \"\",\r\n          BetSumNum: 0,\r\n          Contribution: 0\r\n        }\r\n      ],\r\n      promoteCode: \"XDF5454581\",\r\n      type: 0, // 1 = 俱樂部活動訊息(目前沒訊息所以先用彈窗通知), 2 = 無會員時回傳訊息 \r\n      callBackMsg: \"\",\r\n    };\r\n  },\r\n  async created() {\r\n    // 讀取目前語系，有翻譯需要\r\n    this.lang = JSON.parse(localStorage.getItem(\"lang\")).name;\r\n\r\n    this.userName = localStorage.getItem(\"uname\");\r\n    // 讀取會員資訊\r\n    this.clubId = localStorage.getItem(\"ClubId\");\r\n    await this.getMyClub();\r\n  },\r\n  mounted() {\r\n    setTimeout(() => {\r\n      this.changeRangeVal();\r\n    });\r\n  },\r\n  methods: {\r\n    getCategory(index) {\r\n      this.categoryIndex = index;\r\n      if (index === 1) {\r\n        this.isOpen = true;\r\n        this.type = 1;\r\n      }\r\n      // 跳轉俱樂部列表\r\n      if (index === 3) {\r\n        this.$router.push(\"/CreateClub\");\r\n      }\r\n    },\r\n\r\n    // tooltip跟著拉趕跑\r\n    changeRangeVal() {\r\n      let tooltip = document.querySelector(\".grow-bar-tooltip\");\r\n      let rangeBtn = document.querySelector(\".el-slider__bar\");\r\n      let tooltipWidth = tooltip.getBoundingClientRect().width; // 提示框最正確的寬度\r\n      let rangeBtnOffset = rangeBtn.offsetWidth; // 拖動拉桿時拉桿條的偏移量\r\n      let tolerance = rangeBtnOffset - tooltipWidth / 2;\r\n      this.tipCssLeft = tolerance;\r\n    },\r\n\r\n    copy() {\r\n      let TextRange = document.createRange();\r\n      TextRange.selectNode(document.getElementById(\"promoteCode\"));\r\n      let sel = window.getSelection();\r\n      sel.removeAllRanges();\r\n      sel.addRange(TextRange);\r\n      document.execCommand(\"copy\");\r\n    },\r\n\r\n    // 獲取會員俱樂部資訊\r\n    async getMyClub() {\r\n      await apiGetMyClub(\"\", true).then(res => {\r\n        if (res.Code) {\r\n          this.type = 2;\r\n          this.isOpen = true;\r\n          this.callBackMsg = res.Message;\r\n        }\r\n        this.growMaxValue = res.Data.NextLvContribution;\r\n        this.growValue = res.Data.Contribution;\r\n        this.situationObj = res.Data.ClubMemLogs;\r\n      });\r\n    },\r\n\r\n    confirmBtnEvent(type) {\r\n      if (type == 1) {\r\n        this.isOpen = false;\r\n      }\r\n      if (type == 2) {\r\n        this.$router.push(\"/CreateClub\");\r\n      }\r\n    }\r\n  }\r\n};\r\n",{"version":3,"sources":["MyClub.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MyClub.vue","sourceRoot":"src/views/club","sourcesContent":["<template>\r\n  <div class=\"myclub\">\r\n    <div class=\"myclub-header\">\r\n      <div class=\"myclub-header-wrap\">\r\n        <back class=\"back-icon img-he\"></back>\r\n        <h3>{{ $t(\"MyClub\") }}</h3>\r\n        <!--我的俱乐部-->\r\n      </div>\r\n      <div class=\"my-authority\" @click=\"$router.push('/myAuthority')\">\r\n        <span>{{ $t(\"MyAuthority\") }}</span\r\n        ><!--我的权限-->\r\n        <img src=\"../../assets/club/arrow.png\" />\r\n      </div>\r\n    </div>\r\n\r\n    <ul class=\"category-wrap\">\r\n      <li\r\n        class=\"category\"\r\n        :class=\"{ 'category-active': categoryIndex == index }\"\r\n        v-for=\"(item, index) in category\"\r\n        @click=\"getCategory(index)\"\r\n      >\r\n        <div class=\"category-text\">{{ item }}</div>\r\n      </li>\r\n    </ul>\r\n\r\n    <!-- 俱乐部信息 -->\r\n    <div class=\"myclub-content-wrap\" v-if=\"categoryIndex === 0\">\r\n      <div class=\"club-grow\">\r\n        <div class=\"club-grow-text\">\r\n          <div class=\"club-grow-text-title\">{{ $t(\"ClubGrowthValue\") }}</div>\r\n          <!--俱乐部成长值-->\r\n          <div class=\"club-grow-text-tip\" v-if=\"lang == '简体中文'\">\r\n            距下一等级还差 {{ growMaxValue - growValue }}，冲鸭！\r\n          </div>\r\n          <div class=\"club-grow-text-tip\" v-else>\r\n            {{ growMaxValue - growValue }} {{ $t(\"ToNextLevel\") }}，{{\r\n              $t(\"Go\")\r\n            }}！\r\n          </div>\r\n        </div>\r\n        <div class=\"scale\"></div>\r\n        <div class=\"club-grow-bar\">\r\n          <!-- 進度條 -->\r\n          <div class=\"grow-bar-tooltip\" :style=\"{ left: tipCssLeft + 'px' }\">\r\n            <span class=\"grow-bar-tooltip-text\">{{ growValue }}</span>\r\n          </div>\r\n          <el-slider\r\n            v-show=\"true\"\r\n            v-model=\"growValue\"\r\n            :show-tooltip=\"false\"\r\n            :min=\"growMinValue\"\r\n            :max=\"growMaxValue\"\r\n            disabled=\"disabled\"\r\n          ></el-slider>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"banner\">\r\n        <img src=\"@/assets/club/banner.png\" alt=\"\" />\r\n      </div>\r\n\r\n      <div class=\"block\">\r\n        <div class=\"block-title\">{{ $t(\"MemberDynamics\") }}</div>\r\n        <!--成员动态-->\r\n        <div class=\"block-content\">\r\n          <div class=\"members\" v-for=\"item in situationObj\">\r\n            <img class=\"members-head-shot\" :src=\"item.UImg\" alt=\"\" />\r\n            <div class=\"members-data\">\r\n              <div class=\"members-name\">{{ item.UName }}</div>\r\n              <div class=\"members-bet\">\r\n                <div class=\"bet-times\">\r\n                  <span>{{ $t(\"NumberOfBets\") }}:</span\r\n                  ><!--成员动态-->\r\n                  <span class=\"blue-text\">{{ item.BetSumNum }}</span>\r\n                </div>\r\n                <div class=\"contribution\">\r\n                  <span>{{ $t(\"Contribution\") }}:</span\r\n                  ><!--贡献值-->\r\n                  <span class=\"green-text\">+{{ item.Contribution }}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!--成员信息-->\r\n      <!-- <div class=\"block\">\r\n        <div class=\"block-title\">{{ $t('MemberInfo') }}</div>\r\n        <div class=\"block-content\">\r\n          <div class=\"members\" v-for=\"item in infoObj\">\r\n            <img :src=\"item.UImg\" alt=\"\" />\r\n            <div class=\"members-data\">\r\n              <div class=\"members-name\">{{ item.name }}</div>\r\n              <div class=\"members-bet\">\r\n                <div class=\"bet-times\">\r\n                  <span>{{ item.info }}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div> -->\r\n    </div>\r\n\r\n    <!-- 俱乐部活动 -->\r\n    <div class=\"myclub-activities-wrap\" v-if=\"categoryIndex === 1\"></div>\r\n\r\n    <!-- 俱乐部公告 -->\r\n    <div class=\"myclub-notice-wrap\" v-if=\"categoryIndex === 2\">\r\n      俱乐部公告\r\n    </div>\r\n\r\n    <!-- 彈窗 -->\r\n    <transition name=\"fade\">\r\n      <model v-if=\"isOpen\"></model>\r\n    </transition>\r\n    <transition name=\"fade\">\r\n      <div class=\"fancyBox\" v-if=\"isOpen\">\r\n        <span v-if=\"type == 1\">{{ $t(\"ComingSoon\") }}!</span><!--敬請期待-->\r\n        <span v-if=\"type == 2\">{{ callBackMsg }}!</span><!--敬請期待-->\r\n        <div class=\"fancy-box-btn-wrap\">\r\n          <p class=\"confirmBtn\" @click=\"confirmBtnEvent(type);  categoryIndex = 0; \">\r\n            {{ $t(\"Confirm\") }}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n\r\n    <!-- 推廣碼 -->\r\n    <!-- <div class=\"myclub-promote\">\r\n      <div class=\"myclub-promote-content\">\r\n        <span>{{ $t('ClubReferralCode') }}:</span>\r\n        <span id=\"promoteCode\" class=\"promoteCode\">{{ promoteCode }}</span>\r\n        <div class=\"copy-text\" @click=\"copy()\">{{ $t('Copy') }}</div>\r\n      </div>\r\n    </div> -->\r\n  </div>\r\n</template>\r\n<script>\r\nimport back from \"@/components/Botton/back.vue\";\r\nimport { apiGetMyClub } from \"@/api/Club.js\";\r\nimport model from \"@/components/model\";\r\nexport default {\r\n  name: \"myClub\",\r\n  components: {\r\n    back,\r\n    model,\r\n  },\r\n  data() {\r\n    return {\r\n      lang: \"\",\r\n      category: [\r\n        this.$t(\"ClubInformation\"),\r\n        this.$t(\"ClubActivities\"),\r\n        this.$t(\"ClubBulletin\"),\r\n        this.$t(\"ClubList\"),\r\n      ], // 俱乐部信息; 俱乐部活动; 俱乐部公告\r\n      categoryIndex: 0,\r\n      growValue: 0,\r\n      growMinValue: 0,\r\n      growMaxValue: 0,\r\n      restCalue: 0,\r\n      tipCssLeft: 190,\r\n      clubId: undefined,\r\n      userName: \"\",\r\n      isOpen: false,\r\n      situationObj: [\r\n        {\r\n          UImg: \"\",\r\n          UName: \"\",\r\n          BetSumNum: 0,\r\n          Contribution: 0\r\n        }\r\n      ],\r\n      promoteCode: \"XDF5454581\",\r\n      type: 0, // 1 = 俱樂部活動訊息(目前沒訊息所以先用彈窗通知), 2 = 無會員時回傳訊息 \r\n      callBackMsg: \"\",\r\n    };\r\n  },\r\n  async created() {\r\n    // 讀取目前語系，有翻譯需要\r\n    this.lang = JSON.parse(localStorage.getItem(\"lang\")).name;\r\n\r\n    this.userName = localStorage.getItem(\"uname\");\r\n    // 讀取會員資訊\r\n    this.clubId = localStorage.getItem(\"ClubId\");\r\n    await this.getMyClub();\r\n  },\r\n  mounted() {\r\n    setTimeout(() => {\r\n      this.changeRangeVal();\r\n    });\r\n  },\r\n  methods: {\r\n    getCategory(index) {\r\n      this.categoryIndex = index;\r\n      if (index === 1) {\r\n        this.isOpen = true;\r\n        this.type = 1;\r\n      }\r\n      // 跳轉俱樂部列表\r\n      if (index === 3) {\r\n        this.$router.push(\"/CreateClub\");\r\n      }\r\n    },\r\n\r\n    // tooltip跟著拉趕跑\r\n    changeRangeVal() {\r\n      let tooltip = document.querySelector(\".grow-bar-tooltip\");\r\n      let rangeBtn = document.querySelector(\".el-slider__bar\");\r\n      let tooltipWidth = tooltip.getBoundingClientRect().width; // 提示框最正確的寬度\r\n      let rangeBtnOffset = rangeBtn.offsetWidth; // 拖動拉桿時拉桿條的偏移量\r\n      let tolerance = rangeBtnOffset - tooltipWidth / 2;\r\n      this.tipCssLeft = tolerance;\r\n    },\r\n\r\n    copy() {\r\n      let TextRange = document.createRange();\r\n      TextRange.selectNode(document.getElementById(\"promoteCode\"));\r\n      let sel = window.getSelection();\r\n      sel.removeAllRanges();\r\n      sel.addRange(TextRange);\r\n      document.execCommand(\"copy\");\r\n    },\r\n\r\n    // 獲取會員俱樂部資訊\r\n    async getMyClub() {\r\n      await apiGetMyClub(\"\", true).then(res => {\r\n        if (res.Code) {\r\n          this.type = 2;\r\n          this.isOpen = true;\r\n          this.callBackMsg = res.Message;\r\n        }\r\n        this.growMaxValue = res.Data.NextLvContribution;\r\n        this.growValue = res.Data.Contribution;\r\n        this.situationObj = res.Data.ClubMemLogs;\r\n      });\r\n    },\r\n\r\n    confirmBtnEvent(type) {\r\n      if (type == 1) {\r\n        this.isOpen = false;\r\n      }\r\n      if (type == 2) {\r\n        this.$router.push(\"/CreateClub\");\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n"]}]}