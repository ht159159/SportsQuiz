{"remainingRequest":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\src\\views\\club\\ClubActivitiesRelease.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\src\\views\\club\\ClubActivitiesRelease.vue","mtime":1606980099185},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport back from \"@/components/Botton/back.vue\";\nimport model from \"@/components/model\";\nimport { apiGetClubActivityMatchInfo, apiAddClubActivity } from \"@/api/ClubActivitys.js\";\nimport { swiper, swiperSlide } from \"vue-awesome-swiper\";\nimport \"swiper/css/swiper.css\";\nexport default {\n  components: {\n    back: back,\n    swiper: swiper,\n    swiperSlide: swiperSlide,\n    model: model\n  },\n  data: function data() {\n    return {\n      league: [],\n      leagueNewAry: [],\n      leagueId: \"\",\n      isSelect: false,\n      leagueNewAryIndex: undefined,\n      leagueNewAryItemIndex: undefined,\n      ticket: \"\",\n      selectNum: [],\n      sessionIndex: undefined,\n      acvtiveTitle: \"\",\n      sessionNum: \"\",\n      isClickTwice: false,\n      // clubId\n      clubId: \"\",\n      //swiper\n      swiperOption: {\n        pagination: {\n          el: \".swiper-pagination\"\n        } // on: {\n        //   // 使用es6的箭头函数，使this指向vue对象\n        //   slideNextTransitionEnd: () => {\n        //     this.index += 1;\n        //     this.loadActivityMatchInfo()\n        //   }\n        // }\n\n      },\n      isFancyBoxOpen: false\n    };\n  },\n  created: function created() {\n    localStorage.setItem(\"categoryIndex\", 1);\n    this.clubId = localStorage.getItem(\"ClubId\");\n    this.getActivityMatchInfo();\n  },\n  methods: {\n    // 活動發布輪播\n    activesSlide: function activesSlide() {\n      this.leagueNewAry = [];\n\n      for (var i = 0, len = this.league.length; i < len; i += 6) {\n        this.leagueNewAry.push(this.league.slice(i, i + 6));\n      }\n    },\n    // 獲取聯賽資料\n    getActivityMatchInfo: function getActivityMatchInfo() {\n      var _this = this;\n\n      apiGetClubActivityMatchInfo(\"\", true).then(function (res) {\n        _this.league = res.Data.ActivityMatches; // 門票\n\n        _this.ticket = res.Data.JoinAmount; // 場次\n\n        var str = res.Data.SelectNum;\n        _this.selectNum = str.split(',');\n\n        _this.activesSlide();\n      });\n    },\n    // 聯賽資料加載\n    // loadActivityMatchInfo() {\n    //   // 獲取clubId\n    //   // this.clubId = localStorage.getItem(\"ClubId\");\n    //   let data = {\n    //     clubId: this.clubId,\n    //     index: this.index,\n    //     count: 7\n    //   };\n    //   apiGetClubActivityMatchInfo(data, true).then(res => {\n    //     res.Data.ActivityMatches.Data.forEach(el => {\n    //       this.league.push(el);\n    //     });\n    //     this.activesSlide();\n    //   });\n    // },\n    // 點選聯賽\n    selectLeague: function selectLeague(index, indexs) {\n      if (this.leagueNewAryIndex == index && this.leagueNewAryItemIndex == indexs) {\n        this.leagueNewAryIndex = undefined;\n        this.leagueNewAryItemIndex = undefined;\n        this.leagueId = \"\";\n        return;\n      }\n\n      this.leagueNewAryIndex = index;\n      this.leagueNewAryItemIndex = indexs; // 儲存點選到的聯賽ID\n\n      this.leagueId = this.leagueNewAry[index][indexs].MatchId;\n      this.isClickTwice = false;\n    },\n    //選擇場次\n    selectSession: function selectSession(index) {\n      if (this.sessionIndex == index) {\n        this.sessionIndex = undefined;\n        this.sessionNum = \"\";\n        return;\n      }\n\n      this.sessionIndex = index;\n      this.sessionNum = this.selectNum[index];\n    },\n    // 發布活動\n    releaseActive: function releaseActive() {\n      var _this2 = this;\n\n      // 防止连点\n      if (this.isClickTwice) {\n        return false;\n      }\n\n      this.isClickTwice = true;\n\n      if (this.leagueId == \"\") {\n        this.$message({\n          message: this.$t(\"PleaseSelectALeague\"),\n          type: \"warning\",\n          center: true,\n          duration: 1200\n        });\n        this.isFancyBoxOpen = false;\n        return;\n      }\n\n      if (this.acvtiveTitle == \"\") {\n        this.$message({\n          message: this.$t(\"ActiveTitle\"),\n          type: \"warning\",\n          center: true,\n          duration: 1200\n        });\n        this.isFancyBoxOpen = false;\n        return;\n      }\n\n      if (this.sessionNum == \"\") {\n        this.$message({\n          message: this.$t(\"PleaseSelectTheSession\"),\n          type: \"warning\",\n          center: true,\n          duration: 1200\n        });\n        this.isFancyBoxOpen = false;\n        return;\n      }\n\n      var data = {\n        SelectLeague: this.leagueId,\n        NumGames: this.sessionNum,\n        ActivityContent: this.acvtiveTitle\n      };\n      apiAddClubActivity(data, true).then(function (res) {\n        if (Math.abs(res.Code) >= 600) {\n          _this2.$message({\n            message: res.Message,\n            type: \"warning\",\n            center: true,\n            duration: 3000\n          });\n        } else {\n          _this2.$message({\n            message: res.Message,\n            type: \"success\",\n            center: true,\n            duration: 3000\n          });\n\n          setTimeout(function () {\n            _this2.$router.push('/ClubActivities');\n          }, 3000);\n        }\n\n        _this2.isFancyBoxOpen = false;\n        _this2.isClickTwice = false; // 防止连点\n      });\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    localStorage.setItem(\"categoryIndex\", 1);\n  }\n};",null]}