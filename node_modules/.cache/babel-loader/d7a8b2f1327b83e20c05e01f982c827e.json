{"remainingRequest":"C:\\work\\竞猜可换色板\\node_modules\\thread-loader\\dist\\cjs.js!C:\\work\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js!C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\work\\竞猜可换色板\\src\\views\\club\\MyClub.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\work\\竞猜可换色板\\src\\views\\club\\MyClub.vue","mtime":1605090770347},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport back from \"@/components/Botton/back.vue\";\nimport model from \"@/components/model\";\nimport { apiGetMyClub, apiGetClubAnnouncement, apiExitClub } from \"@/api/Club.js\";\nimport { apiGetClubRecord } from \"@/api/Club.js\";\nexport default {\n  components: {\n    back: back,\n    model: model\n  },\n  data: function data() {\n    return {\n      Uimg: \"\",\n      clubId: \"\",\n      // 進度條\n      growValue: 0,\n      growMinValue: 0,\n      growMaxValue: 0,\n      tipCssLeft: 0,\n      // 成員動態\n      marqueeList: [],\n      animate: false,\n      // 戰績\n      clubData1: {\n        clubName: \"\",\n        clubLevel: \"\",\n        memberNum: \"\"\n      },\n      recordObj: [{\n        state: this.$t('MyClubRecord'),\n        // 戰\n        times: \"\",\n        tip: this.$t('MembersTotalNumberOfBets') //成员总投注次数\n\n      }, {\n        state: this.$t('Total'),\n        //總\n        times: \"\",\n        tip: this.$t('CountTotalBetAmount') //统计总投注额\n\n      }, {\n        state: this.$t('ClubIndexWin'),\n        // 贏\n        times: \"\",\n        tip: this.$t('MembersTotalWinsAndLosses') //成员总输赢次数\n\n      }, {\n        state: this.$t('ClubIndexLose'),\n        // 負\n        times: \"\",\n        tip: this.$t('MembersTotalWinsAndLosses') //成员总输赢次数\n\n      }],\n      // 公告\n      clubMsgList: [],\n      isOpenDetail: false,\n      // 退出俱樂部\n      isFancyBoxOpen: false\n    };\n  },\n  created: function created() {\n    // 讀取是否為管理階\n    this.isManagement = localStorage.getItem(\"isManagement\"); // 獲取俱樂部ID\n\n    this.clubId = localStorage.getItem(\"ClubId\"); // 獲取使用者大頭照\n\n    this.Uimg = localStorage.getItem(\"UImg\");\n    this.getMyClub();\n    setInterval(this.showMarquee, 2000); // 獲取戰績\n\n    this.getClubRecord(); // 獲取公告\n\n    this.getNoticeList();\n  },\n  methods: {\n    // 前往我的權限判斷\n    myAuthority: function myAuthority() {\n      if (this.isManagement == \"1\") {\n        this.$router.push('/myAuthority');\n        return;\n      }\n\n      if (this.isManagement == \"2\") {\n        this.$router.push('/memberManagement');\n      }\n    },\n    // 獲取會員俱樂部資訊\n    getMyClub: function getMyClub() {\n      var _this = this;\n\n      apiGetMyClub(\"\", true).then(function (res) {\n        _this.growMaxValue = res.Data.NextLvContribution;\n        _this.growValue = res.Data.Contribution;\n        _this.marqueeList = res.Data.ClubMemLogs;\n      }).then(function () {\n        _this.changeRangeVal();\n      });\n    },\n    // 前往俱樂部活動\n    goClubActivities: function goClubActivities() {\n      localStorage.setItem(\"activeCategoryIndex\", 0);\n      localStorage.setItem(\"tabIndex\", 0);\n      localStorage.setItem(\"betTabIndex\", 0);\n      this.$router.push('/ClubActivities');\n    },\n    // tooltip跟著拉趕跑\n    changeRangeVal: function changeRangeVal() {\n      var tooltip = document.querySelector(\".grow-bar-tooltip\");\n      var rangeBtn = document.querySelector(\".el-slider__bar\");\n      var buttonWrapper = document.querySelector(\".el-slider__button-wrapper\");\n      var tooltipWidth = tooltip.getBoundingClientRect().width; // 提示框最正確的寬度\n\n      var buttonWrapperWidth = buttonWrapper.getBoundingClientRect().width; // 箭頭圖案最正確的寬度\n\n      var rangeBtnOffset = rangeBtn.offsetWidth; // 拖動拉桿時拉桿條的偏移量\n\n      var tolerance = rangeBtnOffset - (tooltipWidth - buttonWrapperWidth) / 2;\n      this.tipCssLeft = tolerance;\n    },\n    showMarquee: function showMarquee() {\n      var _this2 = this;\n\n      this.animate = true;\n      setTimeout(function () {\n        _this2.marqueeList.push(_this2.marqueeList[0]);\n\n        _this2.marqueeList.shift();\n\n        _this2.animate = false;\n      }, 500);\n    },\n    // 獲取戰績\n    getClubRecord: function getClubRecord() {\n      var _this3 = this;\n\n      var data = {\n        ClubId: this.clubId\n      };\n      apiGetClubRecord(data, true).then(function (res) {\n        _this3.clubData1.clubName = res.Data.ClubName;\n        _this3.clubData1.clubLevel = res.Data.LevelId;\n        _this3.clubData1.memberNum = res.Data.PeopleCount;\n        _this3.recordObj[0].times = res.Data.SumBetCount;\n        _this3.recordObj[1].times = res.Data.SumBetAmounCount;\n        _this3.recordObj[2].times = res.Data.SumWinCount;\n        _this3.recordObj[3].times = res.Data.SumLoseCount;\n      });\n    },\n    // 獲取公告列表\n    getNoticeList: function getNoticeList() {\n      var _this4 = this;\n\n      var data = {\n        ndex: this.indexNum,\n        count: 10\n      };\n      apiGetClubAnnouncement(data, true).then(function (res) {\n        _this4.clubMsgList = res.Data.Data;\n\n        if (_this4.clubMsgList.length == 0) {\n          _this4.wipeLoading = true;\n        }\n      });\n    },\n    // 退出俱樂部\n    exitClub: function exitClub() {\n      var _this5 = this;\n\n      var data = {\n        ClubId: this.clubId\n      };\n      apiExitClub(data, true).then(function (res) {\n        var vm = _this5;\n        var m = vm.$message({\n          message: res.Message,\n          duration: 3000,\n          type: \"success\",\n          center: true\n        });\n        setTimeout(function () {\n          m.close();\n\n          _this5.$router.push(\"/\");\n        }, 2000);\n      });\n    }\n  }\n};",null]}