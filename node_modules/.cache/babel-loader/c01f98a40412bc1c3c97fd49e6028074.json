{"remainingRequest":"C:\\work\\竞猜可换色板\\node_modules\\thread-loader\\dist\\cjs.js!C:\\work\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js!C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\work\\竞猜可换色板\\src\\views\\RankListdetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\work\\竞猜可换色板\\src\\views\\RankListdetails.vue","mtime":1605511645032},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.match\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { apiGetListByListTypeId, apiGetListTypeListAndUserRank } from \"@/api/ListType\";\nimport { apiGetMemberMatchViewModel } from \"@/api/match\";\nimport back from \"../components/Botton/back.vue\";\nimport { apiGetMemberRankingInfo } from \"@/api/Rankboard\";\nimport model from \"../components/model\";\nexport default {\n  components: {\n    back: back,\n    model: model\n  },\n  created: function created() {\n    this.getUserInfo();\n    this.getrankmatchinfo();\n  },\n  data: function data() {\n    return {\n      active: 1,\n      list: [],\n      list2: [],\n      list3: [],\n      data11: 1,\n      first: \"\",\n      second: \"\",\n      third: \"\",\n      index: 0,\n      num: 0,\n      listtype: \"\",\n      ranklist: \"\",\n      cid: \"\",\n      rankinfo: \"\",\n      time: \"\",\n      isNoData: false,\n      isLoading: false,\n      openPeek: false,\n      // 瞄一眼彈窗  [\"投注场次：\",\"投注胜率：\",\"VIP等级：\",\"所属俱乐部：\",\"所屬俱樂部：\",\"挑戰賽次數：\",\"挑戰賽通過率：\",\"當前挑戰賽排名：\"]\n      userInfo: [{\n        title: this.$t('BettingGames'),\n        val: \"\"\n      }, //投注场次\n      {\n        title: this.$t('BettingOdds'),\n        val: \"\"\n      }, //投注胜率\n      {\n        title: this.$t('VIPLevel'),\n        val: \"\"\n      }, //VIP等級\n      {\n        title: this.$t('MemberClub'),\n        val: \"\"\n      }, //所属俱乐部\n      {\n        title: this.$t('NumberOfChallenges'),\n        val: \"\"\n      }, //挑戰賽次數\n      {\n        title: this.$t('ChallengePassRate'),\n        val: \"\"\n      }, //挑戰賽通過率\n      {\n        title: this.$t('ChallengeRanking'),\n        val: \"\"\n      } //當前挑戰賽排名\n      ],\n      userImg: \"\",\n      userNickName: \"\",\n      // v-infinite-scroll 套件\n      busy: false,\n      push: false,\n      IndexNum: 2,\n      noMore: false\n    };\n  },\n  methods: {\n    // getTime() {\n    //   let date = new Date(new Date().getTime() - 12 * 60 * 60 * 1000);\n    //   // let time1 = time.slice(time.indexOf(\" \", 2), time.indexOf(\":\"));\n    //   var YY = date.getFullYear() + \"-\";\n    //   var MM =\n    //     (date.getMonth() + 1 < 10\n    //       ? \"0\" + (date.getMonth() + 1)\n    //       : date.getMonth() + 1) + \"-\";\n    //   var jD = date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate();\n    //   var zD = date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate() - 1;\n    //   let zuori = YY + MM + zD;\n    //   let jinri = YY + MM + jD;\n    // },\n    //列表\n    // getrankList() {\n    //   this.$store.dispatch(\"asyncgetranklist\");\n    // },\n    //切换榜单\n    getrankmatchinfo: function getrankmatchinfo() {\n      var _this = this;\n\n      var data = {\n        matchId: this.$store.state.match.MatchId\n      };\n      apiGetMemberMatchViewModel(data, true).then(function (res) {\n        _this.rankinfo = res;\n      });\n    },\n    tabshow: function tabshow(index, id) {\n      var date = new Date(new Date().getTime() - 12 * 60 * 60 * 1000); // let time1 = time.slice(time.indexOf(\" \", 2), time.indexOf(\":\"));\n\n      var YY = date.getFullYear() + \"-\";\n      var MM = (date.getMonth() + 1 < 10 ? \"0\" + (date.getMonth() + 1) : date.getMonth() + 1) + \"-\";\n      var jD = date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate();\n      var zD = (date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate()) - 1;\n      var zuori = YY + MM + zD;\n      var jinri = YY + MM + jD;\n      this.num = index;\n      this.index = index;\n      this.listtype = id;\n\n      if (index == 0) {\n        this.time = \"\";\n      }\n\n      if (index == 1) {\n        this.time = jinri;\n      }\n\n      if (index == 2) {\n        this.time = zuori;\n      }\n\n      this.getrankrender();\n    },\n    //排名用户\n    getrankrender: function getrankrender(id) {\n      var _this2 = this;\n\n      var data = {\n        listTypeId: id || this.listtype,\n        index: 1,\n        count: 20,\n        dateEasternNow: this.time\n      };\n      this.isLoading = true;\n      this.isNoData = false;\n      apiGetListByListTypeId(data, true).then(function (res) {\n        if (res.Data.length > 0) {\n          _this2.list = res.Data;\n          _this2.first = _this2.list.shift();\n          _this2.second = _this2.list.shift();\n          _this2.third = _this2.list.shift();\n          _this2.isLoading = false;\n          _this2.isNoData = false;\n        } else {\n          _this2.isLoading = false;\n          _this2.isNoData = true;\n        }\n      });\n    },\n    //获取用户排名金币\n    getUserInfo: function getUserInfo() {\n      var _this3 = this;\n\n      var data = {\n        matchId: this.$store.state.match.MatchId,\n        index: 1,\n        count: 10,\n        rank: true\n      };\n      this.isLoading = true;\n      this.isNoData = false;\n      apiGetListTypeListAndUserRank(data, true).then(function (res) {\n        if (res.Data.length > 0) {\n          var hashdata = res.Data;\n          var zuotian = hashdata[hashdata.length - 1];\n          var zong = hashdata[0];\n          var today = hashdata[hashdata.length - 2];\n          var arr = [today, zong, zuotian];\n          _this3.ranklist = arr;\n          _this3.cid = today.ListTypeId;\n\n          _this3.getrankrender(_this3.cid);\n\n          _this3.listtype = _this3.cid;\n          _this3.isLoading = false;\n          _this3.isNoData = false;\n        } else {\n          _this3.isLoading = false;\n          _this3.isNoData = true;\n        }\n      });\n    },\n    // v-infinite-scroll 套件滑到底加載\n    load: function load() {\n      var _this4 = this;\n\n      var data = {\n        listTypeId: this.listtype,\n        index: this.IndexNum,\n        count: 20,\n        dateEasternNow: this.time\n      };\n      apiGetListByListTypeId(data, true).then(function (res) {\n        if (res.Data) {\n          if (res.Data.length == 0) {\n            _this4.busy = true;\n            _this4.push = false;\n          } else if (res.Data.length > 0) {\n            for (var i = 0; i < res.Data.length; i++) {\n              _this4.list.push(res.Data[i]);\n\n              _this4.busy = false;\n            }\n\n            _this4.IndexNum++;\n          }\n        }\n      });\n    },\n    //瞄一眼\n    peek: function peek(uid) {\n      var _this5 = this;\n\n      var data = {\n        uid: uid\n      };\n      apiGetMemberRankingInfo(data, true).then(function (res) {\n        if (res.Code == \"600\" || res.Message == \"VIP等级不足\") {\n          var vm = _this5;\n          var m = vm.$message({\n            message: res.Message,\n            duration: 3000,\n            type: \"error\",\n            center: true\n          });\n          setTimeout(function () {\n            m.close();\n          }, 2000);\n        } else {\n          _this5.openPeek = true;\n          _this5.userImg = res.Data.Img;\n          _this5.userNickName = res.Data.NickName;\n          _this5.userInfo[0].val = res.Data.BetNum;\n          _this5.userInfo[1].val = res.Data.BetWinRate + \"%\";\n          _this5.userInfo[2].val = res.Data.MemberRankName;\n\n          if (res.Data.ClubName == \"\") {\n            _this5.userInfo[3].val = \"-\";\n          } else {\n            _this5.userInfo[3].val = res.Data.ClubName;\n          }\n\n          _this5.userInfo[4].val = res.Data.ChallengeNum;\n          _this5.userInfo[5].val = res.Data.ChallengePassRate + \"%\";\n\n          if (res.Data.ChallengeRank == \"0\") {\n            _this5.userInfo[6].val = \"-\";\n          } else {\n            _this5.userInfo[6].val = res.Data.ChallengeRank;\n          }\n        }\n      });\n    }\n  }\n};",null]}