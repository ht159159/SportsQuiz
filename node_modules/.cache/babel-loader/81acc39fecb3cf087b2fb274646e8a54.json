{"remainingRequest":"C:\\work\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js!C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\work\\竞猜可换色板\\src\\views\\personalCenter\\CashFlowLog.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\work\\竞猜可换色板\\src\\views\\personalCenter\\CashFlowLog.vue","mtime":1608885900135},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport back from \"@/components/Botton/back.vue\";\nimport { apiGetMemLogTypes, apiGetMemFundLogs } from \"@/api/Club.js\";\nexport default {\n  components: {\n    back: back\n  },\n  data: function data() {\n    return {\n      filter: false,\n      typeId: \"0\",\n      indexNum: 1,\n      totalPages: \"\",\n      count: 5,\n      cashFlowLog: [],\n      cashFlowCategory: [],\n      busy: false,\n      immediate: false,\n      loading: false,\n      noData: false\n    };\n  },\n  created: function created() {\n    this.getMemLogTypes();\n    this.getMemFundLogs();\n  },\n  methods: {\n    // 獲取類別列表\n    getMemLogTypes: function getMemLogTypes() {\n      var _this = this;\n\n      var data = {\n        rptId: 0\n      };\n      apiGetMemLogTypes(data, true).then(function (res) {\n        if (res.Code == \"600\" || res.data.length == 0) {\n          _this.loading = false;\n          _this.noData = true;\n          return;\n        }\n\n        _this.cashFlowCategory = res.data;\n      });\n    },\n    // 獲取金流列表\n    getMemFundLogs: function getMemFundLogs() {\n      var _this2 = this;\n\n      this.loading = true;\n      this.noData = false;\n      var data = {\n        typeId: this.typeId,\n        index: this.indexNum,\n        count: 10\n      };\n      apiGetMemFundLogs(data, true).then(function (res) {\n        if (res.Code == \"600\" || res.data.Data.length == 0) {\n          _this2.loading = false;\n          _this2.noData = true;\n          return;\n        }\n\n        _this2.loading = false;\n        _this2.noData = false;\n        _this2.cashFlowLog = res.data.Data;\n        _this2.totalPages = res.data.TatolPages;\n      });\n    },\n    // 點選類別\n    clickType: function clickType(typeId) {\n      this.cashFlowLog = [];\n      this.indexNum = 1;\n      this.typeId = typeId;\n      this.getMemFundLogs();\n      this.filter = false;\n    },\n    // 無限加載\n    load: function load() {\n      var _this3 = this;\n\n      console.log(this.totalPages);\n\n      if (this.indexNum >= this.totalPages) {\n        return;\n      }\n\n      this.busy = true;\n      this.indexNum++;\n      var data = {\n        typeId: this.typeId,\n        index: this.indexNum,\n        count: 10\n      };\n      this.loading = true;\n      apiGetMemFundLogs(data, true).then(function (res) {\n        if (res.Code == \"600\" || res.data.Data.length == 0) {\n          _this3.loading = false;\n          _this3.busy = true;\n          return;\n        } else {\n          res.data.Data.forEach(function (el) {\n            _this3.cashFlowLog.push(el);\n\n            _this3.busy = false;\n          });\n          _this3.loading = false;\n          _this3.noData = false;\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["CashFlowLog.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"cash-flow-log\">\r\n        <div class=\"cash-flow-log-header\">\r\n            <div class=\"cash-flow-log-header-wrap\">\r\n                <back class=\"back-icon img-he\"></back>\r\n                <h3>{{ $t('CashFlowLog') }}</h3>\r\n                <!--金流日志-->\r\n            </div>\r\n            <div class=\"filter\" @click=\"filter = !filter\">\r\n                <span>{{ $t(\"Filter\") }}</span\r\n                ><!--篩選-->\r\n            </div>\r\n        </div>\r\n\r\n        <!--篩選頁-->\r\n        <div class=\"filter-wrap\" :class=\"{ popLeftIn: filter }\">\r\n            <div class=\"back-cash-flow-log-list-wrap\" @click=\"filter = false\">\r\n                <div class=\"back-cash-flow-log-list\"></div>\r\n                <!-- 回金流日志 -->\r\n                <p>{{ $t(\"BackCashFlowLog\") }}</p>\r\n            </div> \r\n            <ul class=\"category-wrap\">\r\n                <li class=\"category-list\" @click=\"clickType(0)\">\r\n                    <p>{{ $t('All') }}</p>\r\n                </li>\r\n                <li class=\"category-list\" v-for=\"item in cashFlowCategory\" @click=\"clickType(item.Id)\">\r\n                    <p>{{ item.Name }}</p>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n\r\n        <ul v-if=\"!filter\" class=\"cash-flow-log-content\" v-infinite-scroll=\"load\" infinite-scroll-disabled=\"busy\" infinite-scroll-immediate=\"immediate\">\r\n            <li class=\"cash-flow-log-list\" v-for=\"item in cashFlowLog\">\r\n                <img class=\"icon\" src=\"../../assets/myself/lingdang_03.png\">\r\n                <div class=\"cash-flow-log-list-text\">\r\n                    <div class=\"title\">{{ item.TypeName }}</div>\r\n                    <div class=\"date\">{{ item.CreateTime }}</div>\r\n                </div>\r\n                <div class=\"amount\">\r\n                    <span v-if=\"item.Amount > 0\">+</span>\r\n                    {{ item.Amount }}\r\n                </div>\r\n            </li>\r\n            <!-- 【 加载中… 】 -->\r\n            <li style=\"font-size: .24rem;text-align:center;line-height: .48rem\" v-if=\"loading\">\r\n                {{ $t('WipeLoading') }}...  \r\n            </li>\r\n            <!-- 【 暂无数据 】 -->\r\n            <div class=\"no-Data\" v-if=\"noData == true\">\r\n                <p>{{ $t(\"NoData\") }}</p>\r\n            </div>\r\n        </ul>\r\n\r\n    </div>\r\n</template>\r\n<script>\r\nimport back from \"@/components/Botton/back.vue\";\r\nimport { apiGetMemLogTypes, apiGetMemFundLogs } from \"@/api/Club.js\";\r\nexport default {\r\n    components: {\r\n        back\r\n    },\r\n    data() {\r\n        return {\r\n            filter:　false,\r\n            typeId: \"0\",\r\n            indexNum: 1,\r\n            totalPages: \"\",\r\n            count: 5,\r\n            cashFlowLog: [],\r\n            cashFlowCategory: [],\r\n            busy: false,\r\n            immediate: false,\r\n            loading: false,\r\n            noData: false,\r\n        }\r\n    },\r\n    created() {\r\n        this.getMemLogTypes();\r\n        this.getMemFundLogs();\r\n    },\r\n    methods: {\r\n        // 獲取類別列表\r\n        getMemLogTypes() {\r\n            let data = {\r\n                rptId: 0\r\n            }\r\n            apiGetMemLogTypes(data, true).then(res => {\r\n                if (res.Code == \"600\" || res.data.length == 0) {\r\n                    this.loading = false;\r\n                    this.noData = true;\r\n                    return\r\n                }\r\n                this.cashFlowCategory = res.data;\r\n            });\r\n        },\r\n\r\n        // 獲取金流列表\r\n        getMemFundLogs() {\r\n            this.loading = true;\r\n            this.noData = false;\r\n            let data = {\r\n                typeId: this.typeId,\r\n                index: this.indexNum,\r\n                count: 10 \r\n            };\r\n            apiGetMemFundLogs(data, true).then(res => {\r\n                if (res.Code == \"600\" || res.data.Data.length == 0) {\r\n                    this.loading = false;\r\n                    this.noData = true;\r\n                    return\r\n                }\r\n                this.loading = false;\r\n                this.noData = false;\r\n                this.cashFlowLog = res.data.Data;\r\n                this.totalPages = res.data.TatolPages;\r\n            });\r\n        },\r\n\r\n        // 點選類別\r\n        clickType(typeId) {\r\n            this.cashFlowLog = [];\r\n            this.indexNum = 1;\r\n            this.typeId = typeId;\r\n            this.getMemFundLogs();\r\n            this.filter = false;\r\n        },\r\n\r\n        // 無限加載\r\n        load() {\r\n            console.log(this.totalPages)\r\n            if(this.indexNum >= this.totalPages) {\r\n                return\r\n            }\r\n            this.busy = true;\r\n            this.indexNum++;\r\n            let data = {\r\n                typeId: this.typeId,\r\n                index: this.indexNum,\r\n                count: 10 \r\n            };\r\n            this.loading = true;\r\n            apiGetMemFundLogs(data, true).then(res => {\r\n                if (res.Code == \"600\" || res.data.Data.length == 0) {\r\n                    this.loading = false;\r\n                    this.busy = true;\r\n                    return\r\n                } else {\r\n                    res.data.Data.forEach(el => {\r\n                        this.cashFlowLog.push(el);\r\n                        this.busy = false;\r\n                    });\r\n                    this.loading = false;\r\n                    this.noData = false;\r\n                }\r\n            });\r\n        }\r\n    },\r\n}\r\n</script>"],"sourceRoot":"src/views/personalCenter"}]}