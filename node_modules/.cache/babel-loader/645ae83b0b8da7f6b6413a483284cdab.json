{"remainingRequest":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\src\\views\\club\\SearchClub.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\src\\views\\club\\SearchClub.vue","mtime":1608703214138},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport back from \"@/components/Botton/back.vue\";\nimport { apiGetAllClubs, apiJoinClub } from \"@/api/Club.js\";\nimport model from \"@/components/model\";\nimport { apiGetClubMatchs } from \"@/api/ClubActivitys.js\";\nexport default {\n  components: {\n    back: back,\n    model: model\n  },\n  data: function data() {\n    return {\n      // 篩選\n      filter: false,\n      category: [],\n      categoryType: 0,\n      isOpen: false,\n      isMember: 0,\n      uname: \"\",\n      clickClubId: undefined,\n      isCallBack: false,\n      callBackMsg: \"\",\n      clubList: [],\n      searchList: [],\n      searchVal: \"\",\n      matchId: \"\",\n      IndexNum: 1,\n      isNoData: false,\n      isLoading: false,\n      // 防止连点\n      isDisable: false,\n      noMission: false,\n      // v-infinite-scroll 套件\n      busy: false,\n      immediate: false,\n      totalPages: 0,\n      categoryBusy: false,\n      categoryImmediate: true,\n      categoryIndexNum: 1,\n      categoryTotalPages: 0\n    };\n  },\n  created: function created() {\n    // 判斷是否有會員 1 = 有  2 = 無\n    this.isMember = localStorage.getItem(\"isMember\"); // 獲取使用者名稱\n\n    this.uname = localStorage.getItem(\"uname\"); // 獲取联赛列表\n\n    this.matchType(); // 獲取所有俱樂部列表\n\n    this.getCategoryClubs();\n  },\n  // mounted() {\n  //   window.addEventListener(\"scroll\", this.handleScroll, true);\n  // },\n  methods: {\n    // 右移無限加載\n    // handleScroll() {\n    //   let category = document.getElementById(\"category\");\n    //   let categoryWrap = document.getElementById(\"categoryWrap\");\n    //   let categoryWidth = category.getBoundingClientRect().width;\n    //   let categoryWrapWidth = categoryWrap.getBoundingClientRect().width;\n    //   let scrollMove = category.scrollLeft;\n    //   let moveOffset = categoryWrapWidth - categoryWidth;\n    //   if (scrollMove == moveOffset) {\n    //     if (this.IndexNum >= this.totalPages) {\n    //       return;\n    //     }\n    //     this.IndexNum++;\n    //     this.matchType();\n    //   }\n    // },\n    toCreatRule: function toCreatRule() {\n      this.$router.push(\"/CreateClubRule\");\n    },\n    // 獲取導覽聯賽種類\n    matchType: function matchType() {\n      var _this = this;\n\n      var data1 = {\n        index: this.categoryIndexNum,\n        count: 10\n      };\n      apiGetClubMatchs(data1, true).then(function (res) {\n        _this.category = res.Data.Data;\n        _this.categoryTotalPages = res.Data.TotalPages;\n      }); // .then(() => {\n      //   this.getCategoryClubs(this.category[0].MatchId)\n      // });\n    },\n    // 獲取賽事種類的俱樂部清單\n    getCategoryClubs: function getCategoryClubs(matchId) {\n      var _this2 = this;\n\n      var data = {\n        MatchId: matchId,\n        ClubName: \"\",\n        index: 1,\n        count: 10\n      };\n      this.isLoading = true;\n      this.isNoData = false;\n      apiGetAllClubs(data, true).then(function (res) {\n        if (Math.abs(res.Code) >= 600 || res.Data.Data.length == 0) {\n          _this2.isNoData = true;\n          _this2.isLoading = false;\n        } else {\n          _this2.isLoading = false;\n          _this2.isNoData = false;\n          _this2.clubList = res.Data.Data;\n          _this2.totalPages = res.Data.TotalPages;\n        }\n\n        _this2.filter = false;\n      });\n    },\n    // 搜尋\n    // searchClub() {\n    //   let data = {\n    //     MatchId: this.matchId,\n    //     ClubName: this.searchVal,\n    //     index: 1,\n    //     count: 10,\n    //   };\n    //   apiGetAllClubs(data, true).then(res => {\n    //     this.clubList = res.Data.Data;\n    //   });\n    // },\n    // 申請加入俱樂部\n    joinClub: function joinClub() {\n      var _this3 = this;\n\n      var data = {\n        ClubId: this.clickClubId,\n        UName: this.uname,\n        Type: 0 // 0 申请进入  1 退出  2 被踢\n\n      };\n      apiJoinClub(data, true).then(function (res) {\n        _this3.isCallBack = true;\n        _this3.callBackMsg = res.Message;\n        _this3.isOpen = false;\n      });\n    },\n    // 聯賽無限加載\n    loadCategory: function loadCategory() {\n      var _this4 = this;\n\n      if (this.categoryIndexNum >= this.categoryTotalPages) {\n        this.categoryBusy = true;\n        return;\n      }\n\n      this.categoryIndexNum++;\n      var data1 = {\n        index: this.categoryIndexNum,\n        count: 10\n      };\n      apiGetClubMatchs(data1, true).then(function (res) {\n        res.Data.Data.forEach(function (el) {\n          _this4.category.push(el);\n        });\n      });\n    },\n    // 俱樂部無限加載\n    load: function load() {\n      var _this5 = this;\n\n      if (this.IndexNum >= this.totalPages) {\n        this.busy = true;\n        return;\n      }\n\n      this.IndexNum++;\n      var data = {\n        MatchId: this.matchId,\n        ClubName: \"\",\n        index: this.IndexNum,\n        count: 10\n      };\n      apiGetAllClubs(data, true).then(function (res) {\n        if (res.Data.Data.length == 0) {\n          _this5.busy = true;\n        } else if (res.Data.Data.length > 0) {\n          res.Data.Data.forEach(function (el) {\n            _this5.clubList.push(el);\n\n            _this5.busy = false;\n          });\n        }\n      });\n    },\n    // 查看俱樂部詳情\n    selectClub: function selectClub(id) {\n      localStorage.setItem(\"selectClub\", id);\n      this.$router.push(\"/clubData\");\n    }\n  }\n};",null]}