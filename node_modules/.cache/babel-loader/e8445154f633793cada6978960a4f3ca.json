{"remainingRequest":"C:\\work\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js!C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\work\\竞猜可换色板\\src\\views\\club\\ClubActivitiesRelease.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\work\\竞猜可换色板\\src\\views\\club\\ClubActivitiesRelease.vue","mtime":1606980099185},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport back from \"@/components/Botton/back.vue\";\nimport model from \"@/components/model\";\nimport { apiGetClubActivityMatchInfo, apiAddClubActivity } from \"@/api/ClubActivitys.js\";\nimport { swiper, swiperSlide } from \"vue-awesome-swiper\";\nimport \"swiper/css/swiper.css\";\nexport default {\n  components: {\n    back: back,\n    swiper: swiper,\n    swiperSlide: swiperSlide,\n    model: model\n  },\n  data: function data() {\n    return {\n      league: [],\n      leagueNewAry: [],\n      leagueId: \"\",\n      isSelect: false,\n      leagueNewAryIndex: undefined,\n      leagueNewAryItemIndex: undefined,\n      ticket: \"\",\n      selectNum: [],\n      sessionIndex: undefined,\n      acvtiveTitle: \"\",\n      sessionNum: \"\",\n      isClickTwice: false,\n      // clubId\n      clubId: \"\",\n      //swiper\n      swiperOption: {\n        pagination: {\n          el: \".swiper-pagination\"\n        } // on: {\n        //   // 使用es6的箭头函数，使this指向vue对象\n        //   slideNextTransitionEnd: () => {\n        //     this.index += 1;\n        //     this.loadActivityMatchInfo()\n        //   }\n        // }\n\n      },\n      isFancyBoxOpen: false\n    };\n  },\n  created: function created() {\n    localStorage.setItem(\"categoryIndex\", 1);\n    this.clubId = localStorage.getItem(\"ClubId\");\n    this.getActivityMatchInfo();\n  },\n  methods: {\n    // 活動發布輪播\n    activesSlide: function activesSlide() {\n      this.leagueNewAry = [];\n\n      for (var i = 0, len = this.league.length; i < len; i += 6) {\n        this.leagueNewAry.push(this.league.slice(i, i + 6));\n      }\n    },\n    // 獲取聯賽資料\n    getActivityMatchInfo: function getActivityMatchInfo() {\n      var _this = this;\n\n      apiGetClubActivityMatchInfo(\"\", true).then(function (res) {\n        _this.league = res.Data.ActivityMatches; // 門票\n\n        _this.ticket = res.Data.JoinAmount; // 場次\n\n        var str = res.Data.SelectNum;\n        _this.selectNum = str.split(',');\n\n        _this.activesSlide();\n      });\n    },\n    // 聯賽資料加載\n    // loadActivityMatchInfo() {\n    //   // 獲取clubId\n    //   // this.clubId = localStorage.getItem(\"ClubId\");\n    //   let data = {\n    //     clubId: this.clubId,\n    //     index: this.index,\n    //     count: 7\n    //   };\n    //   apiGetClubActivityMatchInfo(data, true).then(res => {\n    //     res.Data.ActivityMatches.Data.forEach(el => {\n    //       this.league.push(el);\n    //     });\n    //     this.activesSlide();\n    //   });\n    // },\n    // 點選聯賽\n    selectLeague: function selectLeague(index, indexs) {\n      if (this.leagueNewAryIndex == index && this.leagueNewAryItemIndex == indexs) {\n        this.leagueNewAryIndex = undefined;\n        this.leagueNewAryItemIndex = undefined;\n        this.leagueId = \"\";\n        return;\n      }\n\n      this.leagueNewAryIndex = index;\n      this.leagueNewAryItemIndex = indexs; // 儲存點選到的聯賽ID\n\n      this.leagueId = this.leagueNewAry[index][indexs].MatchId;\n      this.isClickTwice = false;\n    },\n    //選擇場次\n    selectSession: function selectSession(index) {\n      if (this.sessionIndex == index) {\n        this.sessionIndex = undefined;\n        this.sessionNum = \"\";\n        return;\n      }\n\n      this.sessionIndex = index;\n      this.sessionNum = this.selectNum[index];\n    },\n    // 發布活動\n    releaseActive: function releaseActive() {\n      var _this2 = this;\n\n      // 防止连点\n      if (this.isClickTwice) {\n        return false;\n      }\n\n      this.isClickTwice = true;\n\n      if (this.leagueId == \"\") {\n        this.$message({\n          message: this.$t(\"PleaseSelectALeague\"),\n          type: \"warning\",\n          center: true,\n          duration: 1200\n        });\n        this.isFancyBoxOpen = false;\n        return;\n      }\n\n      if (this.acvtiveTitle == \"\") {\n        this.$message({\n          message: this.$t(\"ActiveTitle\"),\n          type: \"warning\",\n          center: true,\n          duration: 1200\n        });\n        this.isFancyBoxOpen = false;\n        return;\n      }\n\n      if (this.sessionNum == \"\") {\n        this.$message({\n          message: this.$t(\"PleaseSelectTheSession\"),\n          type: \"warning\",\n          center: true,\n          duration: 1200\n        });\n        this.isFancyBoxOpen = false;\n        return;\n      }\n\n      var data = {\n        SelectLeague: this.leagueId,\n        NumGames: this.sessionNum,\n        ActivityContent: this.acvtiveTitle\n      };\n      apiAddClubActivity(data, true).then(function (res) {\n        if (Math.abs(res.Code) >= 600) {\n          _this2.$message({\n            message: res.Message,\n            type: \"warning\",\n            center: true,\n            duration: 3000\n          });\n        } else {\n          _this2.$message({\n            message: res.Message,\n            type: \"success\",\n            center: true,\n            duration: 3000\n          });\n\n          setTimeout(function () {\n            _this2.$router.push('/ClubActivities');\n          }, 3000);\n        }\n\n        _this2.isFancyBoxOpen = false;\n        _this2.isClickTwice = false; // 防止连点\n      });\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    localStorage.setItem(\"categoryIndex\", 1);\n  }\n};",{"version":3,"sources":["ClubActivitiesRelease.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"activities-release\">\r\n    <div class=\"activities-release-header\">\r\n      <div class=\"activities-release-header-wrap\">\r\n        <back class=\"back-icon img-he\"></back>\r\n        <h3>{{ $t(\"MyClub\") }}</h3>\r\n        <!--我的俱乐部-->\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"activities-release-content\">\r\n      <p class=\"activities-release-title\">{{ $t(\"PleaseSelectALeague\") }}</p>\r\n      <!-- 请选择联赛 -->\r\n      <!-- Swiper -->\r\n      <swiper class=\"swiper\" :options=\"swiperOption\" ref=\"mySwiper\">\r\n        <swiper-slide v-for=\"(item, index) in leagueNewAry\">\r\n          <div class=\"league-box\" v-for=\"(items, indexs) in item\" @click=\"selectLeague(index, indexs)\">\r\n            <div :class=\"[leagueNewAryIndex == index && leagueNewAryItemIndex == indexs? 'selested': 'unSelect']\"></div>\r\n            <!-- <img :src=\"items.MatchImg\" /> -->\r\n            <div v-if=\"items.MatchImg\" class=\"league-box-img\" :style=\"{ backgroundImage: 'url(' + items.MatchImg + ')' }\"></div>\r\n            <div v-else class=\"league-box-no-img\"></div>\r\n            <p class=\"matchName\">{{ items.MatchName }}</p>\r\n          </div>\r\n        </swiper-slide>\r\n        <div class=\"swiper-pagination\" slot=\"pagination\"></div>\r\n      </swiper>\r\n\r\n      <!-- 輸入活動標題 -->\r\n      <p class=\"activities-release-title\">{{ $t(\"ActiveTitle\") }}</p>\r\n      <input class=\"enter-title\" type=\"text\" :placeholder=\"$t('ActiveTitleTip')\" v-model=\"acvtiveTitle\">\r\n      <!-- 選擇門票 -->\r\n      <p class=\"activities-release-title\">{{ $t(\"PleaseSelectTickets\") }}</p>\r\n      <!-- 请选择门票 -->\r\n      <div class=\"select-wrap\">\r\n        <p class=\"select-title\">{{ $t(\"Tickets\") }}</p>\r\n        <!-- 门票 -->\r\n        <input type=\"text\" placeholder=\"0\" v-model=\"ticket\" disabled=\"disabled\"/>\r\n      </div>\r\n\r\n      <!-- 選擇場次 -->\r\n      <p class=\"activities-release-title\">{{ $t(\"PleaseSelectTheSession\") }}</p>\r\n      <!-- 请选择场次 -->\r\n      <div class=\"select-wrap\">\r\n        <p class=\"select-titlet\">{{ $t(\"Session\") }}</p><!-- 場次 -->\r\n        <div :class=\"[sessionIndex == index ?'select-num-active':'select-num']\" v-for=\"(num, index) in selectNum\" @click=\"selectSession(index)\">{{ num }}</div>\r\n      </div>\r\n    </div>\r\n    <button class=\"activities-release-btn\" @click=\"isFancyBoxOpen = true\">{{ $t('Confirm') }}</button>\r\n    <transition name=\"fade\">\r\n\t\t  <model v-if=\"isFancyBoxOpen\"></model>\r\n\t  </transition>\r\n\t  <transition name=\"fade\">\r\n      <div class=\"fancy-box\" v-if=\"isFancyBoxOpen\">\r\n        <img src=\"../../assets/club/ticket-header.png\" alt=\"\">\r\n        <div class=\"fancy-box-content\">\r\n          <p>{{ $t('SureToCreateThisEvent') }}?</p>\r\n        </div>\r\n        <div class=\"fancy-box-btn\">\r\n          <div class=\"fancy-box-btn-confirm\" @click=\"releaseActive()\" :disabled=\"isClickTwice\">{{ $t('Confirm') }}</div>\r\n          <div class=\"fancy-box-btn-cancel\" @click=\"isFancyBoxOpen = !isFancyBoxOpen\">{{ $t('Cancel') }}</div>\r\n        </div>\r\n      </div>\r\n\t  </transition>\r\n  </div>\r\n</template>\r\n<script>\r\nimport back from \"@/components/Botton/back.vue\";\r\nimport model from \"@/components/model\";\r\nimport { apiGetClubActivityMatchInfo, apiAddClubActivity } from \"@/api/ClubActivitys.js\";\r\nimport { swiper, swiperSlide } from \"vue-awesome-swiper\";\r\nimport \"swiper/css/swiper.css\";\r\nexport default {\r\n  components: {\r\n    back,\r\n    swiper,\r\n    swiperSlide,\r\n    model\r\n  },\r\n  data() {\r\n    return {\r\n      league: [],\r\n      leagueNewAry: [],\r\n      leagueId: \"\",\r\n      isSelect: false,\r\n      leagueNewAryIndex: undefined,\r\n      leagueNewAryItemIndex: undefined,\r\n      ticket: \"\",\r\n      selectNum: [],\r\n      sessionIndex: undefined,\r\n      acvtiveTitle: \"\",\r\n      sessionNum: \"\",\r\n      isClickTwice: false,\r\n      // clubId\r\n      clubId: \"\",\r\n      //swiper\r\n      swiperOption: {\r\n        pagination: {\r\n          el: \".swiper-pagination\"\r\n        },\r\n        // on: {\r\n        //   // 使用es6的箭头函数，使this指向vue对象\r\n        //   slideNextTransitionEnd: () => {\r\n        //     this.index += 1;\r\n        //     this.loadActivityMatchInfo()\r\n        //   }\r\n        // }\r\n      },\r\n      isFancyBoxOpen: false\r\n    };\r\n  },\r\n  created() {\r\n    localStorage.setItem(\"categoryIndex\", 1);\r\n    this.clubId = localStorage.getItem(\"ClubId\");\r\n    this.getActivityMatchInfo();\r\n  },\r\n  methods: {\r\n    // 活動發布輪播\r\n    activesSlide() {\r\n      this.leagueNewAry = [];\r\n      for (var i = 0, len = this.league.length; i < len; i += 6) {\r\n        this.leagueNewAry.push(this.league.slice(i, i + 6));\r\n      }\r\n    },\r\n\r\n    // 獲取聯賽資料\r\n    getActivityMatchInfo() {\r\n      apiGetClubActivityMatchInfo(\"\", true).then(res => {\r\n        this.league = res.Data.ActivityMatches;\r\n\r\n        // 門票\r\n        this.ticket = res.Data.JoinAmount;\r\n        // 場次\r\n        let str = res.Data.SelectNum;\r\n        this.selectNum = str.split(',');\r\n\r\n        this.activesSlide();\r\n      });\r\n    },\r\n\r\n    // 聯賽資料加載\r\n    // loadActivityMatchInfo() {\r\n    //   // 獲取clubId\r\n    //   // this.clubId = localStorage.getItem(\"ClubId\");\r\n    //   let data = {\r\n    //     clubId: this.clubId,\r\n    //     index: this.index,\r\n    //     count: 7\r\n    //   };\r\n    //   apiGetClubActivityMatchInfo(data, true).then(res => {\r\n    //     res.Data.ActivityMatches.Data.forEach(el => {\r\n    //       this.league.push(el);\r\n    //     });\r\n    //     this.activesSlide();\r\n    //   });\r\n    // },\r\n\r\n    // 點選聯賽\r\n    selectLeague(index, indexs) {\r\n      if (this.leagueNewAryIndex == index && this.leagueNewAryItemIndex == indexs) {\r\n        this.leagueNewAryIndex = undefined;\r\n        this.leagueNewAryItemIndex = undefined;\r\n        this.leagueId = \"\";\r\n        return;\r\n      }\r\n      this.leagueNewAryIndex = index;\r\n      this.leagueNewAryItemIndex = indexs;\r\n\r\n      // 儲存點選到的聯賽ID\r\n      this.leagueId = this.leagueNewAry[index][indexs].MatchId;\r\n      this.isClickTwice = false;\r\n    },\r\n\r\n    //選擇場次\r\n    selectSession(index) {\r\n      if (this.sessionIndex == index) {\r\n        this.sessionIndex = undefined;\r\n        this.sessionNum = \"\";\r\n        return;\r\n      }\r\n      this.sessionIndex = index;\r\n      this.sessionNum = this.selectNum[index];\r\n    },\r\n\r\n    // 發布活動\r\n    releaseActive() {\r\n      // 防止连点\r\n      if(this.isClickTwice){\r\n        return false;\r\n      }\r\n      this.isClickTwice = true\r\n\r\n      if(this.leagueId == \"\") {\r\n        this.$message({\r\n          message: this.$t(\"PleaseSelectALeague\"),\r\n          type: \"warning\",\r\n          center: true,\r\n          duration: 1200\r\n      });\r\n        this.isFancyBoxOpen = false;\r\n        return;\r\n      } \r\n      if(this.acvtiveTitle == \"\") {\r\n        this.$message({\r\n          message: this.$t(\"ActiveTitle\"),\r\n          type: \"warning\",\r\n          center: true,\r\n          duration: 1200\r\n        });\r\n        this.isFancyBoxOpen = false;\r\n        return;\r\n      }\r\n      if(this.sessionNum == \"\") {\r\n        this.$message({\r\n          message: this.$t(\"PleaseSelectTheSession\"),\r\n          type: \"warning\",\r\n          center: true,\r\n          duration: 1200\r\n        });\r\n        this.isFancyBoxOpen = false;\r\n        return;\r\n      }\r\n\r\n        let data = {\r\n          SelectLeague: this.leagueId,\r\n          NumGames: this.sessionNum,\r\n          ActivityContent: this.acvtiveTitle,\r\n        };\r\n        apiAddClubActivity(data, true).then(res => {\r\n          if (Math.abs(res.Code) >= 600) {\r\n            this.$message({\r\n              message: res.Message,\r\n              type: \"warning\",\r\n              center: true,\r\n              duration: 3000\r\n            });\r\n          } else {\r\n            this.$message({\r\n              message: res.Message,\r\n              type: \"success\",\r\n              center: true,\r\n              duration: 3000\r\n            });\r\n            setTimeout(() => {\r\n              this.$router.push('/ClubActivities')\r\n            }, 3000);\r\n          }\r\n          this.isFancyBoxOpen = false;\r\n          this.isClickTwice = false// 防止连点\r\n        });\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    localStorage.setItem(\"categoryIndex\", 1);\r\n  }\r\n};\r\n</script>\r\n"],"sourceRoot":"src/views/club"}]}