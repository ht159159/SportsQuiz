{"remainingRequest":"C:\\work\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js!C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\work\\竞猜可换色板\\src\\views\\personalCenter\\Myself.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\work\\竞猜可换色板\\src\\views\\personalCenter\\Myself.vue","mtime":1606294138658},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Vue from \"vue\";\nimport { Toast } from \"vant\";\nimport backB from \"@/components/Botton/back.vue\";\nVue.use(Toast);\nimport axios from \"axios\";\nimport { apiGetUserInfo, apiUploadImg, apiChangePwd, apiGetVipGrade } from \"@/api/User.js\";\nimport { apiUpload } from \"@/api/Upload.js\";\nimport { apiGetUnreadMessageCount, apiSetMessageRead } from \"@/api/Message.js\";\nimport { apiGetMissionUnGet } from \"@/api/mission.js\";\nimport back from \"@/components/Botton/back.vue\";\nimport colorChoice from \"@/components/ColorChoice.vue\";\nimport model from \"../../components/model\";\nimport { apiGetMemClubs } from \"@/api/Club.js\";\nexport default {\n  name: \"Myself\",\n  components: {\n    back: back,\n    colorChoice: colorChoice,\n    model: model\n  },\n  filters: {\n    Uname: function Uname(val) {\n      if (val == \"\") {\n        return 100;\n      }\n    },\n    F: function F(val) {\n      if (val == \"\") {\n        return \"no name\";\n      }\n    },\n    noName: function noName(name) {\n      if (name == null) {\n        return \"去设置昵称\";\n      } else {\n        return name;\n      }\n    }\n  },\n  data: function data() {\n    return {\n      infoList: [[{\n        topic: this.$t(\"MyRank\"),\n        routerName: \"rank\"\n      }, //【 我的排位 】\n      {\n        topic: this.$t(\"MyChallenge\"),\n        routerName: \"challengehome\"\n      }, //【 我的挑战 】\n      {\n        topic: this.$t(\"MyTask\"),\n        routerName: \"task\"\n      }, //【 我的任务 】\n      {\n        topic: this.$t(\"MyMedal\"),\n        routerName: \"medal\"\n      }, //【 我的勋章 】\n      {\n        topic: this.$t(\"Club\"),\n        routerName: \"CreateClub\"\n      } //【 俱樂部 】\n      ], [{\n        topic: this.$t(\"Profile\"),\n        routerName: \"selfMsg\"\n      }, //【 个人讯息 】\n      {\n        topic: this.$t(\"Notification\"),\n        routerName: \"myMessage\"\n      }, //【 系统消息 】\n      {\n        topic: this.$t(\"BetList\"),\n        routerName: \"history\"\n      }, //【 竞猜历史 】\n      {\n        topic: this.$t(\"Result\"),\n        routerName: \"gameResult\"\n      }, //【 比赛结果 】\n      {\n        topic: this.$t(\"AddressManagement\"),\n        routerName: \"address\"\n      }, //【 地址管理 】\n      {\n        topic: this.$t(\"Guide\"),\n        routerName: \"guize\"\n      }, //【 竞猜指南 】\n      {\n        topic: this.$t(\"Questionnaire\"),\n        routerName: \"questionnaire\"\n      }, //【 问卷调查 】\n      {\n        topic: this.$t(\"ChangeLanguage\"),\n        routerName: \"lang\"\n      } //【 语种切换 】\n      ], [{\n        topic: this.$t(\"ChangePassword\"),\n        routerName: \"changePass\"\n      } //【 色系选择 】\n      ]],\n      isAddress: false,\n      myMoney: 1000,\n      //金币\n      myTicket: 20,\n      //门票\n      myLottery: 5,\n      //奖券\n      UImg: \"\",\n      msgList: {\n        UImg: \"\",\n        UDiamond: 0,\n        UTicket: 0,\n        //门票\n        Lotteries: 0 //奖券\n\n      },\n      msgCount: 0,\n      unclaimedTaskReward: 0,\n      countNum: false,\n      testList: {},\n      msgMsg: \"\",\n      imgUrl: \"\",\n      showLan: false,\n      language: \"\",\n      langIndex: undefined,\n      langList: ['简体中文', '繁體中文', 'English'],\n      showGuide: false\n    };\n  },\n  methods: {\n    goToPage: function goToPage(routerName) {\n      var _this2 = this;\n\n      // 語系切換\n      if (routerName == \"lang\") {\n        this.showLan = true;\n\n        if (this.language == \"简体中文\") {\n          this.langIndex = 0;\n        } else if (this.language == \"繁體中文\") {\n          this.langIndex = 1;\n        } else if (this.language == \"English\") {\n          this.langIndex = 2;\n        }\n\n        return;\n      } // 俱樂部\n\n\n      if (routerName === \"CreateClub\") {\n        // 獲取俱樂部會員資格與否   1 = 有資格;  2 = 無資格\n        // let userName = localStorage.getItem('uname')\n        // let data = {}\n        apiGetMemClubs(\"\", true).then(function (res) {\n          if (res.Data == null) {\n            // 無會員\n            localStorage.setItem(\"isMember\", 2);\n\n            _this2.$router.push(\"/CreateClub\");\n          } else {\n            // 有會員\n            localStorage.setItem(\"isMember\", 1);\n            localStorage.setItem(\"ClubId\", res.Data.ClubId); // 判斷是否為管理階級\n\n            if (res.Data.Name == \"会长\") {\n              localStorage.setItem(\"isManagement\", 1);\n            } else if (res.Data.Name == \"副会长\") {\n              localStorage.setItem(\"isManagement\", 2);\n            } else if (res.Data.Name == \"会员\") {\n              localStorage.setItem(\"isManagement\", 3);\n            }\n\n            _this2.$router.push(\"/myClub\");\n          }\n        });\n        return;\n      }\n\n      this.$router.push(\"/\" + routerName);\n\n      switch (routerName) {\n        //系统信息\n        case \"myMessage\":\n          this.$router.push(\"/myMessage\");\n          var data = {};\n          apiSetMessageRead(data, true).then(function (res) {\n            _this2.countNum = false;\n          });\n          break;\n\n        default:\n          break;\n      }\n    },\n    goMyself: function goMyself() {\n      this.$router.push(\"/selfMsg\");\n    },\n    noVip: function noVip() {\n      // let config = {\n      //   headers: { \"Content-Type\": \"application/json\" }\n      // };\n      // let urlL = 'https://api-sf.linsio.cn/api/Payment/OTCLogin';\n      // let param = {\n      //   '': '123456'\n      // }\n      // //  添加请求头\n      // axios.post(urlL, param, config).then(response => {\n      // })\n      this.$router.push(\"/vip\");\n    },\n    goRecharge: function goRecharge() {\n      this.$router.push(\"/recharge\");\n    },\n    //路由跳转\n    goShop: function goShop() {\n      this.$router.push(\"/shop\");\n    },\n    goBackRes: function goBackRes() {\n      this.$router.push(\"/yijian\");\n    },\n    goYao: function goYao() {\n      this.$router.push(\"/invitationcode\");\n    },\n    goExchange: function goExchange() {\n      this.$router.push(\"/exchange\");\n    },\n    addressIn: function addressIn() {\n      this.isAddress = true;\n    },\n    layout: function layout() {\n      localStorage.removeItem(\"token\");\n      localStorage.setItem(\"shops\", \"[]\");\n      this.$router.push(\"/\");\n    },\n    goBack: function goBack() {\n      this.$router.go(-1); // let data = {}\n      // this.$store.dispatch(\"getMsgList\", data);\n    },\n    getMsg: function getMsg() {\n      var _this3 = this;\n\n      var data = {};\n      apiGetUserInfo(data, true).then(function (res) {\n        //有token要加ture\n        _this3.msgList = res;\n        _this3.msgList.UImg = res.UImg;\n        localStorage.setItem(\"RankId\", res.RankId);\n        localStorage.setItem(\"nickName\", res.NickName);\n        localStorage.setItem(\"UImg\", res.UImg);\n      });\n    },\n    getMsgNum: function getMsgNum() {\n      var _this4 = this;\n\n      var data = {};\n      apiGetUnreadMessageCount(data, true).then(function (res) {\n        _this4.msgCount = res.UnreadMessageCount;\n\n        if (_this4.msgCount > 0) {\n          _this4.countNum = true;\n        }\n      });\n    },\n    getUnclaimedTaskReward: function getUnclaimedTaskReward() {\n      var _this5 = this;\n\n      var data = {};\n      apiGetMissionUnGet(data, true).then(function (res) {\n        _this5.unclaimedTaskReward = res.Count;\n      });\n    },\n    // 上传图片\n    updataImg: function updataImg(e) {\n      var _this6 = this;\n\n      var file = e.target.files[0]; // 获取图片的大小，做大小限制有用\n\n      var imgSize = file.size; //图片压缩就是处理file\n\n      this.imgPreview(file);\n\n      var _this = this; // this指向问题，所以在外面先定义\n\n\n      if (imgSize <= 1024 * 1024) {\n        var imgName = JSON.stringify(file.name);\n        var param = new FormData(); // 创建form对象\n\n        param.append(\"file\", file, file.name); // 通过append向form对象添加数据\n\n        var config = {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\"\n          }\n        };\n        var urlL = process.env.VUE_APP_API_BASE_URL + \"/Uploader/UploadImg\"; //  添加请求头\n\n        axios.post(urlL, param, config).then(function (response) {\n          if (response.status == 200) {\n            // 成功上传后处理逻辑\n            _this6.msgMsg = response.data.Msg;\n            _this6.msgList.UImg = response.data.Data.Url;\n\n            _this6.$Alert.showSuccess.call(_this6, _this6.msgMsg);\n\n            var data = {\n              UImg: _this6.msgList.UImg\n            };\n            apiUploadImg(data, true).then(function (res) {\n              if (res.Status == 1) {// localStorage.setItem('imgs', this.imgUrl)\n              }\n            });\n          }\n        });\n      } else {\n        this.$Alert.showWarning.call(this, \"图片太大啦！\");\n      }\n    },\n    imgPreview: function imgPreview(file) {\n      var self = this;\n      var Orientation; // 创建一个reader\n\n      var reader = new FileReader(); // 将图片2将转成 base64 格式\n\n      reader.readAsDataURL(file);\n\n      reader.onloadend = function () {\n        var result = this.result;\n        var img = new Image();\n        img.src = result; //判断图片是否大于100K,是就直接上传，反之压缩图片\n\n        if (this.result.length <= 1024 * 1024) {\n          self.headerImage = this.result;\n        } else {\n          img.onload = function () {\n            var data = self.compress(img, Orientation);\n            self.headerImage = data;\n          };\n        }\n      };\n    },\n    compress: function compress(img, Orientation) {\n      var canvas = document.createElement(\"canvas\");\n      var ctx = canvas.getContext(\"2d\"); //瓦片canvas\n\n      var tCanvas = document.createElement(\"canvas\");\n      var tctx = tCanvas.getContext(\"2d\");\n      var initSize = img.src.length;\n      var width = img.width;\n      var height = img.height; //如果图片大于四百万像素，计算压缩比并将大小压至400万以下\n\n      var ratio;\n\n      if ((ratio = width * height / 4000000) > 1) {\n        ratio = Math.sqrt(ratio);\n        width /= ratio;\n        height /= ratio;\n      } else {\n        ratio = 1;\n      }\n\n      canvas.width = width;\n      canvas.height = height; //        铺底色\n\n      ctx.fillStyle = \"#fff\";\n      ctx.fillRect(0, 0, canvas.width, canvas.height); //如果图片像素大于100万则使用瓦片绘制\n\n      var count;\n\n      if ((count = width * height / 1000000) > 1) {\n        count = ~~(Math.sqrt(count) + 1); //计算要分成多少块瓦片\n        //            计算每块瓦片的宽和高\n\n        var nw = ~~(width / count);\n        var nh = ~~(height / count);\n        tCanvas.width = nw;\n        tCanvas.height = nh;\n\n        for (var i = 0; i < count; i++) {\n          for (var j = 0; j < count; j++) {\n            tctx.drawImage(img, i * nw * ratio, j * nh * ratio, nw * ratio, nh * ratio, 0, 0, nw, nh);\n            ctx.drawImage(tCanvas, i * nw, j * nh, nw, nh);\n          }\n        }\n      } else {\n        ctx.drawImage(img, 0, 0, width, height);\n      } //修复ios上传图片的时候 被旋转的问题\n\n\n      if (Orientation != \"\" && Orientation != 1) {\n        switch (Orientation) {\n          case 6:\n            //需要顺时针（向左）90度旋转\n            this.rotateImg(img, \"left\", canvas);\n            break;\n\n          case 8:\n            //需要逆时针（向右）90度旋转\n            this.rotateImg(img, \"right\", canvas);\n            break;\n\n          case 3:\n            //需要180度旋转\n            this.rotateImg(img, \"right\", canvas); //转两次\n\n            this.rotateImg(img, \"right\", canvas);\n            break;\n        }\n      } //进行最小压缩\n\n\n      var ndata = canvas.toDataURL(\"image/jpeg\", 0.1); //\"压缩前：\" + initSize\n      //\"压缩后：\" + ndata.length\n      //\"压缩率：\" + ~~((100 * (initSize - ndata.length)) / initSize) + \"%\"\n\n      tCanvas.width = tCanvas.height = canvas.width = canvas.height = 0;\n      return ndata;\n    },\n    // 語系初始化\n    langInit: function langInit() {\n      this.language = JSON.parse(localStorage.getItem(\"lang\")).name;\n    },\n    // 語系彈窗選擇\n    langChoice: function langChoice(index) {\n      this.langIndex = index;\n    },\n    // 關閉語系選擇彈窗\n    cancel: function cancel() {\n      this.showLan = false;\n    },\n    // 確定選擇語言\n    confirm: function confirm() {\n      if (this.langIndex == 0) {\n        localStorage.setItem(\"lang\", JSON.stringify({\n          name: \"简体中文\",\n          tag: \"zh-CN\"\n        }));\n      } else if (this.langIndex == 1) {\n        localStorage.setItem(\"lang\", JSON.stringify({\n          name: \"繁體中文\",\n          tag: \"zh-TW\"\n        }));\n      } else if (this.langIndex == 2) {\n        localStorage.setItem(\"lang\", JSON.stringify({\n          name: \"English\",\n          tag: \"en-US\"\n        }));\n      }\n\n      location.reload();\n    },\n    // 競猜指南暫時用確認按鈕\n    ComingSoon: function ComingSoon() {\n      this.showGuide = false;\n    }\n  },\n  mounted: function mounted() {\n    this.getMsg();\n    this.getMsgNum();\n    this.langInit();\n    this.getUnclaimedTaskReward();\n  }\n};",{"version":3,"sources":["Myself.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <main class=\"myself\" style=\"position: relative;\">\r\n    <div class=\"myself-header\" style=\"\">\r\n      <!-- <back-b  @click=\"goBack\" class=\"back-icon\"></back-b> -->\r\n      <back class=\"back-icon img-he\"></back>\r\n      <!-- <img\r\n        class=\"imgI\"\r\n        @click=\"layout\"\r\n        src=\"@/assets/guanbi.png\"\r\n        style=\"float:right;width:.42rem;height:.42rem;margin:.45rem .48rem 0 0\"\r\n      /> -->\r\n      <div class=\"logout\" @click=\"layout\"></div>\r\n      <div class=\"myself-header-name\">\r\n        <!-- accept解决图片筛选问题 -->\r\n        <!-- <span class='bestWord'>{{msgList.RankName}}</span> -->\r\n        <!-- <img class='bigImgs' src='@/assets/vip_03.png' /> -->\r\n        <input\r\n          class=\"inputImg\"\r\n          type=\"file\"\r\n          name=\"image\"\r\n          accept=\"image/*\"\r\n          @change=\"updataImg\"\r\n          style=\"display:none\"\r\n        />\r\n        <div @click=\"goMyself\" class=\"bgBoss\">\r\n          <img\r\n            class=\"upImg\"\r\n            :src=\"\r\n              msgList.UImg == '' ? require('@/assets/head.png') : msgList.UImg\r\n            \"\r\n          />\r\n          <!-- <img class=\"upImg\" :src='UImg' /> -->\r\n          <img\r\n            class=\"vips\"\r\n            src=\"@/assets/vip/V1.png\"\r\n            alt=\"\"\r\n            v-if=\"msgList.RankId == '1'\"\r\n          />\r\n          <img\r\n            class=\"vips\"\r\n            src=\"@/assets/vip/V2.png\"\r\n            alt=\"\"\r\n            v-if=\"msgList.RankId == '2'\"\r\n          />\r\n          <img\r\n            class=\"vips\"\r\n            src=\"@/assets/vip/V3.png\"\r\n            alt=\"\"\r\n            v-if=\"msgList.RankId == '3'\"\r\n          />\r\n          <img\r\n            class=\"vips\"\r\n            src=\"@/assets/vip/V4.png\"\r\n            alt=\"\"\r\n            v-if=\"msgList.RankId == '4'\"\r\n          />\r\n          <img\r\n            class=\"vips\"\r\n            src=\"@/assets/vip/V5.png\"\r\n            alt=\"\"\r\n            v-if=\"msgList.RankId == '5'\"\r\n          />\r\n          <img\r\n            class=\"vips\"\r\n            src=\"@/assets/vip/V6.png\"\r\n            alt=\"\"\r\n            v-if=\"msgList.RankId == '6'\"\r\n          />\r\n          <img\r\n            class=\"vips\"\r\n            src=\"@/assets/vip/V7.png\"\r\n            alt=\"\"\r\n            v-if=\"msgList.RankId == '7'\"\r\n          />\r\n          <img\r\n            class=\"vips\"\r\n            src=\"@/assets/vip/V8.png\"\r\n            alt=\"\"\r\n            v-if=\"msgList.RankId == '8'\"\r\n          />\r\n          <img\r\n            class=\"vips\"\r\n            src=\"@/assets/vip/V9.png\"\r\n            alt=\"\"\r\n            v-if=\"msgList.RankId == '9'\"\r\n          />\r\n          <img\r\n            class=\"vips\"\r\n            src=\"@/assets/vip/V10.png\"\r\n            alt=\"\"\r\n            v-if=\"msgList.RankId == '10'\"\r\n          />\r\n        </div>\r\n\r\n        <p\r\n          class=\"upName\"\r\n          style=\"text-align:center;font-size: .26rem;margin-left: -.28rem;width: 1.9rem\"\r\n        >\r\n          {{ msgList.NickName | noName }}\r\n        </p>\r\n        <!-- | noName(name) -->\r\n      </div>\r\n      <ul class=\"headerImgList\">\r\n        <!-- <li class=\"my-header-list-wrap\" @click=\"goRecharge()\">\r\n          <div class=\"my-header-list-1\"></div>\r\n          <div class=\"my-header-list-text\">{{ $t('Deposit') }}</div>  【 充值 】\r\n        </li> -->\r\n        <li class=\"my-header-list-wrap\" @click=\"noVip\">\r\n          <!-- <van-image\r\n            class=\"imgss\"\r\n            :src=\"require('@/assets/myself_05.png')\"\r\n            alt\r\n          /> -->\r\n          <div class=\"my-header-list-2\"></div>\r\n          <div class=\"my-header-list-text\">{{ $t('VIP') }}</div>  <!-- 【 VIP 】 -->\r\n        </li>\r\n        <li class=\"my-header-list-wrap\">\r\n          <router-link to=\"/InvitationCode\">\r\n            <!-- <van-image\r\n              class=\"imgss\"\r\n              :src=\"require('@/assets/myself_07.png')\"\r\n              alt\r\n            /> -->\r\n            <div class=\"my-header-list-3\"></div>\r\n            <div class=\"my-header-list-text\">{{ $t('Invite') }}</div>  <!-- 【 邀请 】 -->\r\n          </router-link>\r\n        </li>\r\n        <li class=\"my-header-list-wrap\" @click=\"goShop\">\r\n          <!-- <van-image\r\n            class=\"imgss\"\r\n            :src=\"require('@/assets/myself_09.png')\"\r\n            alt\r\n          /> -->\r\n          <div class=\"my-header-list-4\"></div>\r\n          <div class=\"my-header-list-text\">{{ $t('Exchange') }}</div>  <!-- 【 兑换 】 -->\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"myself-content\">\r\n      <img src=\"@/assets/qian_03.png\" />\r\n      <span class=\"myself-content-wallet\">{{ $t('Wallet') }}</span>  <!-- 【 我的钱包 】 -->\r\n      <p class=\"myself-content-line\"></p>\r\n      <ul class=\"myself-content-ul\">\r\n        <li class=\"myself-content-ul-item\">\r\n          <p class=\"myself-content-ul-item-num\">{{ msgList.UDiamond }}</p>\r\n          <p class=\"myself-content-ul-item-ward\">{{ $t('Coins') }}</p>  <!-- 【 金币 】 -->\r\n        </li>\r\n        <li class=\"myself-content-ul-item\">\r\n          <p class=\"myself-content-ul-item-num\">{{ msgList.UTicket }}</p>\r\n          <p class=\"myself-content-ul-item-ward\">{{ $t('Tickets') }}</p>  <!-- 【 门票 】 -->\r\n        </li>\r\n        <li class=\"myself-content-ul-item\">\r\n          <p class=\"myself-content-ul-item-num\">{{ msgList.Lotteries }}</p>\r\n          <p class=\"myself-content-ul-item-ward\">{{ $t('Lottery') }}</p>  <!-- 【 奖券 】 -->\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"myself-list\" id=\"list\">\r\n      <div class=\"myself-list-big\" style=\"margin-top: .2rem\">\r\n        <div\r\n          class=\"myself-list-big-plet\"\r\n          @click=\"goToPage(myData.routerName)\"\r\n          v-for=\"(myData, index) in infoList[0]\"\r\n        >\r\n          <!-- <img\r\n            class=\"imgI\"\r\n            :src=\"myData.imgUrl\"\r\n            alt\r\n            style=\"margin-left: .5rem\"\r\n          /> -->\r\n          <div class=\"list-img\" :class=\"`myself-list-img-${index + 1}`\"></div>\r\n          <span class=\"myself-list-big-plet-ward\"> {{ myData.topic }}</span>\r\n          <span\r\n            class=\"spanNum\"\r\n            v-show=\"myData.routerName == 'task' && unclaimedTaskReward > 0\"\r\n            >{{ unclaimedTaskReward }}</span\r\n          >\r\n          <img\r\n            src=\"@/assets/myself/leftjian.png\"\r\n            class=\"myself-list-big-plet-right\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div class=\"myself-list-big\" style=\"margin-top: .2rem\">\r\n        <div\r\n          class=\"myself-list-big-plet\"\r\n          @click=\"goToPage(listData.routerName)\"\r\n          v-for=\"(listData, index) in infoList[1]\"\r\n        >\r\n          <!-- <img class=\"imgI\" :src=\"listData.imgUrl\" alt /> -->\r\n          <div class=\"list-img\" :class=\"`myself-list-img-${index + 6}`\"></div>\r\n          <span class=\"myself-list-big-plet-ward\">{{ listData.topic }}</span>\r\n          <span\r\n            class=\"spanNum\"\r\n            v-show=\"listData.routerName == 'myMessage' && countNum\"\r\n            >{{ msgCount }}</span\r\n          >\r\n          <span\r\n            class=\"current-lang\"\r\n            v-show=\"listData.routerName == 'lang'\"\r\n            >{{ language }}</span\r\n          >\r\n          <img\r\n            src=\"@/assets/myself/leftjian.png\"\r\n            class=\"myself-list-big-plet-right\"\r\n          />\r\n        </div>\r\n\r\n        <!-- <p\r\n          class=\"myself-list-big-plet1\"\r\n          @click=\"goExchange\"\r\n        >\r\n          <img\r\n          class='imgI'\r\n            src='@/assets/duihuan.png'\r\n            alt\r\n          />\r\n          <span class=\"myself-list-big-plet-ward\">兑换记录</span>\r\n          <img\r\n            src=\"@/assets/myself/leftjian.png\"\r\n            class=\"myself-list-big-plet-right\"\r\n          />\r\n        </p> -->\r\n\r\n        <!-- <p\r\n          class=\"myself-list-big-plet1\"\r\n          @click=\"goBackRes\"\r\n          style=\"border: 0\"\r\n        >\r\n          <img\r\n          class='imgI'\r\n            src='@/assets/myself/mys_19.jpg'\r\n            alt\r\n            style=\"height:.24rem;width:.24rem\"\r\n          />\r\n          <span class=\"myself-list-big-plet-ward\">意见反馈</span>\r\n          <img\r\n            src=\"@/assets/myself/leftjian.png\"\r\n            class=\"myself-list-big-plet-right\"\r\n          />\r\n        </p> -->\r\n      </div>\r\n      <div  class=\"myself-list-rank\"  style=\"margin-top: .2rem\"  @click=\"goToPage(userData.routerName)\"  v-for=\"(userData, index) in infoList[2]\">\r\n        <!-- <img class=\"imgI\"  :src=\"userData.imgUrl\"  alt  style=\"margin-left: .6rem\"/> -->\r\n        <div class=\"list-img\" :class=\"`myself-list-img-${index + 14}`\"></div>\r\n        <span class=\"myself-list-rank-ward\">{{ userData.topic }}</span>\r\n        <img  src=\"@/assets/myself/leftjian.png\"  class=\"myself-list-rank-right\"  style=\"margin-right:0.42rem\"/>\r\n      </div>\r\n\r\n      <!-- 色系選擇 -->\r\n      <colorChoice />\r\n    </div>\r\n    <!-- 語系遮罩 -->\r\n    <transition name=\"fade\">\r\n      <model v-if=\"showLan\"></model>\r\n    </transition>\r\n    <transition name=\"fade\">\r\n      <div class=\"lang-select-wrap\" v-if=\"showLan\">\r\n        <p v-for=\"(lang, index) in langList\" :class=\"{'focus' : langIndex == index}\" @click=\"langChoice(index)\">{{ lang }}</p>\r\n        <div class=\"lang-btn-wrap\">\r\n          <div class=\"lang-btn cancel\" @click=\"cancel()\">{{ $t(\"Cancel\") }}</div>  <!-- 【 取消 】 -->\r\n          <div class=\"lang-btn\" @click=\"confirm()\">{{ $t(\"Confirm\") }}</div>  <!-- 【 确认 】 -->\r\n        </div>\r\n      </div>\r\n    </transition>\r\n\r\n    <!-- 競猜指南暫時用彈窗 -->\r\n    <!-- <transition name=\"fade\">\r\n      <model v-if=\"showGuide\"></model>\r\n    </transition>\r\n    <transition name=\"fade\">\r\n      <div class=\"guide-wrap\" v-if=\"showGuide\">\r\n        <p>{{ $t(\"ComingSoon\") }}</p>\r\n        <div class=\"guide-btn\" @click=\"ComingSoon()\">{{ $t(\"Confirm\") }}</div>\r\n      </div>\r\n    </transition> -->\r\n  </main>\r\n</template>\r\n<script>\r\nimport Vue from \"vue\";\r\nimport { Toast } from \"vant\";\r\nimport backB from \"@/components/Botton/back.vue\";\r\nVue.use(Toast);\r\nimport axios from \"axios\";\r\nimport {\r\n  apiGetUserInfo,\r\n  apiUploadImg,\r\n  apiChangePwd,\r\n  apiGetVipGrade\r\n} from \"@/api/User.js\";\r\nimport { apiUpload } from \"@/api/Upload.js\";\r\nimport { apiGetUnreadMessageCount, apiSetMessageRead } from \"@/api/Message.js\";\r\nimport { apiGetMissionUnGet } from \"@/api/mission.js\";\r\nimport back from \"@/components/Botton/back.vue\";\r\nimport colorChoice from \"@/components/ColorChoice.vue\";\r\nimport model from \"../../components/model\";\r\nimport { apiGetMemClubs } from \"@/api/Club.js\";\r\nexport default {\r\n  name: \"Myself\",\r\n  components: {\r\n    back,\r\n    colorChoice,\r\n    model\r\n  },\r\n  filters: {\r\n    Uname(val) {\r\n      if (val == \"\") {\r\n        return 100;\r\n      }\r\n    },\r\n    F(val) {\r\n      if (val == \"\") {\r\n        return \"no name\";\r\n      }\r\n    },\r\n    noName(name) {\r\n      if (name == null) {\r\n        return \"去设置昵称\";\r\n      } else {\r\n        return name;\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      infoList: [\r\n        [\r\n          {  topic: this.$t(\"MyRank\"),  routerName: \"rank\"}, //【 我的排位 】\r\n          {  topic: this.$t(\"MyChallenge\"),  routerName: \"challengehome\"}, //【 我的挑战 】\r\n          {  topic: this.$t(\"MyTask\"),  routerName: \"task\"},  //【 我的任务 】\r\n          {  topic: this.$t(\"MyMedal\"),  routerName: \"medal\"},  //【 我的勋章 】\r\n          {  topic: this.$t(\"Club\"),  routerName: \"CreateClub\"}  //【 俱樂部 】\r\n        ],\r\n        [\r\n          {  topic: this.$t(\"Profile\"),  routerName: \"selfMsg\"},  //【 个人讯息 】\r\n          {  topic: this.$t(\"Notification\"),  routerName: \"myMessage\"},  //【 系统消息 】\r\n          {  topic: this.$t(\"BetList\"),  routerName: \"history\"},  //【 竞猜历史 】\r\n          {  topic: this.$t(\"Result\"),  routerName: \"gameResult\"},  //【 比赛结果 】\r\n          {  topic: this.$t(\"AddressManagement\"),  routerName: \"address\"},  //【 地址管理 】\r\n          {  topic: this.$t(\"Guide\"),  routerName: \"guize\"},  //【 竞猜指南 】\r\n          {  topic: this.$t(\"Questionnaire\"),  routerName: \"questionnaire\"},  //【 问卷调查 】\r\n          {  topic: this.$t(\"ChangeLanguage\"), routerName: \"lang\"},  //【 语种切换 】\r\n        ],\r\n        [\r\n          {  topic: this.$t(\"ChangePassword\"),  routerName: \"changePass\"}  //【 色系选择 】\r\n        ]\r\n      ],\r\n      isAddress: false,\r\n      myMoney: 1000, //金币\r\n      myTicket: 20, //门票\r\n      myLottery: 5, //奖券\r\n      UImg: \"\",\r\n      msgList: {\r\n        UImg: \"\",\r\n        UDiamond: 0,\r\n        UTicket: 0, //门票\r\n        Lotteries: 0 //奖券\r\n      },\r\n      msgCount: 0,\r\n      unclaimedTaskReward: 0,\r\n      countNum: false,\r\n      testList: {},\r\n      msgMsg: \"\",\r\n      imgUrl: \"\",\r\n\r\n      showLan: false,\r\n      language: \"\",\r\n      langIndex: undefined,\r\n      langList: ['简体中文','繁體中文','English'],\r\n\r\n      showGuide: false,\r\n    };\r\n  },\r\n  methods: {\r\n    goToPage(routerName) {\r\n      // 語系切換\r\n      if (routerName == \"lang\") {\r\n        this.showLan = true;\r\n        if (this.language == \"简体中文\") {\r\n          this.langIndex = 0;\r\n        } else if (this.language == \"繁體中文\") {\r\n          this.langIndex = 1;\r\n        }\r\n        else if (this.language == \"English\") {\r\n          this.langIndex = 2;\r\n        }\r\n        return;\r\n      }\r\n\r\n      // 俱樂部\r\n      if (routerName === \"CreateClub\") {\r\n        // 獲取俱樂部會員資格與否   1 = 有資格;  2 = 無資格\r\n        // let userName = localStorage.getItem('uname')\r\n        // let data = {}\r\n        apiGetMemClubs(\"\", true).then(res => {\r\n          if (res.Data == null) {\r\n            // 無會員\r\n            localStorage.setItem(\"isMember\", 2);\r\n            this.$router.push(\"/CreateClub\");\r\n          } else {\r\n            // 有會員\r\n            localStorage.setItem(\"isMember\", 1);\r\n            localStorage.setItem(\"ClubId\", res.Data.ClubId);\r\n            // 判斷是否為管理階級\r\n            if (res.Data.Name == \"会长\") {\r\n              localStorage.setItem(\"isManagement\", 1);\r\n            } else if (res.Data.Name == \"副会长\"){\r\n              localStorage.setItem(\"isManagement\", 2);\r\n            } else if (res.Data.Name == \"会员\"){\r\n              localStorage.setItem(\"isManagement\", 3);\r\n            }\r\n            this.$router.push(\"/myClub\");\r\n          }\r\n        });\r\n        return;\r\n      }\r\n      this.$router.push(\"/\" + routerName);\r\n      switch (routerName) {\r\n        //系统信息\r\n        case \"myMessage\":\r\n          this.$router.push(\"/myMessage\");\r\n          let data = {};\r\n          apiSetMessageRead(data, true).then(res => {\r\n            this.countNum = false;\r\n          });\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n    },\r\n    goMyself() {\r\n      this.$router.push(\"/selfMsg\");\r\n    },\r\n    noVip() {\r\n      // let config = {\r\n      //   headers: { \"Content-Type\": \"application/json\" }\r\n      // };\r\n      // let urlL = 'https://api-sf.linsio.cn/api/Payment/OTCLogin';\r\n      // let param = {\r\n      //   '': '123456'\r\n      // }\r\n      // //  添加请求头\r\n      // axios.post(urlL, param, config).then(response => {\r\n      // })\r\n      this.$router.push(\"/vip\");\r\n    },\r\n\r\n    goRecharge() {\r\n      this.$router.push(\"/recharge\");\r\n    },\r\n    //路由跳转\r\n    goShop() {\r\n      this.$router.push(\"/shop\");\r\n    },\r\n    goBackRes() {\r\n      this.$router.push(\"/yijian\");\r\n    },\r\n    goYao() {\r\n      this.$router.push(\"/invitationcode\");\r\n    },\r\n    goExchange() {\r\n      this.$router.push(\"/exchange\");\r\n    },\r\n\r\n    addressIn() {\r\n      this.isAddress = true;\r\n    },\r\n\r\n    layout() {\r\n      localStorage.removeItem(\"token\");\r\n      localStorage.setItem(\"shops\", \"[]\");\r\n      this.$router.push(\"/\");\r\n    },\r\n    goBack() {\r\n      this.$router.go(-1);\r\n      // let data = {}\r\n      // this.$store.dispatch(\"getMsgList\", data);\r\n    },\r\n\r\n    getMsg() {\r\n      let data = {};\r\n      apiGetUserInfo(data, true).then(res => {\r\n        //有token要加ture\r\n        this.msgList = res;\r\n        this.msgList.UImg = res.UImg;\r\n        localStorage.setItem(\"RankId\", res.RankId);\r\n        localStorage.setItem(\"nickName\", res.NickName);\r\n        localStorage.setItem(\"UImg\", res.UImg);\r\n      });\r\n    },\r\n\r\n    getMsgNum() {\r\n      let data = {};\r\n      apiGetUnreadMessageCount(data, true).then(res => {\r\n        this.msgCount = res.UnreadMessageCount;\r\n        if (this.msgCount > 0) {\r\n          this.countNum = true;\r\n        }\r\n      });\r\n    },\r\n\r\n    getUnclaimedTaskReward() {\r\n      let data = {};\r\n      apiGetMissionUnGet(data, true).then(res => {\r\n        this.unclaimedTaskReward = res.Count;\r\n      });\r\n    },\r\n    // 上传图片\r\n    updataImg(e) {\r\n      var file = e.target.files[0];\r\n      // 获取图片的大小，做大小限制有用\r\n      let imgSize = file.size;\r\n      //图片压缩就是处理file\r\n\r\n      this.imgPreview(file);\r\n\r\n      var _this = this; // this指向问题，所以在外面先定义\r\n      if (imgSize <= 1024 * 1024) {\r\n\r\n        const imgName = JSON.stringify(file.name);\r\n        let param = new FormData(); // 创建form对象\r\n        param.append(\"file\", file, file.name); // 通过append向form对象添加数据\r\n        let config = {\r\n          headers: {\r\n            \"Content-Type\": \"multipart/form-data\"\r\n          }\r\n        };\r\n        let urlL = process.env.VUE_APP_API_BASE_URL + \"/Uploader/UploadImg\";\r\n        //  添加请求头\r\n        axios.post(urlL, param, config).then(response => {\r\n          if (response.status == 200) {\r\n            // 成功上传后处理逻辑\r\n            this.msgMsg = response.data.Msg;\r\n            this.msgList.UImg = response.data.Data.Url;\r\n            this.$Alert.showSuccess.call(this, this.msgMsg);\r\n            let data = {\r\n              UImg: this.msgList.UImg\r\n            };\r\n            apiUploadImg(data, true).then(res => {\r\n              if (res.Status == 1) {\r\n                // localStorage.setItem('imgs', this.imgUrl)\r\n              }\r\n            });\r\n          }\r\n        });\r\n      } else {\r\n        this.$Alert.showWarning.call(this, \"图片太大啦！\");\r\n      }\r\n    },\r\n    imgPreview(file) {\r\n      let self = this;\r\n      let Orientation;\r\n      // 创建一个reader\r\n      let reader = new FileReader();\r\n      // 将图片2将转成 base64 格式\r\n      reader.readAsDataURL(file);\r\n      reader.onloadend = function() {\r\n        let result = this.result;\r\n        let img = new Image();\r\n        img.src = result;\r\n        //判断图片是否大于100K,是就直接上传，反之压缩图片\r\n        if (this.result.length <= 1024 * 1024) {\r\n          self.headerImage = this.result;\r\n        } else {\r\n          img.onload = function() {\r\n            let data = self.compress(img, Orientation);\r\n            self.headerImage = data;\r\n          };\r\n        }\r\n      };\r\n    },\r\n    compress(img, Orientation) {\r\n      let canvas = document.createElement(\"canvas\");\r\n      let ctx = canvas.getContext(\"2d\");\r\n      //瓦片canvas\r\n      let tCanvas = document.createElement(\"canvas\");\r\n      let tctx = tCanvas.getContext(\"2d\");\r\n      let initSize = img.src.length;\r\n      let width = img.width;\r\n      let height = img.height;\r\n      //如果图片大于四百万像素，计算压缩比并将大小压至400万以下\r\n      let ratio;\r\n      if ((ratio = (width * height) / 4000000) > 1) {\r\n        ratio = Math.sqrt(ratio);\r\n        width /= ratio;\r\n        height /= ratio;\r\n      } else {\r\n        ratio = 1;\r\n      }\r\n      canvas.width = width;\r\n      canvas.height = height;\r\n      //        铺底色\r\n      ctx.fillStyle = \"#fff\";\r\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n      //如果图片像素大于100万则使用瓦片绘制\r\n      let count;\r\n      if ((count = (width * height) / 1000000) > 1) {\r\n        count = ~~(Math.sqrt(count) + 1); //计算要分成多少块瓦片\r\n        //            计算每块瓦片的宽和高\r\n        let nw = ~~(width / count);\r\n        let nh = ~~(height / count);\r\n        tCanvas.width = nw;\r\n        tCanvas.height = nh;\r\n        for (let i = 0; i < count; i++) {\r\n          for (let j = 0; j < count; j++) {\r\n            tctx.drawImage(\r\n              img,\r\n              i * nw * ratio,\r\n              j * nh * ratio,\r\n              nw * ratio,\r\n              nh * ratio,\r\n              0,\r\n              0,\r\n              nw,\r\n              nh\r\n            );\r\n            ctx.drawImage(tCanvas, i * nw, j * nh, nw, nh);\r\n          }\r\n        }\r\n      } else {\r\n        ctx.drawImage(img, 0, 0, width, height);\r\n      }\r\n      //修复ios上传图片的时候 被旋转的问题\r\n      if (Orientation != \"\" && Orientation != 1) {\r\n        switch (Orientation) {\r\n          case 6: //需要顺时针（向左）90度旋转\r\n            this.rotateImg(img, \"left\", canvas);\r\n            break;\r\n          case 8: //需要逆时针（向右）90度旋转\r\n            this.rotateImg(img, \"right\", canvas);\r\n            break;\r\n          case 3: //需要180度旋转\r\n            this.rotateImg(img, \"right\", canvas); //转两次\r\n            this.rotateImg(img, \"right\", canvas);\r\n            break;\r\n        }\r\n      }\r\n      //进行最小压缩\r\n      let ndata = canvas.toDataURL(\"image/jpeg\", 0.1);\r\n      //\"压缩前：\" + initSize\r\n      //\"压缩后：\" + ndata.length\r\n      //\"压缩率：\" + ~~((100 * (initSize - ndata.length)) / initSize) + \"%\"\r\n      tCanvas.width = tCanvas.height = canvas.width = canvas.height = 0;\r\n      return ndata;\r\n    },\r\n\r\n    // 語系初始化\r\n    langInit() {\r\n      this.language = JSON.parse(localStorage.getItem(\"lang\")).name;\r\n    },\r\n\r\n    // 語系彈窗選擇\r\n    langChoice(index) {\r\n      this.langIndex = index;\r\n    },\r\n\r\n    // 關閉語系選擇彈窗\r\n    cancel() {\r\n      this.showLan = false;\r\n    },\r\n\r\n    // 確定選擇語言\r\n    confirm() {\r\n      if (this.langIndex == 0) {\r\n        localStorage.setItem(\"lang\", JSON.stringify({ name: \"简体中文\", tag: \"zh-CN\" }));\r\n      } else if (this.langIndex == 1) {\r\n        localStorage.setItem(\"lang\", JSON.stringify({ name: \"繁體中文\", tag: \"zh-TW\" }));\r\n      }\r\n      else if (this.langIndex == 2) {\r\n        localStorage.setItem(\"lang\", JSON.stringify({ name: \"English\", tag: \"en-US\" }));\r\n      }\r\n      location.reload();\r\n    },\r\n\r\n    // 競猜指南暫時用確認按鈕\r\n    ComingSoon() {\r\n      this.showGuide = false;\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getMsg();\r\n    this.getMsgNum();\r\n    this.langInit();\r\n    this.getUnclaimedTaskReward();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.bigImgs {\r\n  position: absolute;\r\n  width: 1.85rem;\r\n  height: 1.4rem;\r\n  margin-left: -0.32rem;\r\n  /* z-index: 900000 */\r\n}\r\n\r\n.bestWord {\r\n  font-size: 0.24rem;\r\n  line-height: 0.4rem;\r\n  color: #f09843;\r\n  position: absolute;\r\n  top: 0.18rem;\r\n  left: -0.16rem;\r\n  z-index: 9;\r\n  font-weight: bold;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/personalCenter"}]}