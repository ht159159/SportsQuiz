{"remainingRequest":"C:\\work\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js!C:\\work\\竞猜可换色板\\src\\main.js","dependencies":[{"path":"C:\\work\\竞猜可换色板\\src\\main.js","mtime":1604890404583},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"C:\\\\work\\\\\\u7ADE\\u731C\\u53EF\\u6362\\u8272\\u677F\\\\node_modules\\\\core-js\\\\modules\\\\es6.array.iterator.js\";\nimport \"C:\\\\work\\\\\\u7ADE\\u731C\\u53EF\\u6362\\u8272\\u677F\\\\node_modules\\\\core-js\\\\modules\\\\es6.promise.js\";\nimport \"C:\\\\work\\\\\\u7ADE\\u731C\\u53EF\\u6362\\u8272\\u677F\\\\node_modules\\\\core-js\\\\modules\\\\es6.object.assign.js\";\nimport \"C:\\\\work\\\\\\u7ADE\\u731C\\u53EF\\u6362\\u8272\\u677F\\\\node_modules\\\\core-js\\\\modules\\\\es7.promise.finally.js\";\nimport Vue from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport store from \"./store/index\";\nimport i18n from \"@/lang\"; // 語言切換\n\nimport \"./style/index.scss\";\nimport \"./utils/rem\";\nimport Vant from \"vant\";\nimport \"vant/lib/index.css\";\nimport ElementUI from \"element-ui\";\nimport \"element-ui/lib/theme-chalk/index.css\";\nimport \"animate.css\";\nimport VueTouch from \"vue-touch\";\nimport FastClick from \"fastclick\";\nimport Vconsole from \"vconsole\"; // 无限滚动\n// 封装的公共组件\n\nimport Alert from \"./components/Alert\";\nimport { apiLogin, apiRefreshToken } from \"@/api/User\";\nVue.prototype.Alert = Alert; // if(isDebugger){\n//   new Vconsole()\n// }\n\nVue.use(VueTouch, {\n  name: \"v-touch\"\n});\nVue.use(Vant);\nVue.use(ElementUI);\nVue.config.productionTip = false; //路由守卫 使用钩子函数对路由进行权限跳转\n\nrouter.beforeEach(function (to, from, next) {\n  var role = localStorage.getItem(\"token\");\n\n  if (to.path == \"/register\" || to.path == \"/\" || to.path == \"/ForgetPassword\") {\n    next();\n  } else if (!role) {\n    // Toast.fail(\"请您先登录\");\n    // alert('111')\n    next(\"/\");\n  } else {\n    // 简单的判断IE10及以下不进入富文本编辑器，该组件不兼容\n    if (navigator.userAgent.indexOf(\"MSIE\") > -1 && to.path === \"/editor\") {\n      Vue.prototype.$alert(\"vue-quill-editor组件不兼容IE10及以下浏览器，请使用更高版本的浏览器查看\", \"浏览器不兼容通知\", {\n        confirmButtonText: \"确定\"\n      });\n    } else {\n      next();\n    }\n  }\n}); //解决element级联选择器IOS获取不到焦点问题\n//FastClick的ios点击穿透解决方案\n// window.addEventListener( \"load\", function() {\n//   FastClick.attach( document.body );\n//   }, false );\n// document.body.addEventListener(\n//   \"touchmove\",\n//   function(e) {\n//     e.preventDefault(); //阻止默认的处理方式(阻止下拉滑动的效果)\n//   },\n//   { passive: false }\n// ); //passive 参数不能省略，用来兼容ios和android\n\ndocument.addEventListener(\"gesturestart\", function (event) {\n  event.preventDefault();\n});\n\nfunction refresh() {\n  var nowDate = new Date().getTime();\n  var logintime = localStorage.getItem(\"logintime\");\n\n  if (nowDate - logintime > 172800000) {\n    var data = {\n      refreshToken: localStorage.getItem(\"RefreshToken\")\n    };\n    apiRefreshToken(data, true).then(function (res) {\n      localStorage.setItem(\"token\", res.AccessToken);\n      localStorage.setItem(\"RefreshToken\", res.RefreshToken);\n      localStorage.setItem(\"logintime\", nowDate);\n    });\n  }\n} //refresh();\n\n\nsetInterval(refresh, 600000);\nnew Vue({\n  router: router,\n  store: store,\n  i18n: i18n,\n  render: function render(h) {\n    return h(App);\n  }\n}).$mount(\"#app\");",{"version":3,"sources":["C:\\work\\竞猜可换色板\\src\\main.js"],"names":["Vue","App","router","store","i18n","Vant","ElementUI","VueTouch","FastClick","Vconsole","Alert","apiLogin","apiRefreshToken","prototype","use","name","config","productionTip","beforeEach","to","from","next","role","localStorage","getItem","path","navigator","userAgent","indexOf","$alert","confirmButtonText","document","addEventListener","event","preventDefault","refresh","nowDate","Date","getTime","logintime","data","refreshToken","then","res","setItem","AccessToken","RefreshToken","setInterval","render","h","$mount"],"mappings":"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","sourcesContent":["import Vue from \"vue\";\r\nimport App from \"./App.vue\";\r\nimport router from \"./router\";\r\nimport store from \"./store/index\";\r\nimport i18n from \"@/lang\"; // 語言切換\r\nimport \"./style/index.scss\";\r\nimport \"./utils/rem\";\r\nimport Vant from \"vant\";\r\nimport \"vant/lib/index.css\";\r\nimport ElementUI from \"element-ui\";\r\nimport \"element-ui/lib/theme-chalk/index.css\";\r\nimport \"animate.css\";\r\nimport VueTouch from \"vue-touch\";\r\nimport FastClick from \"fastclick\";\r\nimport Vconsole from \"vconsole\";\r\n\r\n// 无限滚动\r\n\r\n// 封装的公共组件\r\nimport Alert from \"./components/Alert\";\r\nimport { apiLogin, apiRefreshToken } from \"@/api/User\";\r\n\r\nVue.prototype.Alert = Alert;\r\n// if(isDebugger){\r\n//   new Vconsole()\r\n// }\r\n\r\nVue.use(VueTouch, { name: \"v-touch\" });\r\nVue.use(Vant);\r\nVue.use(ElementUI);\r\nVue.config.productionTip = false;\r\n\r\n//路由守卫 使用钩子函数对路由进行权限跳转\r\nrouter.beforeEach((to, from, next) => {\r\n    const role = localStorage.getItem(\"token\");\r\n    if (\r\n        to.path == \"/register\" ||\r\n        to.path == \"/\" ||\r\n        to.path == \"/ForgetPassword\"\r\n    ) {\r\n        next();\r\n    } else if (!role) {\r\n        // Toast.fail(\"请您先登录\");\r\n        // alert('111')\r\n        next(\"/\");\r\n    } else {\r\n        // 简单的判断IE10及以下不进入富文本编辑器，该组件不兼容\r\n        if (navigator.userAgent.indexOf(\"MSIE\") > -1 && to.path === \"/editor\") {\r\n            Vue.prototype.$alert(\r\n                \"vue-quill-editor组件不兼容IE10及以下浏览器，请使用更高版本的浏览器查看\",\r\n                \"浏览器不兼容通知\", {\r\n                    confirmButtonText: \"确定\"\r\n                }\r\n            );\r\n        } else {\r\n            next();\r\n        }\r\n    }\r\n});\r\n\r\n//解决element级联选择器IOS获取不到焦点问题\r\n//FastClick的ios点击穿透解决方案\r\n// window.addEventListener( \"load\", function() {\r\n//   FastClick.attach( document.body );\r\n//   }, false );\r\n// document.body.addEventListener(\r\n//   \"touchmove\",\r\n//   function(e) {\r\n//     e.preventDefault(); //阻止默认的处理方式(阻止下拉滑动的效果)\r\n//   },\r\n//   { passive: false }\r\n// ); //passive 参数不能省略，用来兼容ios和android\r\ndocument.addEventListener(\"gesturestart\", function(event) {\r\n    event.preventDefault();\r\n});\r\n\r\nfunction refresh() {\r\n    let nowDate = new Date().getTime();\r\n    let logintime = localStorage.getItem(\"logintime\");\r\n    if (nowDate - logintime > 172800000) {\r\n        let data = {\r\n            refreshToken: localStorage.getItem(\"RefreshToken\")\r\n        };\r\n        apiRefreshToken(data, true).then(res => {\r\n            localStorage.setItem(\"token\", res.AccessToken);\r\n            localStorage.setItem(\"RefreshToken\", res.RefreshToken);\r\n            localStorage.setItem(\"logintime\",nowDate);\r\n        });\r\n    }\r\n}\r\n//refresh();\r\nsetInterval(refresh, 600000);\r\n\r\nnew Vue({\r\n    router,\r\n    store,\r\n    i18n,\r\n    render: h => h(App)\r\n}).$mount(\"#app\");"]}]}