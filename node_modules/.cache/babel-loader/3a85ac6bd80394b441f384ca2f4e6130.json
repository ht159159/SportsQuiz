{"remainingRequest":"C:\\work\\竞猜可换色板\\node_modules\\thread-loader\\dist\\cjs.js!C:\\work\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js!C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\work\\竞猜可换色板\\src\\views\\RankboardList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\work\\竞猜可换色板\\src\\views\\RankboardList.vue","mtime":1605511645045},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport back from \"@/components/Botton/back.vue\";\nimport model from \"../components/model\";\nimport { apiGetBetAmount, apiGetWinCount, apiGetWinAmount, apiGetMemberRankingInfo } from \"@/api/Rankboard\";\nexport default {\n  components: {\n    back: back,\n    model: model\n  },\n  data: function data() {\n    return {\n      rankType: undefined,\n      rankTypeName: \"\",\n      unit: \"\",\n      list: [],\n      rankinfo: [],\n      champion: [],\n      second: [],\n      third: [],\n      player: [],\n      openPeek: false,\n      championUid: \"\",\n      secodUid: \"\",\n      thirdUid: \"\",\n      isNoData: false,\n      isLoading: false,\n      // 瞄一眼彈窗  [\"投注场次：\",\"投注胜率：\",\"VIP等级：\",\"所属俱乐部：\",\"所屬俱樂部：\",\"挑戰賽次數：\",\"挑戰賽通過率：\",\"當前挑戰賽排名：\"]\n      userInfo: [{\n        title: this.$t('BettingGames'),\n        val: \"\"\n      }, //投注场次\n      {\n        title: this.$t('BettingOdds'),\n        val: \"\"\n      }, //投注胜率\n      {\n        title: this.$t('VIPLevel'),\n        val: \"\"\n      }, //VIP等級\n      {\n        title: this.$t('MemberClub'),\n        val: \"\"\n      }, //所属俱乐部\n      {\n        title: this.$t('NumberOfChallenges'),\n        val: \"\"\n      }, //挑戰賽次數\n      {\n        title: this.$t('ChallengePassRate'),\n        val: \"\"\n      }, //挑戰賽通過率\n      {\n        title: this.$t('ChallengeRanking'),\n        val: \"\"\n      } //當前挑戰賽排名\n      ],\n      userImg: \"\",\n      userNickName: \"\",\n      // v-infinite-scroll 套件\n      busy: false,\n      push: false,\n      IndexNum: 2,\n      noMore: false\n    };\n  },\n  created: function created() {\n    this.getRankType();\n  },\n  methods: {\n    // 讀取localstorage 排行榜類型 並執行撈取API\n    getRankType: function getRankType() {\n      this.rankType = localStorage.getItem(\"rankType\");\n\n      if (this.rankType == 1) {\n        this.rankTypeName = this.$t(\"TotalBetLeaderboard\"); // [投注总额排行榜]\n\n        this.unit = this.$t('TotalBet'); // [投注]\n\n        this.getBetAmount();\n      }\n\n      if (this.rankType == 2) {\n        this.rankTypeName = this.$t(\"WinLeaderboard\");\n        this.unit = this.$t('Wins'); // [胜次]\n\n        this.getWinCount();\n      }\n\n      if (this.rankType == 3) {\n        this.rankTypeName = this.$t(\"WinCoinLeaderboard\");\n        this.unit = this.$t('WinCoin'); // [赢币]\n\n        this.getWinAmount();\n      }\n    },\n    //投注总额排行榜\n    getBetAmount: function getBetAmount() {\n      var _this = this;\n\n      var data = {\n        PageIndex: 1,\n        PageSize: 20\n      };\n      this.isLoading = true;\n      apiGetBetAmount(data, true).then(function (res) {\n        if (res.Data.Others.length > 0) {\n          _this.isLoading = false;\n          _this.isNoData = false;\n          _this.list = res.Data.Others;\n          _this.player = res.Data.Oneself;\n        } else {\n          _this.isLoading = false;\n          _this.isNoData = true;\n        }\n      }).then(function () {\n        // 第四名之後排名\n        _this.otherRank();\n      });\n    },\n    // 胜次排行榜\n    getWinCount: function getWinCount() {\n      var _this2 = this;\n\n      var data = {\n        PageIndex: 1,\n        PageSize: 20\n      };\n      this.isLoading = true;\n      apiGetWinCount(data, true).then(function (res) {\n        if (res.Data.Others.length > 0) {\n          _this2.isLoading = false;\n          _this2.isNoData = false;\n          _this2.list = res.Data.Others;\n          _this2.player = res.Data.Oneself;\n        } else {\n          _this2.isNoData = true;\n        }\n      }).then(function () {\n        // 第四名之後排名\n        _this2.otherRank();\n      });\n    },\n    // 赢币排行榜\n    getWinAmount: function getWinAmount() {\n      var _this3 = this;\n\n      var data = {\n        PageIndex: 1,\n        PageSize: 20\n      };\n      this.isLoading = true;\n      apiGetWinAmount(data, true).then(function (res) {\n        if (res.Data.Others.length > 0) {\n          _this3.isLoading = false;\n          _this3.isNoData = false;\n          _this3.list = res.Data.Others;\n          _this3.player = res.Data.Oneself;\n        } else {\n          _this3.isNoData = true;\n        }\n      }).then(function () {\n        // 第四名之後排名\n        _this3.otherRank();\n      });\n    },\n    otherRank: function otherRank() {\n      this.champion = this.list.shift();\n      this.second = this.list.shift();\n      this.third = this.list.shift();\n    },\n    // v-infinite-scroll 套件滑到底加載\n    load: function load() {\n      var _this4 = this;\n\n      this.busy = true;\n      var data = {\n        PageIndex: this.IndexNum,\n        PageSize: 20\n      };\n\n      if (this.rankType == 1) {\n        apiGetBetAmount(data, true).then(function (res) {\n          if (res.Data.Others.length == 0) {\n            _this4.busy = true;\n            _this4.push = false;\n          } else if (res.Data.Others.length > 0) {\n            for (var i = 0; i < res.Data.Others.length; i++) {\n              _this4.list.push(res.Data.Others[i]);\n\n              _this4.busy = false;\n            }\n\n            _this4.IndexNum++;\n          }\n        });\n      }\n\n      if (this.rankType == 2) {\n        apiGetWinCount(data, true).then(function (res) {\n          if (res.Data.Others.length == 0) {\n            _this4.busy = true;\n            _this4.push = false; // this.noMore = true\n          } else if (res.Data.Others.length > 0) {\n            for (var i = 0; i < res.Data.Others.length; i++) {\n              _this4.list.push(res.Data.Others[i]);\n\n              _this4.busy = false;\n            }\n\n            _this4.IndexNum++;\n          }\n        });\n      }\n\n      if (this.rankType == 3) {\n        apiGetWinAmount(data, true).then(function (res) {\n          if (res.Data.Others.length == 0) {\n            _this4.busy = true;\n            _this4.push = false; // this.noMore = true\n          } else if (res.Data.Others.length > 0) {\n            for (var i = 0; i < res.Data.Others.length; i++) {\n              _this4.list.push(res.Data.Others[i]);\n\n              _this4.busy = false;\n            }\n\n            _this4.IndexNum++;\n          }\n        });\n      }\n    },\n    //瞄一眼\n    peek: function peek(uid) {\n      var _this5 = this;\n\n      var data = {\n        uid: uid\n      };\n      apiGetMemberRankingInfo(data, true).then(function (res) {\n        if (res.Code == \"600\" || res.Message == \"VIP等级不足\") {\n          var vm = _this5;\n          var m = vm.$message({\n            message: res.Message,\n            duration: 3000,\n            type: \"error\",\n            center: true\n          });\n          setTimeout(function () {\n            m.close();\n          }, 2000);\n        } else {\n          _this5.openPeek = true;\n          _this5.userImg = res.Data.Img;\n          _this5.userNickName = res.Data.NickName;\n          _this5.userInfo[0].val = res.Data.BetNum;\n          _this5.userInfo[1].val = res.Data.BetWinRate + \"%\";\n          _this5.userInfo[2].val = res.Data.MemberRankName;\n\n          if (res.Data.ClubName == \"\") {\n            _this5.userInfo[3].val = \"-\";\n          } else {\n            _this5.userInfo[3].val = res.Data.ClubName;\n          }\n\n          _this5.userInfo[4].val = res.Data.ChallengeNum;\n          _this5.userInfo[5].val = res.Data.ChallengePassRate + \"%\";\n\n          if (res.Data.ChallengeRank == \"0\") {\n            _this5.userInfo[6].val = \"-\";\n          } else {\n            _this5.userInfo[6].val = res.Data.ChallengeRank;\n          }\n        }\n      });\n    }\n  }\n};",null]}