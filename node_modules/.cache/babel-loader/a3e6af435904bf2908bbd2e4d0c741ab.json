{"remainingRequest":"C:\\work\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js!C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\work\\竞猜可换色板\\src\\views\\Shop.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\work\\竞猜可换色板\\src\\views\\Shop.vue","mtime":1606980098729},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport inputComp from \"@/components/Index/Input.vue\";\nimport NavBottom from \"@/components/Main/NavBottom.vue\";\nimport { apiGetCategoryRecord, apiGetGoodsRecordList, apiAddCashInformation } from \"@/api/product.js\";\nimport { apiGetUserAddress, apiAddEditMemAddress } from \"@/api/User.js\";\nimport Vue from \"vue\";\nimport { Notify, Toast, Field, Image, Button } from \"vant\";\nVue.use(Notify).use(Toast).use(Field).use(Image);\nexport default {\n  //  从List组件离开时,修改keepAlive值为false，保证进入该页面时页面刷新  to===> 去哪个路由  from ==>从哪个路由来\n  // beforeRouteEnter(to, from, next) {\n  //   if (from.name !== \"shopList\") {\n  //     next(vm => {\n  //       vm._data.show = false;\n  //     });\n  //   } else {\n  //     next(vm => {\n  //       vm._data.show = true;\n  //     });\n  //   }\n  // },\n  name: \"shop\",\n  components: {\n    NavBottom: NavBottom\n  },\n  filters: {\n    wayW: function wayW(val, that) {\n      if (val == 1) {\n        return that.$t(\"Coins\");\n      } else {\n        return that.$t(\"Lottery\");\n      }\n    }\n  },\n  watch: {\n    $route: function $route() {\n      var listArr = JSON.stringify(this.shopsList); // debugger\n\n      if (listArr == \"[]\") {} else {\n        // 這邊切換商城及切換其他頁面時候會瘋狂報錯，先加個判斷限制一下，原因是上面的 \"listArr\"陣列第0及第3個 值為空\n        if (this.shopsList[0] == undefined || this.shopsList[2] == undefined) {\n          return;\n        } else {\n          var aid = this.shopsList[0];\n          var oldAid = JSON.parse(localStorage.getItem(\"shops\"))[0];\n\n          if (aid != oldAid) {\n            this.shopsList = JSON.parse(localStorage.getItem(\"shops\"));\n          }\n        }\n      }\n    }\n  },\n  data: function data() {\n    return {\n      includedComponents: \"shop\",\n      num: 0,\n      priceList: [200, 500, 1000, 2000, 3000, 5000],\n      money: 0,\n      show: false,\n      Idd: \"\",\n      listShop: [],\n      listShopQ: [],\n      Num: 1,\n      value: \"\",\n      types: 1,\n      amountSum: \"\",\n      lastMoney: \"\",\n      ways: this.$t(\"Coins\"),\n      titleNm: \"\",\n      imgMsg: false,\n      shopsList: [],\n      img1: true,\n      img2: false,\n      isChange: 1,\n      that: this,\n      noAddressSet: false,\n      lang: \"\",\n      theme: \"\",\n      themeType: [\"red\", \"blue\", \"black\", \"yellow\"],\n      matchUrl: require(\"@/assets/shop/shop_header.png\"),\n      CNMatchPicUrl: {\n        red: require(\"@/assets/shop/shop_header.png\"),\n        blue: require(\"@/assets/theme-blue/shop/shop_header.png\"),\n        black: require(\"@/assets/theme-black/shop/shop_header.png\"),\n        yellow: require(\"@/assets/theme-yellow/shop/shop_header.png\")\n      },\n      EnMatchPicUrl: {\n        red: require(\"@/assets/shop/shop_header_US.png\"),\n        blue: require(\"@/assets/theme-blue/shop/shop_header_US.png\"),\n        black: require(\"@/assets/theme-black/shop/shop_header_US.png\"),\n        yellow: require(\"@/assets/theme-yellow/shop/shop_header_US.png\")\n      },\n      TWMatchPicUrl: {\n        red: require(\"@/assets/shop/shop_header_TW.png\"),\n        blue: require(\"@/assets/theme-blue/shop/shop_header_TW.png\"),\n        black: require(\"@/assets/theme-black/shop/shop_header_TW.png\"),\n        yellow: require(\"@/assets/theme-yellow/shop/shop_header_TW.png\")\n      }\n    };\n  },\n  created: function created() {\n    console.log('fsdfsdf');\n    this.lang = JSON.parse(localStorage.getItem(\"lang\")).tag;\n    this.theme = localStorage.getItem(\"theme\");\n    this.section();\n    this.changePri(3);\n    this.getAddMsg();\n  },\n  mounted: function mounted() {\n    console.log('fsdfsdf');\n    this.changePic();\n  },\n  methods: {\n    changePic: function changePic() {\n      if (this.lang == \"zh-CN\" || this.lang == \"zh-TW\") {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = this.themeType[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var i = _step.value;\n\n            if (i == this.theme) {\n              this.matchUrl = this.CNMatchPicUrl[i]; // this.matchPopUrl = this.CNMatchPopPicUrl[i];\n            }\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n      }\n\n      if (this.lang == \"en-US\") {\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = this.themeType[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var _i = _step2.value;\n\n            if (_i == this.theme) {\n              this.matchUrl = this.EnMatchPicUrl[_i]; // this.matchPopUrl = this.EnMatchPopPicUrl[i];\n            }\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n              _iterator2.return();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n      }\n\n      if (this.lang == \"zh-TW\") {\n        var _iteratorNormalCompletion3 = true;\n        var _didIteratorError3 = false;\n        var _iteratorError3 = undefined;\n\n        try {\n          for (var _iterator3 = this.themeType[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n            var _i2 = _step3.value;\n\n            if (_i2 == this.theme) {\n              this.matchUrl = this.TWMatchPicUrl[_i2]; // this.matchPopUrl = this.EnMatchPopPicUrl[i];\n            }\n          }\n        } catch (err) {\n          _didIteratorError3 = true;\n          _iteratorError3 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n              _iterator3.return();\n            }\n          } finally {\n            if (_didIteratorError3) {\n              throw _iteratorError3;\n            }\n          }\n        }\n      }\n    },\n    downNum: function downNum() {\n      if (this.Num > 99) {\n        var m = this.$message({\n          message: this.$t(\"RedeemSingle\"),\n          type: \"warning\",\n          center: true,\n          duration: 1000\n        });\n        setTimeout(function () {\n          return m.close();\n        }, 1200);\n        this.Num = 99;\n      }\n    },\n    goAddress: function goAddress() {\n      var _this = this;\n\n      var data = {};\n      apiGetUserAddress(data, true).then(function (res) {\n        if (res.Data.length > 0) {\n          _this.$router.push(\"/shopList\");\n        } else {\n          _this.$router.push(\"/address\");\n        }\n      });\n    },\n    cancel: function cancel() {\n      this.show = false;\n    },\n    queryChange: function queryChange(name, id) {\n      this.titleNm = name;\n      this.show = true;\n      this.lastMoney = this.amountSum;\n      this.$refs.son.show = false;\n      this.getAddMsg();\n    },\n    commit: function commit() {\n      var _this2 = this;\n\n      this.$refs.son.show = false;\n      var Token = localStorage.getItem(\"token\");\n\n      if (this.shopsList[1] == undefined || this.shopsList[1] == \"\" || this.shopsList[2] == undefined || this.shopsList[2] == \"\" || this.shopsList[4] == undefined || this.shopsList[4] == \"\") {\n        Notify({\n          type: \"warning\",\n          message: this.$t(\"AllMustFilled\")\n        });\n        return;\n      }\n\n      var data = {\n        Name: this.shopsList[1],\n        Phone: this.shopsList[2],\n        Address: this.shopsList[4],\n        IdentityCard: \"\",\n        CashNum: this.Num,\n        Type: this.types,\n        Lotteries: this.amountSum,\n        Uid: \"\",\n        GoodDescription: this.titleNm,\n        Status: 0,\n        CreateTime: new Date(),\n        AuditTime: \"\",\n        AuditName: \"\"\n      };\n\n      if (data.CashNum < 0 || !/^\\d+$/.test(this.Num)) {\n        var m = this.$message({\n          message: this.$t(\"FillPositiveInteger\"),\n          type: \"warning\",\n          center: true,\n          duration: 1200\n        });\n        setTimeout(function () {\n          return m.close();\n        }, 1200);\n        this.Num = parseInt(this.Num);\n        return;\n      }\n\n      if (this.noAddressSet) {\n        console.log(\"5256555\");\n        var addressSetData = {\n          AId: '',\n          UId: '',\n          UName: this.shopsList[1],\n          UPhoneNumber: this.shopsList[2],\n          URedeemAddress: this.shopsList[4],\n          IdentityCard: '123123',\n          CreateTime: new Date(),\n          IsDefault: 0\n        };\n        apiAddEditMemAddress(addressSetData, true).then(function (res) {});\n      }\n\n      apiAddCashInformation(data, true).then(function (res) {\n        if (res.IsSuccess) {\n          _this2.Num = 1;\n          _this2.show = false;\n\n          var _m = _this2.$message({\n            message: _this2.$t(\"SuccessfulPurchase\"),\n            type: \"success\",\n            center: true,\n            duration: 1200\n          });\n\n          setTimeout(function () {\n            return _m.close();\n          }, 1200);\n        } else {\n          _this2.show = false; // this.$Alert.showError.call(this, '购买失败')\n\n          var _m2 = _this2.$message({\n            message: _this2.$t(\"FailedPurchase\"),\n            type: \"error\",\n            duration: 2000\n          });\n\n          setTimeout(function () {\n            return _m2.close();\n          }, 2000);\n        }\n      });\n    },\n    getAddMsg: function getAddMsg() {\n      var _this3 = this;\n\n      var data = {};\n      apiGetUserAddress(data, true).then(function (res) {\n        // debugger\n        if (res.Data.length > 0) {\n          _this3.noAddressSet = false;\n          var listAdd = res.Data;\n          var newObj = {};\n\n          for (var i = 0; i < listAdd.length; i++) {\n            if (listAdd[i].IsDefault == 1) {\n              newObj = listAdd[i];\n            }\n          }\n\n          var arr = [];\n\n          for (var j in newObj) {\n            arr.push(newObj[j]);\n          }\n\n          if (arr.length == 0) {\n            _this3.shopsList[1] = res.Data[0].UName;\n            _this3.shopsList[2] = res.Data[0].UPhoneNumber;\n            _this3.shopsList[4] = res.Data[0].URedeemAddress;\n          } else {\n            _this3.shopsList[1] = arr[2];\n            _this3.shopsList[2] = arr[3];\n            _this3.shopsList[4] = arr[4];\n          }\n        } else {\n          _this3.shopsList = [];\n          _this3.noAddressSet = true;\n        }\n      });\n    },\n    changeM: function changeM() {\n      this.num = 0;\n      this.types = 1; // this.imgIcon = require(\"@/assets/jinbi.png\");\n      // this.imgIcon1 = require(\"@/assets/jiang.png\");\n\n      this.isChange = 1;\n      this.getCommut();\n    },\n    changeQ: function changeQ() {\n      this.num = 1;\n      this.types = 2;\n      this.img2 = !this.img2; // this.imgIcon = require(\"@/assets/jinbi1.png\");\n      // this.imgIcon1 = require(\"@/assets/jiang1.png\");\n\n      this.isChange = 2;\n      this.getCommut();\n    },\n    moneyC: function moneyC(index) {\n      this.money = index;\n      this.$refs.son.show = false;\n    },\n    section: function section() {\n      var _this4 = this;\n\n      apiGetCategoryRecord().then(function (res) {\n        _this4.priceList = res.Data;\n      });\n    },\n    changePri: function changePri(id) {\n      this.Idd = id;\n\n      if (id == 3) {\n        this.amountSum = 200;\n      }\n\n      if (id == 4) {\n        this.amountSum = 500;\n      }\n\n      if (id == 5) {\n        this.amountSum = 1000;\n      }\n\n      if (id == 6) {\n        this.amountSum = 2000;\n      }\n\n      if (id == 7) {\n        this.amountSum = 3000;\n      }\n\n      if (id == 8) {\n        this.amountSum = 5000;\n      }\n\n      this.getCommut();\n    },\n    getCommut: function getCommut() {\n      var _this5 = this;\n\n      var data = {\n        categoryId: this.Idd,\n        index: 1,\n        count: 10,\n        type: this.types //金币兑换 2奖券兑换\n\n      };\n      apiGetGoodsRecordList(data).then(function (res) {\n        if (Math.abs(res.Code) >= 600) {\n          _this5.imgMsg = true;\n        } else {\n          _this5.listShop = res.Data;\n\n          _this5.$forceUpdate();\n\n          if (_this5.listShop.length == 0) {\n            _this5.imgMsg = true;\n          } else {\n            _this5.imgMsg = false;\n            _this5.listShop = res.Data;\n          }\n        }\n      });\n    }\n  },\n  computed: {// amountSum() {\n    //   return\n    //     this.priceList.filter(c=>c.categoryId==this.Idd)\n    // },\n  },\n  //可以在此进行强制数据刷新。\n  activated: function activated() {// this.getAddMsg()\n  }\n};",{"version":3,"sources":["Shop.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"layout\">\r\n    <main class=\"shop\">\r\n      <div class=\"shop-header\">\r\n        <!-- <img class=\"img\" src=\"@/assets/top_01.png\" alt /> -->\r\n        <div class=\"shop-header-img\" :style=\"{ backgroundImage: 'url(' + matchUrl + ')' }\"></div>\r\n      </div>\r\n      <ul class=\"shop-ul\">\r\n        <li\r\n          class=\"shop-ul-item\"\r\n          v-for=\"(item, index) in priceList\"\r\n          :key=\"index\"\r\n          @click=\"moneyC(index)\"\r\n        >\r\n          <span\r\n            :class=\"{ span: money == index }\"\r\n            @click=\"changePri(item.CategoryID)\"\r\n            >{{ item.Amount }}</span\r\n          >\r\n          <img\r\n            class=\"imgBg\"\r\n            src=\"@/assets/bgImg_03.png\"\r\n            v-show=\"money == index\"\r\n          />\r\n        </li>\r\n      </ul>\r\n\r\n      <div class=\"shop-changeWays\">\r\n        <ul class=\"shop-changeWays-ul\">\r\n          <li\r\n            class=\"shop-changeWays-ul-iteml\"\r\n            :class=\"{ activeTwo: num == 0 }\"\r\n            @click=\"changeM()\"\r\n          >\r\n            <!-- <img\r\n              style=\"display: inline-block;width: .3rem;height: .24rem\"\r\n              :src=\"imgIcon\"\r\n            /> -->\r\n            <div\r\n              class=\"coin-change-icon\"\r\n              :class=\"[isChange == 1 ? 'active-bg-coin' : 'coin-change-icon']\"\r\n            ></div>\r\n            <span>{{ $t(\"CoinsExchange\") }}</span>  <!-- 【 金币兑换 】 -->\r\n          </li>\r\n          <li\r\n            class=\"shop-changeWays-ul-itemr\"\r\n            :class=\"{ activeTwo: num == 1 }\"\r\n            @click=\"changeQ()\"\r\n          >\r\n            <!-- <img\r\n              style=\"display: inline-block;width: .3rem;height: .3rem;vertical-align: middle;\"\r\n              :src=\"imgIcon1\"\r\n            /> -->\r\n            <div\r\n              class=\"cupon-change-icon\"\r\n              :class=\"[isChange == 2 ? 'active-bg-cupon' : 'cupon-change-icon']\"\r\n            ></div>\r\n            <span>{{ $t(\"LotteryRedemption\") }}</span>  <!-- 【 奖券兑换 】 -->\r\n          </li>\r\n        </ul>\r\n        <ul class=\"shop-changeWays-list\" v-show=\"num == 0\">\r\n          <li\r\n            v-for=\"(item, index) in listShop\"\r\n            :key=\"index\"\r\n            class=\"shop-changeWays-list-item\"\r\n          >\r\n            <div class=\"top\">\r\n              <!-- <img :src=\"item.ImagePath\" alt=\"\"> -->\r\n              <van-image\r\n                class=\"img\"\r\n                width=\"100%\"\r\n                height=\"2.16rem\"\r\n                fit=\"cover\"\r\n                :src=\"item.ImagePath\"\r\n              />\r\n            </div>\r\n            <p class=\"title\">{{ item.GoodsTitle }}</p>\r\n            <p class=\"price\">{{ $t(\"MarketPrice\") }}：{{ amountSum + 400 }}</p>  <!-- 【 市场价 】 -->\r\n            <p class=\"changeMoney\">\r\n              {{ $t(\"need\") }}{{ amountSum }}{{ $t(\"CoinsExchange\") }}  <!-- 【 需 】 --><!-- 【 金币兑换 】 -->\r\n            </p>\r\n            <p class=\"sure\" @click=\"queryChange(item.GoodsTitle, item.GoodsID)\">\r\n              {{ $t(\"RedeemNow\") }}  <!-- 【 立即兑换 】 -->\r\n            </p>\r\n          </li>\r\n        </ul>\r\n        <ul class=\"shop-changeWays-two\" v-show=\"num == 1\">\r\n          <li\r\n            v-for=\"(item, index) in listShop\"\r\n            :key=\"index\"\r\n            class=\"shop-changeWays-two-item\"\r\n          >\r\n            <div class=\"top\">\r\n              <van-image\r\n                class=\"img\"\r\n                width=\"100%\"\r\n                height=\"2.16rem\"\r\n                fit=\"cover\"\r\n                :src=\"item.ImagePath\"\r\n              />\r\n            </div>\r\n            <p class=\"title\">{{ item.GoodsTitle }}</p>\r\n            <p class=\"price\">{{ $t(\"MarketPrice\") }}：{{ amountSum + 400 }}</p>  <!-- 【 市场价 】 -->\r\n            <p class=\"changeMoney\">\r\n              {{ $t(\"need\") }}{{ amountSum }}{{ $t(\"CoinsExchange\") }}  <!-- 【 需 】 --><!-- 【 金币兑换 】 -->\r\n            </p>\r\n            <p class=\"sure\" @click=\"queryChange(item.GoodsTitle, item.GoodsID)\">\r\n              {{ $t(\"RedeemNow\") }}  <!-- 【 立即兑换 】 -->\r\n            </p>\r\n          </li>\r\n        </ul>\r\n        <div\r\n          v-if=\"imgMsg\"\r\n          style=\"background:#fff;padding:1rem 0;width: calc(100% - .2rem);margin: 0 auto;position: absolute;\r\n    margin-top: 0.57rem;\"\r\n        >\r\n          <img\r\n            style=\"display:block;margin:0 auto;width:4rem;margin-top: .2rem;position: relative\"\r\n            src=\"@/assets/noInfo.png\"\r\n          />\r\n          <p style=\"text-align:center; margin-top:0.2rem;color: #8b8b8b;\">{{ $t(\"NoData\") }}</p>  <!-- 【 暂无数据 】 -->\r\n        </div>\r\n\r\n        <transition name=\"fade\" :duration=\"{ enter: 500, leave: 300 }\">\r\n          <div class=\"boxBig animated\" v-show=\"show\" style=\"z-index: 1000;\">\r\n            <div class=\"box\">\r\n              <div class=\"head\">\r\n                <img\r\n                  class=\"img\"\r\n                  src=\"@/assets/guanggao_03.png\"\r\n                  alt\r\n                  style=\"width:5rem;height:.96rem\"\r\n                />\r\n                <div class=\"head-title\">\r\n                  <img\r\n                    class=\"head-icon\"\r\n                    src=\"@/assets/guanggao_03_icon.png\"\r\n                    alt=\"\"\r\n                  />\r\n                  <div class=\"head-text\">{{ $t(\"EditShippingAddress\") }}</div>  <!-- 【 编辑收货地址 】 -->\r\n                </div>\r\n              </div>\r\n              <div class=\"foot\" style=\"-webkit-user-select:text !important;\">\r\n                <p\r\n                  @click=\"goAddress\"\r\n                  style=\"text-align:right; font-size: .24rem;line-height: .36rem;color: #222\"\r\n                >\r\n                  {{ $t(\"AddressManagement\") }} >  <!-- 【 地址管理 】 -->\r\n                </p>\r\n                <!-- 【 姓名 】 -->\r\n                <input\r\n                  v-model=\"shopsList[1]\"\r\n                  :placeholder=\"$t('Name')\"  \r\n                  class=\"input1\"\r\n                />\r\n                <!-- 【 手机号码 】 -->\r\n                <input\r\n                  v-model=\"shopsList[2]\"\r\n                  :placeholder=\"$t('Mobile')\"\r\n                  class=\"input1\"\r\n                />\r\n                <!-- 【 收货地址 】 -->\r\n                <input\r\n                  v-model=\"shopsList[4]\"\r\n                  :placeholder=\"$t('ShippingAddress')\"\r\n                  class=\"input1\"\r\n                />\r\n                <!-- 【 兑换数量 】 -->\r\n                <input\r\n                  v-model.number=\"Num\"\r\n                  :placeholder=\"$t('ExchangeQuantity')\"\r\n                  class=\"input1\"\r\n                  type=\"number\"\r\n                  @keyup=\"downNum\"\r\n                />\r\n\r\n                <p class=\"commit\" @click=\"commit\">\r\n                  {{ $t(\"Submit\") }}  <!-- 【 提交 】 -->\r\n                </p>\r\n                <p class=\"word\">\r\n                  {{ $t(\"AccountDeducted\") }}{{ lastMoney * Num}}{{ types | wayW(that) }} <!-- 【 提交后将扣除您账户 】 -->\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <img\r\n              @click=\"cancel\"\r\n              class=\"imgBB\"\r\n              src=\"@/assets/error_03.png\"\r\n              alt\r\n            />\r\n          </div>\r\n        </transition>\r\n      </div>\r\n    </main>\r\n    <nav-bottom ref=\"son\"></nav-bottom>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport inputComp from \"@/components/Index/Input.vue\";\r\nimport NavBottom from \"@/components/Main/NavBottom.vue\";\r\nimport {\r\n  apiGetCategoryRecord,\r\n  apiGetGoodsRecordList,\r\n  apiAddCashInformation\r\n} from \"@/api/product.js\";\r\nimport { apiGetUserAddress, apiAddEditMemAddress } from \"@/api/User.js\";\r\nimport Vue from \"vue\";\r\nimport { Notify, Toast, Field, Image, Button } from \"vant\";\r\n\r\nVue.use(Notify)\r\n  .use(Toast)\r\n  .use(Field)\r\n  .use(Image);\r\nexport default {\r\n  //  从List组件离开时,修改keepAlive值为false，保证进入该页面时页面刷新  to===> 去哪个路由  from ==>从哪个路由来\r\n  // beforeRouteEnter(to, from, next) {\r\n  //   if (from.name !== \"shopList\") {\r\n  //     next(vm => {\r\n  //       vm._data.show = false;\r\n  //     });\r\n  //   } else {\r\n  //     next(vm => {\r\n  //       vm._data.show = true;\r\n  //     });\r\n  //   }\r\n  // },\r\n  name: \"shop\",\r\n  components: {\r\n    NavBottom\r\n  },\r\n  filters: {\r\n    wayW(val, that) {\r\n      if (val == 1) {\r\n        return that.$t(\"Coins\");\r\n      } else {\r\n        return that.$t(\"Lottery\");\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    $route() {\r\n      let listArr = JSON.stringify(this.shopsList);\r\n      // debugger\r\n      if (listArr == \"[]\") {\r\n      } else {\r\n        // 這邊切換商城及切換其他頁面時候會瘋狂報錯，先加個判斷限制一下，原因是上面的 \"listArr\"陣列第0及第3個 值為空\r\n        if (this.shopsList[0] == undefined || this.shopsList[2] == undefined) {\r\n          return;\r\n        } else {\r\n          var aid = this.shopsList[0];\r\n          var oldAid = JSON.parse(localStorage.getItem(\"shops\"))[0];\r\n          if (aid != oldAid) {\r\n            this.shopsList = JSON.parse(localStorage.getItem(\"shops\"));\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      includedComponents: \"shop\",\r\n      num: 0,\r\n      priceList: [200, 500, 1000, 2000, 3000, 5000],\r\n      money: 0,\r\n      show: false,\r\n      Idd: \"\",\r\n      listShop: [],\r\n      listShopQ: [],\r\n      Num: 1,\r\n      value: \"\",\r\n      types: 1,\r\n      amountSum: \"\",\r\n      lastMoney: \"\",\r\n      ways: this.$t(\"Coins\"),\r\n      titleNm: \"\",\r\n      imgMsg: false,\r\n      shopsList: [],\r\n      img1: true,\r\n      img2: false,\r\n      isChange: 1,\r\n      that: this,\r\n      noAddressSet: false,\r\n\r\n      lang: \"\",\r\n      theme: \"\",\r\n      themeType: [\"red\", \"blue\", \"black\", \"yellow\"],\r\n      matchUrl: require(\"@/assets/shop/shop_header.png\"),\r\n\r\n      CNMatchPicUrl: {\r\n        red: require(\"@/assets/shop/shop_header.png\"),\r\n        blue: require(\"@/assets/theme-blue/shop/shop_header.png\"),\r\n        black: require(\"@/assets/theme-black/shop/shop_header.png\"),\r\n        yellow: require(\"@/assets/theme-yellow/shop/shop_header.png\")\r\n      },\r\n\r\n       EnMatchPicUrl: {\r\n        red: require(\"@/assets/shop/shop_header_US.png\"),\r\n        blue: require(\"@/assets/theme-blue/shop/shop_header_US.png\"),\r\n        black: require(\"@/assets/theme-black/shop/shop_header_US.png\"),\r\n        yellow: require(\"@/assets/theme-yellow/shop/shop_header_US.png\")\r\n      },\r\n\r\n      TWMatchPicUrl: {\r\n        red: require(\"@/assets/shop/shop_header_TW.png\"),\r\n        blue: require(\"@/assets/theme-blue/shop/shop_header_TW.png\"),\r\n        black: require(\"@/assets/theme-black/shop/shop_header_TW.png\"),\r\n        yellow: require(\"@/assets/theme-yellow/shop/shop_header_TW.png\")\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    console.log('fsdfsdf')\r\n    this.lang = JSON.parse(localStorage.getItem(\"lang\")).tag;\r\n    this.theme = localStorage.getItem(\"theme\");\r\n    this.section();\r\n    this.changePri(3);\r\n    this.getAddMsg();\r\n  },\r\n  mounted() {\r\n    console.log('fsdfsdf')\r\n    this.changePic();\r\n  },\r\n  methods: {\r\n    changePic() {\r\n      if (this.lang == \"zh-CN\" || this.lang == \"zh-TW\") {\r\n        for (let i of this.themeType) {\r\n          if (i == this.theme) {\r\n            this.matchUrl = this.CNMatchPicUrl[i];\r\n            // this.matchPopUrl = this.CNMatchPopPicUrl[i];\r\n          }\r\n        }\r\n      }\r\n      if (this.lang == \"en-US\") {\r\n        for (let i of this.themeType) {\r\n          if (i == this.theme) {\r\n            this.matchUrl = this.EnMatchPicUrl[i];\r\n            // this.matchPopUrl = this.EnMatchPopPicUrl[i];\r\n          }\r\n        }\r\n      }\r\n      if (this.lang == \"zh-TW\") {\r\n        for (let i of this.themeType) {\r\n          if (i == this.theme) {\r\n            this.matchUrl = this.TWMatchPicUrl[i];\r\n            // this.matchPopUrl = this.EnMatchPopPicUrl[i];\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    downNum() {\r\n      if (this.Num > 99) {\r\n        const m = this.$message({\r\n          message: this.$t(\"RedeemSingle\"),\r\n          type: \"warning\",\r\n          center: true,\r\n          duration: 1000\r\n        });\r\n        setTimeout(() => m.close(), 1200);\r\n        this.Num = 99;\r\n      }\r\n    },\r\n    goAddress() {\r\n      let data = {};\r\n      apiGetUserAddress(data, true).then(res => {\r\n        if (res.Data.length > 0) {\r\n          this.$router.push(\"/shopList\");\r\n        } else {\r\n          this.$router.push(\"/address\");\r\n        }\r\n      });\r\n    },\r\n    cancel() {\r\n      this.show = false;\r\n    },\r\n    queryChange(name, id) {\r\n      this.titleNm = name;\r\n      this.show = true;\r\n      this.lastMoney = this.amountSum;\r\n      this.$refs.son.show = false;\r\n      this.getAddMsg();\r\n    },\r\n    commit() {\r\n      this.$refs.son.show = false;\r\n      let Token = localStorage.getItem(\"token\");\r\n      if (\r\n        this.shopsList[1] == undefined || this.shopsList[1] == \"\" ||\r\n        this.shopsList[2] == undefined || this.shopsList[2] == \"\" ||\r\n        this.shopsList[4] == undefined || this.shopsList[4] == \"\"\r\n      ) {\r\n        Notify({\r\n          type: \"warning\",\r\n          message: this.$t(\"AllMustFilled\")\r\n        });\r\n        return;\r\n      }\r\n      let data = {\r\n        Name: this.shopsList[1],\r\n        Phone: this.shopsList[2],\r\n        Address: this.shopsList[4],\r\n        IdentityCard: \"\",\r\n        CashNum: this.Num,\r\n        Type: this.types,\r\n        Lotteries: this.amountSum,\r\n        Uid: \"\",\r\n        GoodDescription: this.titleNm,\r\n        Status: 0,\r\n        CreateTime: new Date(),\r\n        AuditTime: \"\",\r\n        AuditName: \"\"\r\n      };\r\n\r\n      if (data.CashNum < 0 || !/^\\d+$/.test(this.Num)) {\r\n        const m = this.$message({\r\n          message: this.$t(\"FillPositiveInteger\"),\r\n          type: \"warning\",\r\n          center: true,\r\n          duration: 1200\r\n        });\r\n        setTimeout(() => m.close(), 1200);\r\n        this.Num = parseInt(this.Num);\r\n        return;\r\n      }\r\n      if(this.noAddressSet){\r\n        console.log(\"5256555\")\r\n        let addressSetData = {\r\n          AId: '',\r\n          UId: '',\r\n          UName: this.shopsList[1],\r\n          UPhoneNumber: this.shopsList[2],\r\n          URedeemAddress: this.shopsList[4],\r\n          IdentityCard: '123123',\r\n          CreateTime: new Date(),\r\n          IsDefault: 0,\r\n        }\r\n        apiAddEditMemAddress(addressSetData, true).then(res => {\r\n\r\n        })\r\n      }\r\n\r\n      apiAddCashInformation(data, true).then(res => {\r\n        if (res.IsSuccess) {\r\n          this.Num = 1;\r\n          this.show = false;\r\n          const m = this.$message({\r\n            message: this.$t(\"SuccessfulPurchase\"),\r\n            type: \"success\",\r\n            center: true,\r\n            duration: 1200\r\n          });\r\n          setTimeout(() => m.close(), 1200);\r\n        } else {\r\n          this.show = false;\r\n          // this.$Alert.showError.call(this, '购买失败')\r\n          const m = this.$message({\r\n            message: this.$t(\"FailedPurchase\"),\r\n            type: \"error\",\r\n            duration: 2000\r\n          });\r\n          setTimeout(() => m.close(), 2000);\r\n        }\r\n      });\r\n    },\r\n    getAddMsg() {\r\n      let data = {};\r\n      apiGetUserAddress(data, true).then(res => {\r\n        // debugger\r\n        if (res.Data.length > 0) {\r\n          this.noAddressSet = false;\r\n          let listAdd = res.Data;\r\n          let newObj = {};\r\n          for (let i = 0; i < listAdd.length; i++) {\r\n            if (listAdd[i].IsDefault == 1) {\r\n              newObj = listAdd[i];\r\n            }\r\n          }\r\n          let arr = [];\r\n          for (let j in newObj) {\r\n            arr.push(newObj[j]);\r\n          }\r\n\r\n          if (arr.length == 0) {\r\n            this.shopsList[1] = res.Data[0].UName;\r\n            this.shopsList[2] = res.Data[0].UPhoneNumber;\r\n            this.shopsList[4] = res.Data[0].URedeemAddress;\r\n          } else {\r\n            this.shopsList[1] = arr[2];\r\n            this.shopsList[2] = arr[3];\r\n            this.shopsList[4] = arr[4];\r\n          }\r\n        } else {\r\n          this.shopsList = [];\r\n          this.noAddressSet = true;\r\n        }\r\n      });\r\n    },\r\n    changeM() {\r\n      this.num = 0;\r\n      this.types = 1;\r\n      // this.imgIcon = require(\"@/assets/jinbi.png\");\r\n      // this.imgIcon1 = require(\"@/assets/jiang.png\");\r\n      this.isChange = 1;\r\n      this.getCommut();\r\n    },\r\n    changeQ() {\r\n      this.num = 1;\r\n      this.types = 2;\r\n      this.img2 = !this.img2;\r\n      // this.imgIcon = require(\"@/assets/jinbi1.png\");\r\n      // this.imgIcon1 = require(\"@/assets/jiang1.png\");\r\n      this.isChange = 2;\r\n      this.getCommut();\r\n    },\r\n    moneyC(index) {\r\n      this.money = index;\r\n      this.$refs.son.show = false;\r\n    },\r\n    section() {\r\n      apiGetCategoryRecord().then(res => {\r\n        this.priceList = res.Data;\r\n      });\r\n    },\r\n    changePri(id) {\r\n      this.Idd = id;\r\n      if (id == 3) {\r\n        this.amountSum = 200;\r\n      }\r\n      if (id == 4) {\r\n        this.amountSum = 500;\r\n      }\r\n      if (id == 5) {\r\n        this.amountSum = 1000;\r\n      }\r\n      if (id == 6) {\r\n        this.amountSum = 2000;\r\n      }\r\n      if (id == 7) {\r\n        this.amountSum = 3000;\r\n      }\r\n      if (id == 8) {\r\n        this.amountSum = 5000;\r\n      }\r\n      this.getCommut();\r\n    },\r\n    getCommut() {\r\n      let data = {\r\n        categoryId: this.Idd,\r\n        index: 1,\r\n        count: 10,\r\n        type: this.types //金币兑换 2奖券兑换\r\n      };\r\n      apiGetGoodsRecordList(data).then(res => {\r\n        if(Math.abs(res.Code) >= 600) {\r\n          this.imgMsg = true;\r\n        } else {\r\n          this.listShop = res.Data;\r\n          this.$forceUpdate();\r\n          if (this.listShop.length == 0) {\r\n            this.imgMsg = true;\r\n          } else {\r\n            this.imgMsg = false;\r\n            this.listShop = res.Data;\r\n          }\r\n        }\r\n      });\r\n    }\r\n  },\r\n  computed: {\r\n    // amountSum() {\r\n    //   return\r\n    //     this.priceList.filter(c=>c.categoryId==this.Idd)\r\n    // },\r\n  },\r\n  //可以在此进行强制数据刷新。\r\n  activated() {\r\n    // this.getAddMsg()\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.swipp {\r\n}\r\n\r\n.switch .el-switch__core {\r\n  margin-top: -1rem;\r\n  line-height: 6.74rem;\r\n  margin-left: 5rem;\r\n  width: 0.82rem;\r\n  height: 0.44rem;\r\n  border-radius: 0.4rem;\r\n}\r\n\r\n.switch .el-switch__core:after {\r\n  width: 0.4rem;\r\n  height: 0.4rem;\r\n}\r\n\r\n.switch .el-switch.is-checked .el-switch__core::after {\r\n  margin-left: 0.82rem;\r\n}\r\n\r\n.input1 .el-input {\r\n  width: 4rem;\r\n}\r\n\r\n.input1 .el-input__inner {\r\n  display: inline-block;\r\n  width: 4rem;\r\n  font-size: 0.24rem;\r\n  border: 0;\r\n  padding: 0;\r\n  /* height: 36px; */\r\n}\r\n/*  transtition  */\r\n</style>\r\n\r\n<style scoped>\r\n.fade-enter-active,\r\n.fade-leave-active {\r\n  transition: opacity 0.5s;\r\n}\r\n\r\n.fade-enter,\r\n.fade-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n.fade-leave,\r\n.fade-enter-to {\r\n  opacity: 1;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views"}]}