{"remainingRequest":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\src\\views\\Task.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\src\\views\\Task.vue","mtime":1606095199797},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport back from \"@/components/Botton/back.vue\";\nimport { apiGetMissionList, apiAddMission, apiReceiveMissionReward } from \"@/api/mission.js\";\nexport default {\n  components: {\n    back: back\n  },\n  data: function data() {\n    return {\n      category: [this.$t('RecommendedTasks'), this.$t('Processing'), this.$t('Completed')],\n      //  【 推荐任务 】【 进行中 】【 已完成 】\n      categoryType: 0,\n      dailyMissionList: [],\n      specialMissionList: [],\n      activityMissionList: [],\n      ongoingMissionList: [],\n      confirmAlert: false,\n      addMissionData: {\n        missionId: ''\n      },\n      selectMission: '',\n      ReceiveMissionRewardData: {\n        umissionid: ''\n      },\n      // 防止连点\n      isDisable: false,\n      noMission: false,\n      isLoading: false\n    };\n  },\n  created: function created() {\n    this.getTaskList(this.categoryType);\n  },\n  methods: {\n    alertBox: function alertBox(i) {\n      this.confirmAlert = true;\n      this.selectMission = i; // 推荐任务\n\n      if (!this.selectMission.IsComplete) {\n        this.addMissionData.missionId = i.Id;\n      } // 已完成任务\n      // if (this.selectMission.IsComplete) {\n      //   this.ReceiveMissionRewardData.umissionid = i.UMissionId\n      // }\n\n    },\n    confirm: function confirm() {\n      var _this = this;\n\n      // 防止连点\n      if (this.isDisable) {\n        return false;\n      }\n\n      this.isDisable = true; // 推荐任务\n\n      if (!this.selectMission.IsComplete) {\n        apiAddMission(this.addMissionData, true).then(function (res) {\n          _this.Alert.showMsg('领取成功', 'success', 1200, true, true);\n\n          _this.getTaskList(0);\n\n          _this.confirmAlert = false;\n          _this.isDisable = false; // 防止连点\n        });\n      } // 已完成任务\n      // if (this.selectMission.IsComplete) {\n      //   apiReceiveMissionReward(this.ReceiveMissionRewardData, true).then(res => {\n      //     this.Alert.showMsg('领取成功', 'success', 1200, true);\n      //     this.getTaskList(2)\n      //     this.confirmAlert = false\n      //     this.isDisable = false// 防止连点\n      //   })\n      // }\n\n    },\n    close: function close() {\n      this.confirmAlert = false;\n    },\n    receive: function receive(i) {\n      var _this2 = this;\n\n      this.ReceiveMissionRewardData.umissionid = i.UMissionId;\n      apiReceiveMissionReward(this.ReceiveMissionRewardData, true).then(function (res) {\n        _this2.Alert.showMsg('领取成功', 'success', 1200, true, true);\n\n        _this2.getTaskList(2);\n\n        _this2.confirmAlert = false;\n        _this2.isDisable = false; // 防止连点\n      });\n    },\n    // 獲取任務列表\n    // 推薦任務   > api 參數帶0，分頁categoryType =  0\n    // 进行中任務 > api 參數帶1，分頁categoryType =  1\n    // 已完成任務 > api 參數帶2，分頁categoryType =  2\n    getTaskList: function getTaskList(index) {\n      var _this3 = this;\n\n      this.noMission = false;\n      this.dailyMissionList = [];\n      this.specialMissionList = [];\n      this.activityMissionList = [];\n      this.ongoingMissionList = [];\n      this.categoryType = index;\n      this.isLoading = true;\n      var data = {\n        status: index\n      };\n      apiGetMissionList(data, true).then(function (res) {\n        if (index == 0) {\n          _this3.dailyMissionList = res.DailyMission;\n          _this3.specialMissionList = res.SpecialMission;\n          _this3.activityMissionList = res.ActivityMission;\n\n          _this3.timeDelT();\n\n          if (_this3.dailyMissionList.length < 1 && _this3.specialMissionList.length < 1 && _this3.activityMissionList.length < 1) {\n            _this3.noMission = true;\n            _this3.isLoading = false;\n          } else {\n            _this3.noMission = false;\n            _this3.isLoading = false;\n          }\n        }\n\n        if (index == 1 || index == 2) {\n          _this3.dailyMissionList = res.DailyMission;\n          _this3.specialMissionList = res.SpecialMission;\n          _this3.activityMissionList = res.ActivityMission;\n\n          for (var d = 0; d < _this3.dailyMissionList.length; d++) {\n            _this3.ongoingMissionList.push(_this3.dailyMissionList[d]);\n          }\n\n          for (var s = 0; s < _this3.specialMissionList.length; s++) {\n            _this3.ongoingMissionList.push(_this3.specialMissionList[s]);\n          }\n\n          for (var a = 0; a < _this3.activityMissionList.length; a++) {\n            _this3.timeDelT();\n\n            _this3.ongoingMissionList.push(_this3.activityMissionList[a]);\n          }\n\n          if (_this3.ongoingMissionList.length < 1) {\n            _this3.noMission = true;\n            _this3.isLoading = false;\n          } else {\n            _this3.noMission = false;\n            _this3.isLoading = false;\n          }\n        }\n      });\n    },\n    // 时间去掉T\n    timeDelT: function timeDelT() {\n      for (var i = 0; i < this.activityMissionList.length; i++) {\n        this.activityMissionList[i].EndDate = this.activityMissionList[i].EndDate.replace('T', ' ');\n      }\n    }\n  }\n};",null]}