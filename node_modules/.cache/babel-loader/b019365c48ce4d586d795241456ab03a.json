{"remainingRequest":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\src\\views\\personalCenter\\SelfMsg.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\src\\views\\personalCenter\\SelfMsg.vue","mtime":1606980099434},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { apiGetUserInfo, apiUpdateUserInfo, apiCheckVipGrade, apiGetVipImgHeads } from \"@/api/User.js\"; // import Notify from 'path/to/vant-weapp/dist/notify/notify';\n\nimport back from \"@/components/Botton/back.vue\";\nexport default {\n  name: \"self\",\n  inject: [\"reload\"],\n  //注入reload方法\n  components: {\n    back: back\n  },\n  data: function data() {\n    return {\n      warning: false,\n      phoneB: false,\n      addressB: false,\n      nickNameB: false,\n      emailB: false,\n      selfName: \"张某某\",\n      selfNickName: \"张某某\",\n      selfPhone: \"17775207577\",\n      selfEmail: \"1040631720@qq.com\",\n      selfAddress: \"上海市浦东新区\",\n      accept: \"\",\n      //接收人\n      detailAdd: \"\",\n      //详细地址\n      newPhone: \"\",\n      //修改电话号码\n      newNiceName: \"\",\n      //修改昵称\n      newEmail: \"\",\n      //修改电子邮箱\n      msgList: {},\n      bgColor1: \"#6eb5ea\",\n      bgColor2: \"#aaaaaa\",\n      changeBg: true,\n      imgList: [require(\"@/assets/man_01.png\"), require(\"@/assets/man_02.png\"), require(\"@/assets/man_03.png\"), require(\"@/assets/man_04.png\")],\n      imgList2: [require(\"@/assets/woman_01.png\"), require(\"@/assets/woman_02.png\"), require(\"@/assets/woman_03.png\"), require(\"@/assets/woman_04.png\")],\n      manList: [],\n      womanList: [],\n      // num: require('@/assets/bigman_01.png'),\n      num: \"\",\n      gender: 1,\n      nanHea: require(\"@/assets/male_1.png\"),\n      nanHeaA: require(\"@/assets/male.png\"),\n      nvHea: require(\"@/assets/female.png\"),\n      nvHeaA: require(\"@/assets/female_1.png\"),\n      getId: \"\"\n    };\n  },\n  methods: {\n    getImg: function getImg() {// let data = {}\n      // apiGetVipGrade(data, true).then(res => {\n      //     this.womanList.push(res.WomanImgHead);\n      //     this.manList.push(res.ManImgHead)\n      //     this.num = this.manList[0]\n      // })\n    },\n    goBack: function goBack() {\n      this.$router.go(-1);\n    },\n    phoneBox: function phoneBox() {\n      this.phoneB = true;\n    },\n    nickNameBox: function nickNameBox() {\n      this.nickNameB = true;\n    },\n    emailBox: function emailBox() {\n      this.emailB = true;\n    },\n    // 地址弹出框\n    addressBox: function addressBox() {\n      this.addressB = true;\n    },\n    //地址修改保存\n    addressSave: function addressSave() {\n      var _this = this;\n\n      var data = {\n        UName: this.accept,\n        URedeemAddress: this.detailAdd\n      };\n      apiUpdateUserInfo(data, true).then(function (res) {\n        if (Math.abs(res.Code) >= 600) {\n          var vm = _this;\n          var m = vm.$message({\n            message: res.Message,\n            duration: 3000,\n            type: \"error\",\n            center: true\n          });\n          setTimeout(function () {\n            return m.close();\n          }, 2000);\n        } else if (res.IsSuccess) {\n          _this.addressB = false;\n\n          _this.reload(); //直接调用该方法\n\n        }\n      });\n    },\n    cancel: function cancel() {\n      this.phoneB = false;\n    },\n    cancelAdd: function cancelAdd() {\n      this.addressB = false;\n    },\n    cancelNick: function cancelNick() {\n      this.nickNameB = false;\n      this.emailB = false;\n    },\n    selfSave: function selfSave() {\n      var _this2 = this;\n\n      if (this.selfNickName == \"\") {\n        this.Alert.showMsg(\"昵称为必填选项\", \"warning\", 1200, true, true);\n        return;\n      }\n\n      var data = {\n        UNickName: this.selfNickName,\n        URedeemAddress: this.selfAddress,\n        UEmail: this.selfEmail,\n        RankId: this.getId,\n        Gander: this.gender\n      };\n\n      if (data.UNickName == null) {\n        this.Alert.showMsg(this.$t(\"NickNameEmpty\"), \"warning\", 1200, true, true); // 【 昵称为必填项 】\n\n        return;\n      } // if (data.RankId == \"\") {\n      //   this.Alert.showMsg(this.$t(\"SelectAvatar\"), \"warning\", 1200, true, true);  // 【 选择需要修改的头像 】\n      //   return;\n      // }\n\n\n      apiUpdateUserInfo(data, true).then(function (res) {\n        if (Math.abs(res.Code) >= 600) {\n          _this2.Alert.showMsg(res.Message, \"error\", 1200, true, true);\n\n          return;\n        }\n\n        ;\n\n        _this2.getMsg();\n\n        _this2.addressB = false;\n\n        _this2.Alert.showMsg(_this2.$t(\"Modify_Success\"), \"success\", 1200, true, true); // 【 修改成功 】\n\n\n        _this2.reload(); //直接调用该方法\n\n\n        _this2.$router.push('/myself');\n      });\n    },\n    getMsg: function getMsg() {\n      var _this3 = this;\n\n      var data = {};\n      apiGetUserInfo(data, true).then(function (res) {\n        //有token要加ture\n        _this3.msgList = res;\n        _this3.selfPhone = res.UPhoneNumber;\n        _this3.selfAddress = res.URedeemAddress;\n        _this3.selfNickName = res.NickName;\n        _this3.selfEmail = res.Email;\n        _this3.num = res.UImg;\n        _this3.gender = res.Gender;\n      });\n    },\n    getBg: function getBg() {\n      this.gender = 1;\n      this.num = this.msgList.UImg;\n    },\n    getBg1: function getBg1() {\n      this.gender = 0;\n      this.num = this.msgList.UImg;\n    },\n    getNumMan: function getNumMan(id, img) {\n      var _this4 = this;\n\n      this.getId = id;\n      var data = {\n        RankId: id\n      };\n      apiCheckVipGrade(data, true).then(function (res) {\n        if (res.IsSuccess) {\n          _this4.num = img;\n        } else {\n          _this4.Alert.showMsg(res.message, \"warning\", 1200, true, true);\n        }\n      }); // switch (index) {\n      //     case 0:\n      //         this.num = require('@/assets/bigman_01.png')\n      //         break;\n      //     case 1:\n      //         this.num = require('@/assets/bigman_02.png')\n      //         break;\n      //     case 2:\n      //         this.num = require('@/assets/bigman_03.png')\n      //         break;\n      //     case 3:\n      //         this.num = require('@/assets/bigman_04.png')\n      //         break;\n      // }\n    },\n    getNumWoman: function getNumWoman(id, img) {\n      var _this5 = this;\n\n      this.getId = id;\n      var data = {\n        RankId: id\n      };\n      apiCheckVipGrade(data, true).then(function (res) {\n        if (res.IsSuccess) {\n          _this5.num = img;\n        } else {\n          _this5.Alert.showMsg(res.message, \"warning\", 1200, true, true);\n        }\n      });\n    },\n    getVipimgs: function getVipimgs() {\n      var _this6 = this;\n\n      var data = {};\n      apiGetVipImgHeads(data, true).then(function (res) {\n        _this6.manList = res; // this.womanList = womanL;\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.getMsg();\n    this.getImg();\n    this.getVipimgs();\n  }\n};",null]}