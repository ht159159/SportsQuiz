{"remainingRequest":"C:\\work\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js!C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\work\\竞猜可换色板\\src\\views\\AddAddress.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\work\\竞猜可换色板\\src\\views\\AddAddress.vue","mtime":1606273777831},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport back from \"@/components/Botton/back.vue\";\nimport newcityPinyin from '@/utils/cityPinyin.js';\nimport newCity from '@/utils/city.js';\nimport { apiAddEditMemAddress } from '@/api/User.js';\nimport { mapActions, mapGetters, mapMutations } from 'vuex';\nimport Vue from 'vue';\nimport { Area, Toast } from 'vant';\nVue.use(Area).use(Toast);\nexport default {\n  components: {\n    back: back\n  },\n  data: function data() {\n    return {\n      clear: true,\n      getPer: '',\n      phone: '',\n      address: '',\n      detailAdd: '',\n      value2: true,\n      isDefault: 0,\n      //省市区\n      cityListNew: \"\",\n      cityCodeList: [],\n      Max: 4,\n      lang: \"\"\n    };\n  },\n  watch: {},\n  created: function created() {\n    this.lang = JSON.parse(localStorage.getItem(\"lang\")).tag;\n    this.lang == \"en-US\" ? this.cityListNew = newcityPinyin : this.cityListNew = newCity;\n  },\n  mounted: function mounted() {// console.log(newCityPinyin)\n    // console.log(newCity)\n    // console.log(JSON.stringify(newCity))\n  },\n  methods: {\n    oninput: function oninput(val) {},\n    goHome: function goHome() {\n      this.$router.push('/address');\n    },\n    //组件确定键\n    handleChange: function handleChange() {},\n    //将地址code转换为地区字\n    easyCity: function easyCity() {\n      var _this = this;\n\n      var easyAddress = '';\n      this.cityListNew.forEach(function (item) {\n        if (item.value == _this.cityCodeList[0]) {\n          //label就是字了   cityCodeList=[13,23,55]这个形式的所以要改变\n          easyAddress += item.label;\n          item.children.forEach(function (jtem) {\n            if (jtem.value == _this.cityCodeList[1]) {\n              easyAddress += jtem.label;\n            }\n\n            jtem.children.forEach(function (ktem) {\n              if (ktem.value == _this.cityCodeList[2]) {\n                easyAddress += ktem.label;\n              }\n            });\n          });\n        }\n      });\n      this.address = easyAddress;\n    },\n    goBack: function goBack() {\n      this.$router.go(-1);\n    },\n    changes: function changes() {\n      if (this.value2) {\n        return 1;\n      } else {\n        return 0;\n      }\n    },\n    addAddress: function addAddress() {\n      var _this2 = this;\n\n      // 判断手机号是否合法\n      this.easyCity();\n      var isMo = 0;\n\n      if (this.value2) {\n        isMo = 1;\n      } else {\n        isMo = 0;\n      }\n\n      var data = {\n        AId: '',\n        UId: '',\n        UName: this.getPer,\n        UPhoneNumber: this.phone,\n        URedeemAddress: this.address + this.detailAdd,\n        IdentityCard: '123123',\n        CreateTime: new Date(),\n        IsDefault: isMo\n      };\n\n      if (data.UName == '' || data.UPhoneNumber == '' || data.URedeemAddress == '') {\n        var m = this.$message({\n          message: this.$t(\"CompleteAddressInformation\"),\n          type: \"warning\",\n          duration: 1000\n        });\n        setTimeout(function () {\n          return m.close();\n        }, 1200);\n      } else {\n        apiAddEditMemAddress(data, true).then(function (res) {\n          if (res.Data == 1) {\n            var _m = _this2.$message({\n              message: _this2.$t(\"SavedSuccessfully\"),\n              type: \"success\",\n              duration: 1000\n            });\n\n            setTimeout(function () {\n              return _m.close();\n            }, 1200);\n\n            _this2.$router.replace('/address');\n\n            _this2.$router.go(-1);\n          } else {\n            var _m2 = _this2.$message({\n              message: _this2.$t(\"successfullyDeleted\"),\n              type: \"error\",\n              duration: 1000\n            });\n\n            setTimeout(function () {\n              return _m2.close();\n            }, 1200);\n          }\n        });\n      }\n    }\n  }\n};",{"version":3,"sources":["AddAddress.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <main class='add' style='overflow-x:hidden'>\r\n        <div class=\"add-header\" style='position: fixed; top: 0'>\r\n            <back @click='goHome' class='back-icon img-he'></back>\r\n            <h3>{{ $t(\"ShippingAddress\") }}</h3>\r\n            <span class=\"save\" @click='addAddress'>{{ $t(\"Save\") }}</span>\r\n        </div>\r\n        <div class='add-couent' style='margin-top: 1.1rem'>\r\n            <ul class='add-couent-ul'>\r\n                <li class='add-couent-ul-item'>\r\n                    <span class='zileft'>{{ $t(\"Receiver\") }}</span>\r\n                    <!-- <el-input class='input' v-model=\"getPer\" placeholder=\"\"></el-input> -->\r\n                    <input style='margin-left: .4rem' class='bigInp' v-model=\"getPer\" placeholder=\"\" :maxlength = 'Max' />\r\n                </li>\r\n                <li class='add-couent-ul-item'>\r\n                    <span class='zileft'>{{ $t(\"Mobile\") }}</span>\r\n                    <input class='bigInp' v-model.number=\"phone\" placeholder=\"\" type='number' oninput = 'oninput' />\r\n                </li>\r\n                <li class='add-couent-ul-item' style='position: relative;'>\r\n                    <span class='zileft'>{{ $t(\"Area\") }}</span>\r\n                    <el-cascader\r\n                    class='citySelect'\r\n                   :options=\"cityListNew\"\r\n                    :clearable=\"clear\"\r\n                    v-model=\"cityCodeList\"\r\n                    :props=\"{ expandTrigger: 'hover' }\"\r\n                    :placeholder='$t(\"Select\")' \r\n                    @change=\"handleChange\"></el-cascader>\r\n                </li>\r\n                <li class='add-couent-ul-item' style='border:0;height: 1.4rem'>\r\n                    <span class='zileft'>{{ $t(\"DetailAddress\") }}</span>\r\n                    <el-input style='' type=\"textarea\" :autosize=\"{ minRows: 2, maxRows: 2}\" class='input' v-model=\"detailAdd\" :placeholder='$t(\"AddressPlaceholder\")'></el-input>\r\n                </li>\r\n            </ul>\r\n            \r\n            <div class=\"sure\">\r\n                <span>{{ $t(\"DefaultAddress\") }}</span>\r\n                <el-switch\r\n                    v-model=\"value2\"\r\n                    @change='changes'\r\n                    active-color=\"#34c759\"\r\n                    inactive-color=\"#bfbfbf\">\r\n                </el-switch>    \r\n            </div>\r\n\r\n            \r\n        </div>\r\n    </main>\r\n</template>\r\n\r\n<script>\r\n    import back from \"@/components/Botton/back.vue\";\r\n    import newcityPinyin from '@/utils/cityPinyin.js';\r\n    import newCity from '@/utils/city.js';\r\n    import {\r\n        apiAddEditMemAddress\r\n    } from '@/api/User.js'\r\n    import {\r\n        mapActions,\r\n        mapGetters,\r\n        mapMutations\r\n    } from 'vuex'\r\n    import Vue from 'vue';\r\n    import {\r\n        Area,\r\n        Toast\r\n    } from 'vant';\r\n\r\n    Vue.use(Area).use(Toast);\r\n    export default {\r\n        components: {\r\n            back\r\n        },\r\n        data() {\r\n            return {\r\n                clear: true,\r\n                getPer: '',\r\n                phone: '',\r\n                address: '',\r\n                detailAdd: '',\r\n                value2: true,\r\n                isDefault: 0,\r\n                //省市区\r\n                cityListNew: \"\",\r\n                cityCodeList: [],\r\n                Max: 4,\r\n                lang: \"\",\r\n            }\r\n        },\r\n        watch: {\r\n\r\n        },\r\n        created() {\r\n            this.lang = JSON.parse(localStorage.getItem(\"lang\")).tag;\r\n            this.lang == \"en-US\" ? this.cityListNew = newcityPinyin : this.cityListNew = newCity;\r\n        },\r\n        mounted() {\r\n            // console.log(newCityPinyin)\r\n            // console.log(newCity)\r\n            // console.log(JSON.stringify(newCity))\r\n\r\n        },\r\n        methods: {\r\n            oninput(val) {\r\n\r\n            },\r\n            goHome() {\r\n                this.$router.push('/address')\r\n            },\r\n            //组件确定键\r\n            handleChange() {\r\n\r\n            },\r\n            //将地址code转换为地区字\r\n            easyCity() {\r\n                let easyAddress = '';\r\n                this.cityListNew.forEach((item) => {\r\n                    if (item.value == this.cityCodeList[0]) {\r\n                        //label就是字了   cityCodeList=[13,23,55]这个形式的所以要改变\r\n                        easyAddress += item.label;\r\n                        item.children.forEach((jtem) => {\r\n                            if (jtem.value == this.cityCodeList[1]) {\r\n                                easyAddress += jtem.label\r\n                            }\r\n                            jtem.children.forEach((ktem) => {\r\n                                if (ktem.value == this.cityCodeList[2]) {\r\n                                    easyAddress += ktem.label\r\n                                }\r\n                            })\r\n                        })\r\n                    }\r\n                })\r\n                this.address = easyAddress\r\n            },\r\n\r\n            goBack() {\r\n                this.$router.go(-1);\r\n            },\r\n            changes() {\r\n                if (this.value2) {\r\n                    return 1\r\n                } else {\r\n                    return 0\r\n                }\r\n            },\r\n            addAddress() {\r\n                // 判断手机号是否合法\r\n                this.easyCity()\r\n                let isMo = 0\r\n                if (this.value2) {\r\n                    isMo = 1\r\n                } else {\r\n                    isMo = 0\r\n                }\r\n\r\n                let data = {\r\n                    AId: '',\r\n                    UId: '',\r\n                    UName: this.getPer,\r\n                    UPhoneNumber: this.phone,\r\n                    URedeemAddress: this.address + this.detailAdd,\r\n                    IdentityCard: '123123',\r\n                    CreateTime: new Date(),\r\n                    IsDefault: isMo,\r\n                }\r\n                if (data.UName == '' || data.UPhoneNumber == '' || data.URedeemAddress == '') {\r\n                    const m = this.$message({\r\n                        message: this.$t(\"CompleteAddressInformation\"),\r\n                        type: \"warning\",\r\n                        duration: 1000\r\n                    });\r\n                    setTimeout(() => m.close(), 1200)\r\n                } else {\r\n                    apiAddEditMemAddress(data, true).then(res => {\r\n                        if (res.Data == 1) {\r\n                            const m = this.$message({\r\n                                message: this.$t(\"SavedSuccessfully\"),\r\n                                type: \"success\",\r\n                                duration: 1000\r\n                            });\r\n                            setTimeout(() => m.close(), 1200)\r\n                            this.$router.replace('/address')\r\n                            this.$router.go(-1)\r\n                        } else {\r\n                            const m = this.$message({\r\n                                message: this.$t(\"successfullyDeleted\"),\r\n                                type: \"error\",\r\n                                duration: 1000\r\n                            });\r\n                            setTimeout(() => m.close(), 1200)\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n    .el-cascader {\r\n        width: 3rem\r\n    }\r\n    \r\n    .citySelect .el-input__inner {\r\n        cursor: pointer;\r\n        border: 0;\r\n        margin-left: .2rem;\r\n        width: 4rem;\r\n        background: rgba(0, 0, 0, 0);\r\n        font-size: .23rem;\r\n        vertical-align: middle;\r\n        /* position: absolute; */\r\n        /* top: -.06rem */\r\n    }\r\n    \r\n    .citySelect .el-input__inner::placeholder {\r\n        font-size: 0.23rem;\r\n        /* padding-top: 0.11rem; */\r\n    }\r\n    \r\n    .el-cascader-node {\r\n        padding: 0 .3rem 0 .2rem\r\n    }\r\n    \r\n    .el-input__icon {\r\n        position: absolute;\r\n        right: -6rem;\r\n        line-height: 0;\r\n        top: .05rem;\r\n    }\r\n    \r\n    .el-cascader-panel {\r\n        margin: 0 auto;\r\n        width: 100%\r\n    }\r\n    \r\n    .el-cascader-menu {\r\n        min-width: .6rem;\r\n    }\r\n    \r\n    .el-input__inner {\r\n        height: .78rem\r\n    }\r\n    \r\n    .el-textarea {\r\n        width: 0;\r\n        margin-top: 0.12rem;\r\n        height: 1.2rem\r\n    }\r\n    \r\n    .input .el-input__inner {\r\n        display: inline-block;\r\n        width: 4rem;\r\n        margin-left: .4rem;\r\n        border: 0\r\n    }\r\n    \r\n    .input .el-textarea__inner {\r\n        width: 5.6rem;\r\n        margin-left: .2rem;\r\n        border: 0;\r\n        font-size: .23rem;\r\n    }\r\n    \r\n    .van-switch__node {}\r\n    \r\n    .el-switch__core {\r\n        margin-left: 4.6rem;\r\n    }\r\n    \r\n    .el-switch__input {\r\n        width: .4rem;\r\n    }\r\n    .el-cascader__dropdown{\r\n        width: 100%;\r\n        overflow-x: scroll;\r\n    }\r\n    .el-cascader .el-input .el-input__inner {\r\n        text-overflow: clip;\r\n        width: 100%;\r\n    }\r\n    .el-cascader {\r\n        width: 85%;\r\n    }\r\n    .el-cascader-panel {\r\n        width: 100%;\r\n        overflow-x: scroll;\r\n    }\r\n    .el-cascader-menu {\r\n        min-width: max-content;\r\n    }\r\n    /* .el-cascader-menu:last-child{\r\n        min-width: .6rem;\r\n    } */\r\n    .el-cascader-node__label {\r\n        overflow: inherit;\r\n    }\r\n</style>\r\n\r\n<style scoped>\r\n    .bigInp {\r\n        height: .78rem;\r\n        margin-left: .2rem;\r\n        padding-left: .24rem;\r\n        font-size: 0.23rem;\r\n        color: #606266;\r\n        border: 0;\r\n    }\r\n</style>"],"sourceRoot":"src/views"}]}