{"remainingRequest":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\src\\views\\club\\ClubActiveBet.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\src\\views\\club\\ClubActiveBet.vue","mtime":1606980099168},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Yang\\Desktop\\新增資料夾\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Yang\\\\Desktop\\\\\\u65B0\\u589E\\u8CC7\\u6599\\u593E\\\\\\u7ADE\\u731C\\u53EF\\u6362\\u8272\\u677F\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport back from \"@/components/Botton/back.vue\";\nimport { apiGetClubGamblingBetInfo, apiClubGamblingBet } from \"@/api/ClubGamblings.js\";\nexport default {\n  components: {\n    back: back\n  },\n  data: function data() {\n    return {\n      uName: \"\",\n      clubGamblingId: \"\",\n      betObj: [],\n      playList: \"\",\n      betNum: \"\",\n      betNumSelect: [200, 500, 1000, 2000, 5000, this.$t(\"MaximumAmount\")],\n      betNumSelectIndex: undefined,\n      expectedProfit: undefined,\n      isOverMaxBetNum: false\n    };\n  },\n  watch: {\n    betNum: function betNum(num) {\n      if (num > this.betObj.MaxDeposit) {\n        var vm = this;\n        var m = vm.$message({\n          message: this.$t(\"ExceedsThMaximumAmount\"),\n          duration: 3000,\n          type: \"warning\",\n          center: true\n        });\n        setTimeout(function () {\n          return m.close();\n        }, 2000);\n        this.betNum = 0;\n        this.expectedProfit = 0;\n      } else {\n        this.expectedProfit = (this.betNum * (this.playList.OddsValue - 1)).toFixed(1);\n      }\n    }\n  },\n  created: function created() {\n    this.getBetId();\n    this.getBetInfo();\n  },\n  mounted: function mounted() {},\n  methods: {\n    // 獲取投注id 供API使用\n    getBetId: function () {\n      var _getBetId = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.uName = localStorage.getItem(\"uname\");\n                this.clubGamblingId = localStorage.getItem(\"betId\");\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getBetId() {\n        return _getBetId.apply(this, arguments);\n      }\n\n      return getBetId;\n    }(),\n    // 取得投注資訊\n    getBetInfo: function () {\n      var _getBetInfo = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var _this = this;\n\n        var data;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                data = {\n                  ClubGamblingId: this.clubGamblingId\n                };\n                _context2.next = 3;\n                return apiGetClubGamblingBetInfo(data, true).then(function (res) {\n                  if (Math.abs(res.Code) >= 600) {\n                    var vm = _this;\n                    var m = vm.$message({\n                      message: res.Message,\n                      duration: 3000,\n                      type: \"error\",\n                      center: true\n                    });\n                    setTimeout(function () {\n                      return m.close();\n                    }, 2000);\n                    return;\n                  } else {\n                    _this.betObj = res.Data;\n                    _this.playList = res.Data.PlayList[0];\n                  }\n                });\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getBetInfo() {\n        return _getBetInfo.apply(this, arguments);\n      }\n\n      return getBetInfo;\n    }(),\n    // 選擇投注金額\n    selectBetNum: function selectBetNum(num, index) {\n      this.betNum = num;\n      this.betNumSelectIndex = index; // 预计盈利\n\n      this.expectedProfit = (this.betNum * this.playList.OddsValue).toFixed(1);\n\n      if (num == \"最大金额\") {\n        this.betNum = this.betObj.MaxDeposit;\n        this.expectedProfit = (this.betNum * (this.playList.OddsValue - 1)).toFixed(1);\n      }\n    },\n    // 下注\n    bet: function bet() {\n      var _this2 = this;\n\n      if (this.betNum > this.betObj.MaxDeposit) {\n        var vm = this;\n        var m = vm.$message({\n          message: this.$t(\"betAmountNotMatch\"),\n          duration: 3000,\n          type: \"error\",\n          center: true\n        });\n        setTimeout(function () {\n          return m.close();\n        }, 2000);\n        return;\n      }\n\n      var data = {\n        UName: this.uName,\n        Amount: this.betNum,\n        ClubGamblingId: this.clubGamblingId\n      };\n      apiClubGamblingBet(data, true).then(function (res) {\n        if (Math.abs(res.Code) >= 600) {\n          var _vm = _this2;\n\n          var _m = _vm.$message({\n            message: res.Message,\n            duration: 3000,\n            type: \"error\",\n            center: true\n          });\n\n          setTimeout(function () {\n            return _m.close();\n          }, 2000);\n          return;\n        } else {\n          if (res.Data) {\n            var _vm2 = _this2;\n\n            var _m2 = _vm2.$message({\n              message: _this2.$t(\"BettingSuccess\"),\n              duration: 3000,\n              type: \"success\",\n              center: true\n            });\n\n            setTimeout(function () {\n              _m2.close();\n\n              _this2.$router.push(\"/myClub\");\n            }, 750);\n            return;\n          } else {\n            var _vm3 = _this2;\n\n            var _m3 = _vm3.$message({\n              message: res.Message,\n              duration: 3000,\n              type: \"error\",\n              center: true\n            });\n\n            setTimeout(function () {\n              return _m3.close();\n            }, 2000);\n            return;\n          }\n        }\n      });\n    }\n  }\n};",null]}