{"remainingRequest":"C:\\work\\竞猜可换色板\\node_modules\\thread-loader\\dist\\cjs.js!C:\\work\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js!C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\work\\竞猜可换色板\\src\\views\\InvitationCode.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\work\\竞猜可换色板\\src\\views\\InvitationCode.vue","mtime":1605257906552},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\竞猜可换色板\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* eslint-disable */\nimport NavBottom from \"@/components/Main/NavBottom.vue\";\nimport { apiGetInvitationCode, apiGetUserInvitationNum, apiCheckInvitationCode } from \"@/api/InvitationCode.js\";\nimport { apiUserUseInvitationCode } from \"@/api/User.js\";\nimport { apiGetInvitationUrl, apiGetInviter } from \"@/api/InvitationCode.js\";\nimport Clipboard from \"clipboard\";\nexport default {\n  components: {\n    NavBottom: NavBottom\n  },\n  created: function created() {\n    this.lang = JSON.parse(localStorage.getItem(\"lang\")).tag;\n    this.getRender(), this.getUserinfo();\n    this.getinventurl();\n    this.checkInvitationCode();\n  },\n  data: function data() {\n    return {\n      lang: \"\",\n      InvitationCodeId: \"\",\n      friendcode: \"\",\n      InvitationNum: 0,\n      codeUrl: \"\",\n      inviter: \"\",\n      IsInvit: \"\"\n    };\n  },\n  methods: {\n    //是否被邀请\n    checkInvitationCode: function checkInvitationCode() {\n      var _this = this;\n\n      apiCheckInvitationCode(\"\", true).then(function (res) {\n        _this.IsInvit = !res.InvitationNum.IsSuccess;\n        _this.inviter = res.InvitationNum.data;\n      });\n    },\n    //邀请者\n    GetInviter: function GetInviter() {\n      var _this2 = this;\n\n      apiGetInviter(\"\", true).then(function (res) {\n        _this2.inviter = res.UId;\n      });\n    },\n    //获取邀请链接\n    getinventurl: function getinventurl() {\n      var _this3 = this;\n\n      apiGetInvitationUrl(\"\", true).then(function (res) {\n        _this3.codeUrl = res.data;\n      });\n    },\n    gotinventurl: function gotinventurl() {\n      var _this4 = this;\n\n      var clipboard = new Clipboard(\".tag-read1\");\n      clipboard.on(\"success\", function (e) {\n        // this.$toast.success({\n        //   message: \"邀请链接复制成功\",\n        //   duration: 3000\n        // });\n        _this4.$message({\n          message: _this4.$t('InvitationlinkCopiedSuccessfully'),\n          // 【 邀请链接复制成功 】\n          duration: 3000,\n          type: \"success\",\n          center: true\n        }); // success(\"复制成功\");//这里你如果引入了elementui的提示就可以用，没有就注释即可\n        // 释放内存\n\n\n        clipboard.destroy();\n      });\n      clipboard.on(\"error\", function (e) {\n        // 不支持复制\n        // 释放内存\n        clipboard.destroy();\n      });\n    },\n    getRender: function getRender() {\n      var _this5 = this;\n\n      var data = \"\";\n      apiGetInvitationCode(data, true).then(function (res) {\n        _this5.InvitationCodeId = _this5.$t('MyInvitationCode') + \" : \" + res.InvitationCodeId; // 【 我的邀请码 】\n      });\n    },\n    getUserinfo: function getUserinfo() {\n      var _this6 = this;\n\n      var data = \"\";\n      apiGetUserInvitationNum(data, true).then(function (res) {\n        _this6.InvitationNum = res.InvitationNum;\n      });\n    },\n    //文本复制\n    copy: function copy() {\n      var _this7 = this;\n\n      var clipboard = new Clipboard(\".tag-read\");\n      clipboard.on(\"success\", function (e) {\n        _this7.$message({\n          message: _this7.$t('CopySuccessful'),\n          // 【 复制成功 】\n          duration: 3000,\n          type: \"success\",\n          center: true\n        }); // success(\"复制成功\");//这里你如果引入了elementui的提示就可以用，没有就注释即可\n        // 释放内存\n\n\n        clipboard.destroy();\n      });\n      clipboard.on(\"error\", function (e) {\n        // 不支持复制\n        // 释放内存\n        clipboard.destroy();\n      });\n    },\n    goInvet: function goInvet() {\n      var _this8 = this;\n\n      var data = {\n        invitationCodeId: this.inviter\n      };\n      apiUserUseInvitationCode(data, true).then(function (res) {\n        if (res.Code === 200) {\n          _this8.$message({\n            message: res.Message,\n            duration: 3000,\n            type: \"success\",\n            center: true\n          });\n\n          localStorage.setItem(\"IsInvit\", true);\n          _this8.IsInvit = true;\n        } else if (res.Code == 600) {\n          _this8.$message({\n            message: res.Message,\n            duration: 3000,\n            type: \"error\",\n            center: true\n          });\n        } // else if (res.code == 300) {\n        //   this.$toast.fail({\n        //     message: res.Message,\n        //     duration: 3000\n        //   });\n        // }\n\n      });\n    }\n  }\n};",null]}