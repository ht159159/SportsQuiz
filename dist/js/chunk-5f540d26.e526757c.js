(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f540d26"],{ab47:function(t,s,i){"use strict";i.r(s);var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("main",{ref:"cont",staticClass:"questionnaire",staticStyle:{"-webkit-overflow-scrolling":"touch"}},[i("div",{staticClass:"questionnaire-header"},[i("back",{staticClass:"back-icon img-he"}),i("h3",[t._v(t._s(t.$t("Questionnaire")))])],1),i("div",{staticClass:"title"},[i("p",{staticClass:"title-big",staticStyle:{"text-align":"center"}},[t._v(t._s(t.questionList.Questionnaire))])]),i("div",{staticClass:"questionnaire-content"},[t._l(t.questionList.questionnaires,(function(s,e){return i("div",{staticClass:"questionnaire-wrap"},[0===s.IsChooseMore&&0===s.Type?i("div",[i("div",{staticClass:"questionnaire-topic"},[t._v("\n          "+t._s(e+1+"."+s.Title)+" (\n          "),i("span",{staticClass:"questionnaire-style"},[t._v(t._s(t.$t("Radio")))]),t._v(" )\n        ")]),i("el-checkbox-group",{model:{value:t.newQuestionList[e],callback:function(s){t.$set(t.newQuestionList,e,s)},expression:"newQuestionList[i]"}},t._l(s.questionnaireAnswers,(function(s,n){return i("el-checkbox",{attrs:{label:s.Id},on:{change:function(s){return t.bindCheckBox(e,n,s)}}},[t._v(t._s(s.AnswerTxt))])})),1)],1):t._e(),1===s.IsChooseMore&&0===s.Type?i("div",[i("div",{staticClass:"questionnaire-topic"},[t._v("\n          "+t._s(e+1+"."+s.Title)+"(\n          "),i("span",{staticClass:"questionnaire-style"},[t._v(t._s(t.$t("MultipleChoice")))]),t._v(" )\n        ")]),i("el-checkbox-group",{model:{value:t.newQuestionList[e],callback:function(s){t.$set(t.newQuestionList,e,s)},expression:"newQuestionList[i]"}},t._l(s.questionnaireAnswers,(function(s,n){return i("el-checkbox",{attrs:{label:s.Id},on:{change:function(s){return t.bindCheckBox(e,n,s)}}},[t._v(t._s(s.AnswerTxt))])})),1)],1):t._e(),1===s.Type?i("div",{staticClass:"suggestion-wrap"},[i("div",{staticClass:"questionnaire-topic"},[t._v(t._s(e+1+"."+t.$t("YourSuggestion")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.textContent,expression:"textContent"}],staticClass:"textarea",attrs:{cols:"50",rows:"5",maxlength:"50",placeholder:t.$t("PleaseEnter")},domProps:{value:t.textContent},on:{input:[function(s){s.target.composing||(t.textContent=s.target.value)},function(s){return t.textcontrol(e)}]}}),i("span",{staticClass:"text-len"},[t._v(t._s(t.textLen+"/50"))])]):t._e()])})),i("div",{staticClass:"submit",attrs:{type:"submit"},on:{click:function(s){return t.submit()}}},[t._v(t._s(t.$t("Submit")))])],2)])},n=[],o=(i("28a5"),i("96cf"),i("3b8d")),r=i("f6ae"),a="/Questionnaire";function u(t,s){return Object(r["b"])(a+"/AddQuestionnaireFeedback",t,s)}function c(t,s){return Object(r["a"])(a+"/GetQuestionnaireAndQAList",t,s)}var h=i("cc22"),l={components:{back:h["a"]},data:function(){return{questionListData:{id:0,index:1,count:10},questionList:[],newQuestionList:[],textContent:"",textLen:0,questionIndex:0,uid:"",submitData:[],answerIdList:[],contentStrList:[]}},created:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.uid=localStorage.getItem("UId"),t.next=3,c(this.questionListData,!0).then((function(t){s.questionList=t,s.newQuestionListAry()}));case 3:case"end":return t.stop()}}),t,this)})));function s(){return t.apply(this,arguments)}return s}(),methods:{newQuestionListAry:function(){for(var t=0;t<this.questionList.questionnaires.length;t++)this.newQuestionList.push([]),1==this.questionList.questionnaires[t].IsChooseMore?this.contentStrList.push([]):this.contentStrList.push(""),1==this.questionList.questionnaires[t].IsChooseMore?this.answerIdList.push([]):this.answerIdList.push("")},bindCheckBox:function(t,s,i){if(this.questionIndex=t,0===this.questionList.questionnaires[t].IsChooseMore&&(!0===i?(this.submitData[t]={Id:0,Uid:this.uid,QuestionnaireId:this.questionList.Id,QuestionId:this.questionList.questionnaires[t].Id,AnswerId:this.questionList.questionnaires[t].questionnaireAnswers[s].Id,ContentStr:this.questionList.questionnaires[t].questionnaireAnswers[s].AnswerTxt},this.newQuestionList[t].length>1&&this.newQuestionList[t].splice(0,1)):this.submitData[t]=""),1===this.questionList.questionnaires[t].IsChooseMore){var e="",n="";e=String(this.questionList.questionnaires[t].questionnaireAnswers[s].Id),n=this.questionList.questionnaires[t].questionnaireAnswers[s].AnswerTxt,!0===i?("string"===typeof this.contentStrList[t]?(this.contentStrList[t]=this.contentStrList[t].split(","),this.contentStrList[t].push(n),this.contentStrList[t]=this.contentStrList[t].join(",")):(this.contentStrList[t].push(n),this.contentStrList[t]=this.contentStrList[t].join(",")),"string"===typeof this.answerIdList[t]?(this.answerIdList[t]=this.answerIdList[t].split(","),this.answerIdList[t].push(e),this.answerIdList[t]=this.answerIdList[t].join(",")):(this.answerIdList[t].push(e),this.answerIdList[t]=this.answerIdList[t].join(","))):("string"===typeof this.contentStrList[t]&&(this.contentStrList[t]=this.contentStrList[t].split(","),this.contentStrList[t].indexOf(n)>=0&&(this.contentStrList[t].splice(this.contentStrList[t].indexOf(n),1),this.contentStrList[t].length>0&&(this.contentStrList[t]=this.contentStrList[t].join(",")))),"string"===typeof this.answerIdList[t]&&(this.answerIdList[t]=this.answerIdList[t].split(","),this.answerIdList[t].indexOf(e)>=0&&(this.answerIdList[t].splice(this.answerIdList[t].indexOf(e),1),this.answerIdList[t].length>0&&(this.answerIdList[t]=this.answerIdList[t].join(","))))),this.submitData[t]={Id:0,Uid:this.uid,QuestionnaireId:this.questionList.Id,QuestionId:this.questionList.questionnaires[t].Id,AnswerId:this.answerIdList[t],ContentStr:this.contentStrList[t]},""==this.submitData[t].AnswerId&&(this.submitData[t]="")}},textcontrol:function(t){var s=this.textContent.length;this.textLen=s,this.submitData[t]={Id:0,Uid:this.uid,QuestionnaireId:this.questionList.Id,QuestionId:this.questionList.questionnaires[t].Id,AnswerId:"",ContentStr:this.textContent}},submit:function(){var t,s=this,i=new Promise((function(t,i){for(var e=0;e<s.newQuestionList.length;e++)if(void 0==s.submitData[e]||""==s.submitData[e])return void s.$message({message:s.$t("FillAnswer"),type:"error",center:!0,duration:1200});t()}));i.then((function(){t=s.submitData,u(t,!0).then((function(t){var i=new Promise((function(i,e){Math.abs(t.Code)>=600?s.$message({message:t.Message,type:"warning",center:!0,duration:1800}):s.$message({message:s.$t("SubmittedSuccessfully"),type:"success",center:!0,duration:1800}),i()}));i.then((function(){history.back()}))}))}))}}},d=l,L=i("2877"),p=Object(L["a"])(d,e,n,!1,null,null,null);s["default"]=p.exports},cc22:function(t,s,i){"use strict";var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("i",{staticClass:"back-icon",on:{click:t.gojump}})},n=[],o={methods:{gojump:function(){"/myClub"!=this.$route.path?"/myself"!=this.$route.path?"/ClubActivities"!=this.$route.path?(this.$router.goBack(),this.$store.commit("upBack")):this.$router.push("/myClub"):this.$router.push("/"):this.$router.push("/myself")}}},r=o,a=i("2877"),u=Object(a["a"])(r,e,n,!1,null,null,null);s["a"]=u.exports}}]);