(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e1920c4c"],{3846:function(t,e,a){a("9e1e")&&"g"!=/./g.flags&&a("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:a("0bfb")})},4268:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",{staticClass:"createClubSet"},[s("div",{staticClass:"createClubRule-header",staticStyle:{position:"fixed",top:"0"}},[s("back",{staticClass:"back-icon img-he"}),s("h3",[t._v(t._s(t.$t("CreateClub")))])],1),s("div",{staticClass:"club-Box"},[s("div",{staticClass:"createSet"},[s("div",{staticClass:"setField"},[s("div",{staticClass:"title"},[s("div",{staticClass:"title-list"}),s("p",[t._v("\n            "+t._s(t.$t("FillYourClub"))+"\n            "),s("span",{staticClass:"required"},[t._v("*")])])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.clubName,expression:"clubName"}],staticClass:"setInformation",attrs:{type:"text"},domProps:{value:t.clubName},on:{input:function(e){e.target.composing||(t.clubName=e.target.value)}}})]),s("div",{staticClass:"setField"},[s("div",{staticClass:"title"},[s("div",{staticClass:"title-list"}),s("p",[t._v("\n            "+t._s(t.$t("FillYourClubSlogan"))+"\n            "),s("span",{staticClass:"required"},[t._v("*")])])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.clubSlogan,expression:"clubSlogan"}],staticClass:"setInformation",attrs:{type:"text"},domProps:{value:t.clubSlogan},on:{input:function(e){e.target.composing||(t.clubSlogan=e.target.value)}}})]),s("div",{staticClass:"setField"},[s("div",{staticClass:"title"},[s("div",{staticClass:"title-list"}),s("p",[t._v("\n            "+t._s(t.$t("FillYourFavoriteEvent"))+"\n            "),s("span",{staticClass:"multipleChoice"},[t._v("("+t._s(t.$t("MultipleChoice"))+")")])])]),s("swiper",{ref:"mySwiper",attrs:{options:t.swiperOptions}},[t._l(t.matchsList,(function(e,i){return s("swiper-slide",{key:i},[s("el-checkbox-group",{model:{value:t.checkList,callback:function(e){t.checkList=e},expression:"checkList"}},[t.matchsList[i].length<1?s("div",{staticClass:"push",staticStyle:{"font-size":".24rem","text-align":"center","line-height":".48rem"}},[t._v(t._s(t.$t("WipeLoading")))]):t._e(),t._l(e,(function(e,i){return s("el-checkbox",{key:i,staticClass:"chooseRace",attrs:{label:e.MatchId}},[e.MatchImg?s("img",{staticClass:"race",attrs:{src:e.MatchImg}}):s("img",{staticClass:"sport-main-collapse-img",attrs:{src:a("4b29"),alt:""}}),s("p",[t._v(t._s(e.MatchName))])])}))],2)],1)})),s("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1),s("div",{staticClass:"setField"},[s("div",{staticClass:"title"},[s("div",{staticClass:"title-list"}),s("p",[t._v("\n            "+t._s(t.$t("UploadYourClubLogo"))+"\n            "),s("span",{staticClass:"required"},[t._v("*")])])]),s("div",{staticClass:"uploadRulesBox"},[s("div",{staticClass:"uploadRules"},[s("div",{staticClass:"uploadRulesNumber"},[t._v("1")]),s("div",{staticClass:"uploadRulesContent"},[t._v(t._s(t.$t("ClubLOGOuploadRules")))])])]),s("div",{staticClass:"uploadImg"},[t.upImg?t._e():s("div",{staticClass:"uploadIcon"}),t.upImg?t._e():s("div",{staticClass:"uploadContent"},[t._v(t._s(t.$t("AddPictures")))]),t.upImg?t._e():s("div",{staticClass:"uploadContent"},[t._v(t._s(t.$t("RecommendedImageSize")))]),s("img",{attrs:{id:"demo",alt:""}}),s("input",{staticClass:"imgInput",attrs:{type:"file",name:"saveFile"},on:{change:function(e){return t.tirggerFile(e)}}})])])])]),s("button",{staticClass:"changeBtn",on:{click:t.creat}},[t._v(t._s(t.$t("ConfirmSubmission")))])])},i=[],l=(a("34ef"),a("28a5"),a("7f7f"),a("6b54"),a("cc22")),n=a("4113"),c=a("a5c1"),o=a("7212"),r=(a("a7a3"),{components:{back:l["a"],swiper:o["swiper"],swiperSlide:o["swiperSlide"]},directives:{swiper:o["directive"]},data:function(){return{noMission:!1,checkList:[],matchsList:[],busy:!1,loading:!1,push:!0,IndexNum:1,noMore:!1,clubName:"",clubSlogan:"",upImg:!1,getClubMatchsData:{matchTypeId:2,index:1,count:8,havaPlay:!0,matchItemTypeId:-1},totalPages:"",swiperOptions:{pagination:{el:".swiper-pagination",dynamicBullets:!0}}}},created:function(){},computed:{swiper:function(){return this.$refs.mySwiper.swiper}},mounted:function(){var t=this;Object(n["i"])(this.getClubMatchsData,!0).then((function(e){t.totalPages=e.Data.TotalPages;for(var a=0;e.Data.TotalPages>a;a++)t.matchsList.push([]);for(var s=0;e.Data.Data.length>s;s++)t.matchsList[t.swiper.activeIndex].push(e.Data.Data[s]);t.getClubMatchsData.index++})),this.swiper.on("slideChange",(function(){t.getClubMatchsData.index>t.totalPages||t.onLoad(t.swiper.activeIndex)}))},methods:{creat:function(){var t=this;if(""==this.clubName)this.$message({message:this.$t("FillYourClub"),type:"error",center:!0,duration:1200});else if(""==this.clubSlogan)this.$message({message:this.$t("FillYourClubSlogan"),type:"error",center:!0,duration:1200});else if(""==this.checkList.toString())this.$message({message:this.$t("FillYourFavoriteEvent"),type:"error",center:!0,duration:1200});else if(""==localStorage.getItem("imgName"))this.$message({message:this.$t("UploadYourClubLogo"),type:"error",center:!0,duration:1200});else{var e={ClubName:this.clubName,SloganLabel:this.clubSlogan,MatchId:this.checkList.toString()+",",ClubImg:localStorage.getItem("imgName"),UName:localStorage.getItem("uname")};Object(c["t"])(e,!0).then((function(e){e.Success?(t.$message({message:e.Message,type:"success",center:!0,duration:1200}),t.$router.push("/Myself")):t.$message({message:e.Message,type:"error",center:!0,duration:1200})}))}},onLoad:function(t){var e=this;Object(n["i"])(this.getClubMatchsData,!0).then((function(a){for(var s=0;a.Data.Data.length>s;s++)e.matchsList[t].push(a.Data.Data[s]);e.getClubMatchsData.index++}))},tirggerFile:function(t){var e=t.target.files[0],a=e.size,s=new FormData;s.append("file",e,e.name),s.append("type","1"),t.target.files.length&&(a/1024>1e4?this.$message({message:this.$t("PictureIsTooBig"),type:"warning",center:!0,duration:1200}):this.imgPreview(e))},imgPreview:function(t,e){var a=this,s={headers:{"Content-Type":"multipart/form-data"},contentType:!1,processData:!1};if(t&&window.FileReader){var i=new FileReader;i.readAsDataURL(t),i.onloadend=function(){var e=this.result,i=new Image;i.src=e,i.onload=function(){var l=a.compress(i);a.imgUrl=e;var n=a.dataURItoBlob(l),o=new FormData;o.append("file",n,t.name),o.append("type","club"),Object(c["c"])(o,s).then((function(s){s.Success?(a.$message({message:a.$t("UploadSuccessfully"),type:"success",center:!0,duration:1200}),a.upImg=!0,document.querySelector("#demo").setAttribute("src",e),localStorage.setItem("imgName",t.name)):a.$message({message:a.$t("UploadFailed"),type:"error",center:!0,duration:1200})}))}}}},compress:function(t){var e=document.createElement("canvas"),a=e.getContext("2d"),s=t.width,i=t.height;e.width=s,e.height=i,a.fillStyle="#fff",a.fillRect(0,0,e.width,e.height),a.drawImage(t,0,0,s,i);var l=e.toDataURL("image/jpeg",.1);return l},dataURItoBlob:function(t){var e;e=t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):unescape(t.split(",")[1]);for(var a=t.split(",")[0].split(":")[1].split(";")[0],s=new Uint8Array(e.length),i=0;i<e.length;i++)s[i]=e.charCodeAt(i);return new Blob([s],{type:a})}},destroyed:function(){localStorage.setItem("imgName","")}}),u=r,p=a("2877"),d=Object(p["a"])(u,s,i,!1,null,null,null);e["default"]=d.exports},"6b54":function(t,e,a){"use strict";a("3846");var s=a("cb7c"),i=a("0bfb"),l=a("9e1e"),n="toString",c=/./[n],o=function(t){a("2aba")(RegExp.prototype,n,t,!0)};a("79e5")((function(){return"/a/b"!=c.call({source:"a",flags:"b"})}))?o((function(){var t=s(this);return"/".concat(t.source,"/","flags"in t?t.flags:!l&&t instanceof RegExp?i.call(t):void 0)})):c.name!=n&&o((function(){return c.call(this)}))}}]);